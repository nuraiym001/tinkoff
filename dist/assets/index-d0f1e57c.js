(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var BE={exports:{}},hf={},zE={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),yx=Symbol.for("react.portal"),vx=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),Ex=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),_x=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),Ix=Symbol.for("react.suspense"),Cx=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),Xv=Symbol.iterator;function kx(t){return t===null||typeof t!="object"?null:(t=Xv&&t[Xv]||t["@@iterator"],typeof t=="function"?t:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WE=Object.assign,qE={};function wo(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||HE}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KE(){}KE.prototype=wo.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||HE}var lg=ag.prototype=new KE;lg.constructor=ag;WE(lg,wo.prototype);lg.isPureReactComponent=!0;var Jv=Array.isArray,GE=Object.prototype.hasOwnProperty,ug={current:null},YE={key:!0,ref:!0,__self:!0,__source:!0};function QE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GE.call(e,r)&&!YE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wl,type:t,key:s,ref:o,props:i,_owner:ug.current}}function xx(t,e){return{$$typeof:wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===wl}function Ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zv=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ox(""+t.key):e.toString(36)}function Pu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wl:case yx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qh(o,0):r,Jv(i)?(n="",t!=null&&(n=t.replace(Zv,"$&/")+"/"),Pu(i,e,n,"",function(u){return u})):i!=null&&(cg(i)&&(i=xx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Jv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qh(s,a);o+=Pu(s,e,n,l,i)}else if(l=kx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qh(s,a++),o+=Pu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tu(t,e,n){if(t==null)return t;var r=[],i=0;return Pu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Px(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Ru={transition:null},Rx={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:ug};ge.Children={map:tu,forEach:function(t,e,n){tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tu(t,function(){e++}),e},toArray:function(t){return tu(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=wo;ge.Fragment=vx;ge.Profiler=Ex;ge.PureComponent=ag;ge.StrictMode=wx;ge.Suspense=Ix;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ug.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GE.call(e,l)&&!YE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wl,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:_x,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sx,_context:t},t.Consumer=t};ge.createElement=QE;ge.createFactory=function(t){var e=QE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:Tx,render:t}};ge.isValidElement=cg;ge.lazy=function(t){return{$$typeof:bx,_payload:{_status:-1,_result:t},_init:Px}};ge.memo=function(t,e){return{$$typeof:Cx,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Ru.transition;Ru.transition={};try{t()}finally{Ru.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ge.useContext=function(t){return Qt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ge.useId=function(){return Qt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ge.useRef=function(t){return Qt.current.useRef(t)};ge.useState=function(t){return Qt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Qt.current.useTransition()};ge.version="18.2.0";zE.exports=ge;var A=zE.exports;const Ye=og(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=A,Ax=Symbol.for("react.element"),Dx=Symbol.for("react.fragment"),Lx=Object.prototype.hasOwnProperty,$x=Nx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mx={key:!0,ref:!0,__self:!0,__source:!0};function XE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Lx.call(e,r)&&!Mx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ax,type:t,key:s,ref:o,props:i,_owner:$x.current}}hf.Fragment=Dx;hf.jsx=XE;hf.jsxs=XE;BE.exports=hf;var v=BE.exports,op={},JE={exports:{}},hn={},ZE={exports:{}},eS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,O){var R=_.length;_.push(O);e:for(;0<R;){var D=R-1>>>1,F=_[D];if(0<i(F,O))_[D]=O,_[R]=F,R=D;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var O=_[0],R=_.pop();if(R!==O){_[0]=R;e:for(var D=0,F=_.length,oe=F>>>1;D<oe;){var ne=2*(D+1)-1,se=_[ne],de=ne+1,Te=_[de];if(0>i(se,R))de<F&&0>i(Te,se)?(_[D]=Te,_[de]=R,D=de):(_[D]=se,_[ne]=R,D=ne);else if(de<F&&0>i(Te,R))_[D]=Te,_[de]=R,D=de;else break e}}return O}function i(_,O){var R=_.sortIndex-O.sortIndex;return R!==0?R:_.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=_)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function k(_){if(w=!1,y(_),!m)if(n(l)!==null)m=!0,Y(I);else{var O=n(u);O!==null&&j(k,O.startTime-_)}}function I(_,O){m=!1,w&&(w=!1,g(C),C=-1),p=!0;var R=h;try{for(y(O),f=n(l);f!==null&&(!(f.expirationTime>O)||_&&!W());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var F=D(f.expirationTime<=O);O=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),y(O)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var ne=n(u);ne!==null&&j(k,ne.startTime-O),oe=!1}return oe}finally{f=null,h=R,p=!1}}var T=!1,S=null,C=-1,b=5,E=-1;function W(){return!(t.unstable_now()-E<b)}function Z(){if(S!==null){var _=t.unstable_now();E=_;var O=!0;try{O=S(!0,_)}finally{O?z():(T=!1,S=null)}}else T=!1}var z;if(typeof d=="function")z=function(){d(Z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=Z,z=function(){M.postMessage(null)}}else z=function(){x(Z,0)};function Y(_){S=_,T||(T=!0,z())}function j(_,O){C=x(function(){_(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Y(I))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var R=h;h=O;try{return _()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var R=h;h=_;try{return O()}finally{h=R}},t.unstable_scheduleCallback=function(_,O,R){var D=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?D+R:D):R=D,_){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=R+F,_={id:c++,callback:O,priorityLevel:_,startTime:R,expirationTime:F,sortIndex:-1},R>D?(_.sortIndex=R,e(u,_),n(l)===null&&_===n(u)&&(w?(g(C),C=-1):w=!0,j(k,R-D))):(_.sortIndex=F,e(l,_),m||p||(m=!0,Y(I))),_},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(_){var O=h;return function(){var R=h;h=O;try{return _.apply(this,arguments)}finally{h=R}}}})(eS);ZE.exports=eS;var jx=ZE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=A,un=jx;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nS=new Set,xa={};function ss(t,e){Qs(t,e),Qs(t+"Capture",e)}function Qs(t,e){for(xa[t]=e,t=0;t<e.length;t++)nS.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ap=Object.prototype.hasOwnProperty,Ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e0={},t0={};function Fx(t){return ap.call(t0,t)?!0:ap.call(e0,t)?!1:Ux.test(t)?t0[t]=!0:(e0[t]=!0,!1)}function Vx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bx(t,e,n,r){if(e===null||typeof e>"u"||Vx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fg,hg);Tt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fg,hg);Tt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fg,hg);Tt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function dg(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bx(e,n,i,r)&&(n=null),r||i===null?Fx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),iS=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),sS=Symbol.for("react.offscreen"),n0=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=n0&&t[n0]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Kh;function Jo(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Gh=!1;function Yh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function zx(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Es:return"Portal";case lp:return"Profiler";case pg:return"StrictMode";case up:return"Suspense";case cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iS:return(t.displayName||"Context")+".Consumer";case rS:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function Hx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wx(t){var e=oS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ru(t){t._valueTracker||(t._valueTracker=Wx(t))}function aS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hp(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function r0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lS(t,e){e=e.checked,e!=null&&dg(t,"checked",e,!1)}function dp(t,e){lS(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pp(t,e.type,n):e.hasOwnProperty("defaultValue")&&pp(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pp(t,e,n){(e!=="number"||rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zo=Array.isArray;function As(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function s0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Zo(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function uS(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function o0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iu,fS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qx=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){qx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function hS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function dS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kx=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yp(t,e){if(e){if(Kx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ep=null,Ds=null,Ls=null;function a0(t){if(t=_l(t)){if(typeof Ep!="function")throw Error(H(280));var e=t.stateNode;e&&(e=yf(e),Ep(t.stateNode,t.type,e))}}function pS(t){Ds?Ls?Ls.push(t):Ls=[t]:Ds=t}function mS(){if(Ds){var t=Ds,e=Ls;if(Ls=Ds=null,a0(t),e)for(t=0;t<e.length;t++)a0(e[t])}}function gS(t,e){return t(e)}function yS(){}var Qh=!1;function vS(t,e,n){if(Qh)return t(e,n);Qh=!0;try{return gS(t,e,n)}finally{Qh=!1,(Ds!==null||Ls!==null)&&(yS(),mS())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Sp=!1;if(gr)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Sp=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Sp=!1}function Gx(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ha=!1,ic=null,sc=!1,_p=null,Yx={onError:function(t){ha=!0,ic=t}};function Qx(t,e,n,r,i,s,o,a,l){ha=!1,ic=null,Gx.apply(Yx,arguments)}function Xx(t,e,n,r,i,s,o,a,l){if(Qx.apply(this,arguments),ha){if(ha){var u=ic;ha=!1,ic=null}else throw Error(H(198));sc||(sc=!0,_p=u)}}function os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l0(t){if(os(t)!==t)throw Error(H(188))}function Jx(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return l0(i),t;if(s===r)return l0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function ES(t){return t=Jx(t),t!==null?SS(t):null}function SS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SS(t);if(e!==null)return e;t=t.sibling}return null}var _S=un.unstable_scheduleCallback,u0=un.unstable_cancelCallback,Zx=un.unstable_shouldYield,eO=un.unstable_requestPaint,Xe=un.unstable_now,tO=un.unstable_getCurrentPriorityLevel,vg=un.unstable_ImmediatePriority,TS=un.unstable_UserBlockingPriority,oc=un.unstable_NormalPriority,nO=un.unstable_LowPriority,IS=un.unstable_IdlePriority,df=null,Gn=null;function rO(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(df,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:oO,iO=Math.log,sO=Math.LN2;function oO(t){return t>>>=0,t===0?32:31-(iO(t)/sO|0)|0}var su=64,ou=4194304;function ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ea(a):(s&=o,s!==0&&(r=ea(s)))}else o=n&~i,o!==0?r=ea(o):s!==0&&(r=ea(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function aO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Tp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CS(){var t=su;return su<<=1,!(su&4194240)&&(su=64),t}function Xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function uO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function bS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kS,Eg,xS,OS,PS,Ip=!1,au=[],Kr=null,Gr=null,Yr=null,Ra=new Map,Na=new Map,Mr=[],cO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c0(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(e.pointerId)}}function Fo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_l(e),e!==null&&Eg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fO(t,e,n,r,i){switch(e){case"focusin":return Kr=Fo(Kr,t,e,n,r,i),!0;case"dragenter":return Gr=Fo(Gr,t,e,n,r,i),!0;case"mouseover":return Yr=Fo(Yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ra.set(s,Fo(Ra.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Na.set(s,Fo(Na.get(s)||null,t,e,n,r,i)),!0}return!1}function RS(t){var e=Pi(t.target);if(e!==null){var n=os(e);if(n!==null){if(e=n.tag,e===13){if(e=wS(n),e!==null){t.blockedOn=e,PS(t.priority,function(){xS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wp=r,n.target.dispatchEvent(r),wp=null}else return e=_l(n),e!==null&&Eg(e),t.blockedOn=n,!1;e.shift()}return!0}function f0(t,e,n){Nu(t)&&n.delete(e)}function hO(){Ip=!1,Kr!==null&&Nu(Kr)&&(Kr=null),Gr!==null&&Nu(Gr)&&(Gr=null),Yr!==null&&Nu(Yr)&&(Yr=null),Ra.forEach(f0),Na.forEach(f0)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,hO)))}function Aa(t){function e(i){return Vo(i,t)}if(0<au.length){Vo(au[0],t);for(var n=1;n<au.length;n++){var r=au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&Vo(Kr,t),Gr!==null&&Vo(Gr,t),Yr!==null&&Vo(Yr,t),Ra.forEach(e),Na.forEach(e),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)RS(n),n.blockedOn===null&&Mr.shift()}var $s=kr.ReactCurrentBatchConfig,lc=!0;function dO(t,e,n,r){var i=Ie,s=$s.transition;$s.transition=null;try{Ie=1,Sg(t,e,n,r)}finally{Ie=i,$s.transition=s}}function pO(t,e,n,r){var i=Ie,s=$s.transition;$s.transition=null;try{Ie=4,Sg(t,e,n,r)}finally{Ie=i,$s.transition=s}}function Sg(t,e,n,r){if(lc){var i=Cp(t,e,n,r);if(i===null)ad(t,e,r,uc,n),c0(t,r);else if(fO(i,t,e,n,r))r.stopPropagation();else if(c0(t,r),e&4&&-1<cO.indexOf(t)){for(;i!==null;){var s=_l(i);if(s!==null&&kS(s),s=Cp(t,e,n,r),s===null&&ad(t,e,r,uc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ad(t,e,r,null,n)}}var uc=null;function Cp(t,e,n,r){if(uc=null,t=yg(r),t=Pi(t),t!==null)if(e=os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uc=t,null}function NS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tO()){case vg:return 1;case TS:return 4;case oc:case nO:return 16;case IS:return 536870912;default:return 16}default:return 16}}var zr=null,_g=null,Au=null;function AS(){if(Au)return Au;var t,e=_g,n=e.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Au=i.slice(t,1<r?1-r:void 0)}function Du(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lu(){return!0}function h0(){return!1}function dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lu:h0,this.isPropagationStopped=h0,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tg=dn(Eo),Sl=We({},Eo,{view:0,detail:0}),mO=dn(Sl),Jh,Zh,Bo,pf=We({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bo&&(Bo&&t.type==="mousemove"?(Jh=t.screenX-Bo.screenX,Zh=t.screenY-Bo.screenY):Zh=Jh=0,Bo=t),Jh)},movementY:function(t){return"movementY"in t?t.movementY:Zh}}),d0=dn(pf),gO=We({},pf,{dataTransfer:0}),yO=dn(gO),vO=We({},Sl,{relatedTarget:0}),ed=dn(vO),wO=We({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),EO=dn(wO),SO=We({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_O=dn(SO),TO=We({},Eo,{data:0}),p0=dn(TO),IO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bO[t])?!!e[t]:!1}function Ig(){return kO}var xO=We({},Sl,{key:function(t){if(t.key){var e=IO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Du(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(t){return t.type==="keypress"?Du(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Du(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OO=dn(xO),PO=We({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m0=dn(PO),RO=We({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),NO=dn(RO),AO=We({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),DO=dn(AO),LO=We({},pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$O=dn(LO),MO=[9,13,27,32],Cg=gr&&"CompositionEvent"in window,da=null;gr&&"documentMode"in document&&(da=document.documentMode);var jO=gr&&"TextEvent"in window&&!da,DS=gr&&(!Cg||da&&8<da&&11>=da),g0=String.fromCharCode(32),y0=!1;function LS(t,e){switch(t){case"keyup":return MO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function UO(t,e){switch(t){case"compositionend":return $S(e);case"keypress":return e.which!==32?null:(y0=!0,g0);case"textInput":return t=e.data,t===g0&&y0?null:t;default:return null}}function FO(t,e){if(_s)return t==="compositionend"||!Cg&&LS(t,e)?(t=AS(),Au=_g=zr=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DS&&e.locale!=="ko"?null:e.data;default:return null}}var VO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VO[t.type]:e==="textarea"}function MS(t,e,n,r){pS(r),e=cc(e,"onChange"),0<e.length&&(n=new Tg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pa=null,Da=null;function BO(t){GS(t,0)}function mf(t){var e=Cs(t);if(aS(e))return t}function zO(t,e){if(t==="change")return e}var jS=!1;if(gr){var td;if(gr){var nd="oninput"in document;if(!nd){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),nd=typeof w0.oninput=="function"}td=nd}else td=!1;jS=td&&(!document.documentMode||9<document.documentMode)}function E0(){pa&&(pa.detachEvent("onpropertychange",US),Da=pa=null)}function US(t){if(t.propertyName==="value"&&mf(Da)){var e=[];MS(e,Da,t,yg(t)),vS(BO,e)}}function HO(t,e,n){t==="focusin"?(E0(),pa=e,Da=n,pa.attachEvent("onpropertychange",US)):t==="focusout"&&E0()}function WO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mf(Da)}function qO(t,e){if(t==="click")return mf(e)}function KO(t,e){if(t==="input"||t==="change")return mf(e)}function GO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:GO;function La(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ap.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function S0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _0(t,e){var n=S0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S0(n)}}function FS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VS(){for(var t=window,e=rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rc(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YO(t){var e=VS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FS(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_0(n,s);var o=_0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QO=gr&&"documentMode"in document&&11>=document.documentMode,Ts=null,bp=null,ma=null,kp=!1;function T0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kp||Ts==null||Ts!==rc(r)||(r=Ts,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&La(ma,r)||(ma=r,r=cc(bp,"onSelect"),0<r.length&&(e=new Tg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ts)))}function uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},rd={},BS={};gr&&(BS=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function gf(t){if(rd[t])return rd[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BS)return rd[t]=e[n];return t}var zS=gf("animationend"),HS=gf("animationiteration"),WS=gf("animationstart"),qS=gf("transitionend"),KS=new Map,I0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){KS.set(t,e),ss(e,[t])}for(var id=0;id<I0.length;id++){var sd=I0[id],XO=sd.toLowerCase(),JO=sd[0].toUpperCase()+sd.slice(1);gi(XO,"on"+JO)}gi(zS,"onAnimationEnd");gi(HS,"onAnimationIteration");gi(WS,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(qS,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function C0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Xx(r,e,void 0,t),t.currentTarget=null}function GS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;C0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;C0(i,a,u),s=l}}}if(sc)throw t=_p,sc=!1,_p=null,t}function Ae(t,e){var n=e[Np];n===void 0&&(n=e[Np]=new Set);var r=t+"__bubble";n.has(r)||(YS(e,t,2,!1),n.add(r))}function od(t,e,n){var r=0;e&&(r|=4),YS(n,t,r,e)}var cu="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[cu]){t[cu]=!0,nS.forEach(function(n){n!=="selectionchange"&&(ZO.has(n)||od(n,!1,t),od(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cu]||(e[cu]=!0,od("selectionchange",!1,e))}}function YS(t,e,n,r){switch(NS(e)){case 1:var i=dO;break;case 4:i=pO;break;default:i=Sg}n=i.bind(null,e,n,t),i=void 0,!Sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ad(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vS(function(){var u=s,c=yg(n),f=[];e:{var h=KS.get(t);if(h!==void 0){var p=Tg,m=t;switch(t){case"keypress":if(Du(n)===0)break e;case"keydown":case"keyup":p=OO;break;case"focusin":m="focus",p=ed;break;case"focusout":m="blur",p=ed;break;case"beforeblur":case"afterblur":p=ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NO;break;case zS:case HS:case WS:p=EO;break;case qS:p=DO;break;case"scroll":p=mO;break;case"wheel":p=$O;break;case"copy":case"cut":case"paste":p=_O;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m0}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var d=u,y;d!==null;){y=d;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,g!==null&&(k=Pa(d,g),k!=null&&w.push(Ma(d,k,y)))),x)break;d=d.return}0<w.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==wp&&(m=n.relatedTarget||n.fromElement)&&(Pi(m)||m[yr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Pi(m):null,m!==null&&(x=os(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(w=d0,k="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(w=m0,k="onPointerLeave",g="onPointerEnter",d="pointer"),x=p==null?h:Cs(p),y=m==null?h:Cs(m),h=new w(k,d+"leave",p,n,c),h.target=x,h.relatedTarget=y,k=null,Pi(c)===u&&(w=new w(g,d+"enter",m,n,c),w.target=y,w.relatedTarget=x,k=w),x=k,p&&m)t:{for(w=p,g=m,d=0,y=w;y;y=ps(y))d++;for(y=0,k=g;k;k=ps(k))y++;for(;0<d-y;)w=ps(w),d--;for(;0<y-d;)g=ps(g),y--;for(;d--;){if(w===g||g!==null&&w===g.alternate)break t;w=ps(w),g=ps(g)}w=null}else w=null;p!==null&&b0(f,h,p,w,!1),m!==null&&x!==null&&b0(f,x,m,w,!0)}}e:{if(h=u?Cs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=zO;else if(v0(h))if(jS)I=KO;else{I=WO;var T=HO}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=qO);if(I&&(I=I(t,u))){MS(f,I,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&pp(h,"number",h.value)}switch(T=u?Cs(u):window,t){case"focusin":(v0(T)||T.contentEditable==="true")&&(Ts=T,bp=u,ma=null);break;case"focusout":ma=bp=Ts=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,T0(f,n,c);break;case"selectionchange":if(QO)break;case"keydown":case"keyup":T0(f,n,c)}var S;if(Cg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _s?LS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(DS&&n.locale!=="ko"&&(_s||C!=="onCompositionStart"?C==="onCompositionEnd"&&_s&&(S=AS()):(zr=c,_g="value"in zr?zr.value:zr.textContent,_s=!0)),T=cc(u,C),0<T.length&&(C=new p0(C,t,null,n,c),f.push({event:C,listeners:T}),S?C.data=S:(S=$S(n),S!==null&&(C.data=S)))),(S=jO?UO(t,n):FO(t,n))&&(u=cc(u,"onBeforeInput"),0<u.length&&(c=new p0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}GS(f,e)})}function Ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pa(t,n),s!=null&&r.unshift(Ma(t,s,i)),s=Pa(t,e),s!=null&&r.push(Ma(t,s,i))),t=t.return}return r}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pa(n,s),l!=null&&o.unshift(Ma(n,l,a))):i||(l=Pa(n,s),l!=null&&o.push(Ma(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eP=/\r\n?/g,tP=/\u0000|\uFFFD/g;function k0(t){return(typeof t=="string"?t:""+t).replace(eP,`
`).replace(tP,"")}function fu(t,e,n){if(e=k0(e),k0(t)!==e&&n)throw Error(H(425))}function fc(){}var xp=null,Op=null;function Pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,rP=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(iP)}:Rp;function iP(t){setTimeout(function(){throw t})}function ld(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Aa(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var So=Math.random().toString(36).slice(2),Hn="__reactFiber$"+So,ja="__reactProps$"+So,yr="__reactContainer$"+So,Np="__reactEvents$"+So,sP="__reactListeners$"+So,oP="__reactHandles$"+So;function Pi(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O0(t);t!==null;){if(n=t[Hn])return n;t=O0(t)}return e}t=n,n=t.parentNode}return null}function _l(t){return t=t[Hn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function yf(t){return t[ja]||null}var Ap=[],bs=-1;function yi(t){return{current:t}}function Le(t){0>bs||(t.current=Ap[bs],Ap[bs]=null,bs--)}function Re(t,e){bs++,Ap[bs]=t.current,t.current=e}var ci={},Ut=yi(ci),tn=yi(!1),zi=ci;function Xs(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function hc(){Le(tn),Le(Ut)}function P0(t,e,n){if(Ut.current!==ci)throw Error(H(168));Re(Ut,e),Re(tn,n)}function QS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,Hx(t)||"Unknown",i));return We({},n,r)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,zi=Ut.current,Re(Ut,t),Re(tn,tn.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=QS(t,e,zi),r.__reactInternalMemoizedMergedChildContext=t,Le(tn),Le(Ut),Re(Ut,t)):Le(tn),Re(tn,n)}var or=null,vf=!1,ud=!1;function XS(t){or===null?or=[t]:or.push(t)}function aP(t){vf=!0,XS(t)}function vi(){if(!ud&&or!==null){ud=!0;var t=0,e=Ie;try{var n=or;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,vf=!1}catch(i){throw or!==null&&(or=or.slice(t+1)),_S(vg,vi),i}finally{Ie=e,ud=!1}}return null}var ks=[],xs=0,pc=null,mc=0,yn=[],vn=0,Hi=null,lr=1,ur="";function Ii(t,e){ks[xs++]=mc,ks[xs++]=pc,pc=t,mc=e}function JS(t,e,n){yn[vn++]=lr,yn[vn++]=ur,yn[vn++]=Hi,Hi=t;var r=lr;t=ur;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lr=1<<32-Ln(e)+i|n<<i|r,ur=s+t}else lr=1<<s|n<<i|r,ur=t}function kg(t){t.return!==null&&(Ii(t,1),JS(t,1,0))}function xg(t){for(;t===pc;)pc=ks[--xs],ks[xs]=null,mc=ks[--xs],ks[xs]=null;for(;t===Hi;)Hi=yn[--vn],yn[vn]=null,ur=yn[--vn],yn[vn]=null,lr=yn[--vn],yn[vn]=null}var ln=null,an=null,je=!1,Rn=null;function ZS(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,an=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,an=null,!0):!1;default:return!1}}function Dp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lp(t){if(je){var e=an;if(e){var n=e;if(!N0(t,e)){if(Dp(t))throw Error(H(418));e=Qr(n.nextSibling);var r=ln;e&&N0(t,e)?ZS(r,n):(t.flags=t.flags&-4097|2,je=!1,ln=t)}}else{if(Dp(t))throw Error(H(418));t.flags=t.flags&-4097|2,je=!1,ln=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function hu(t){if(t!==ln)return!1;if(!je)return A0(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pp(t.type,t.memoizedProps)),e&&(e=an)){if(Dp(t))throw e_(),Error(H(418));for(;e;)ZS(t,e),e=Qr(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=ln?Qr(t.stateNode.nextSibling):null;return!0}function e_(){for(var t=an;t;)t=Qr(t.nextSibling)}function Js(){an=ln=null,je=!1}function Og(t){Rn===null?Rn=[t]:Rn.push(t)}var lP=kr.ReactCurrentBatchConfig;function On(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var gc=yi(null),yc=null,Os=null,Pg=null;function Rg(){Pg=Os=yc=null}function Ng(t){var e=gc.current;Le(gc),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){yc=t,Pg=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Pg!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(yc===null)throw Error(H(308));Os=t,yc.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Ri=null;function Ag(t){Ri===null?Ri=[t]:Ri.push(t)}function t_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ag(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $r=!1;function Dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ag(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function Lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vc(t,e,n,r){var i=t.updateQueue;$r=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(h=e,p=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=We({},f,h);break e;case 2:$r=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qi|=o,t.lanes=o,t.memoizedState=f}}function L0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var r_=new tS.Component().refs;function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Zr(t),s=pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&($n(e,t,i,r),Lu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Zr(t),s=pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&($n(e,t,i,r),Lu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=Zr(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,r),e!==null&&($n(e,t,r,n),Lu(e,t,r))}};function $0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!La(n,r)||!La(i,s):!0}function i_(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=nn(e)?zi:Ut.current,r=e.contextTypes,s=(r=r!=null)?Xs(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function M0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function jp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=r_,Dg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=nn(e)?zi:Ut.current,i.context=Xs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wf.enqueueReplaceState(i,i.state,null),vc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===r_&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function du(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j0(t){var e=t._init;return e(t._payload)}function s_(t){function e(g,d){if(t){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function n(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function i(g,d){return g=ei(g,d),g.index=0,g.sibling=null,g}function s(g,d,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=2,d):y):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,d,y,k){return d===null||d.tag!==6?(d=gd(y,g.mode,k),d.return=g,d):(d=i(d,y),d.return=g,d)}function l(g,d,y,k){var I=y.type;return I===Ss?c(g,d,y.props.children,k,y.key):d!==null&&(d.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Lr&&j0(I)===d.type)?(k=i(d,y.props),k.ref=zo(g,d,y),k.return=g,k):(k=Vu(y.type,y.key,y.props,null,g.mode,k),k.ref=zo(g,d,y),k.return=g,k)}function u(g,d,y,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=yd(y,g.mode,k),d.return=g,d):(d=i(d,y.children||[]),d.return=g,d)}function c(g,d,y,k,I){return d===null||d.tag!==7?(d=ji(y,g.mode,k,I),d.return=g,d):(d=i(d,y),d.return=g,d)}function f(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=gd(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case nu:return y=Vu(d.type,d.key,d.props,null,g.mode,y),y.ref=zo(g,null,d),y.return=g,y;case Es:return d=yd(d,g.mode,y),d.return=g,d;case Lr:var k=d._init;return f(g,k(d._payload),y)}if(Zo(d)||jo(d))return d=ji(d,g.mode,y,null),d.return=g,d;du(g,d)}return null}function h(g,d,y,k){var I=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(g,d,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nu:return y.key===I?l(g,d,y,k):null;case Es:return y.key===I?u(g,d,y,k):null;case Lr:return I=y._init,h(g,d,I(y._payload),k)}if(Zo(y)||jo(y))return I!==null?null:c(g,d,y,k,null);du(g,y)}return null}function p(g,d,y,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(y)||null,a(d,g,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nu:return g=g.get(k.key===null?y:k.key)||null,l(d,g,k,I);case Es:return g=g.get(k.key===null?y:k.key)||null,u(d,g,k,I);case Lr:var T=k._init;return p(g,d,y,T(k._payload),I)}if(Zo(k)||jo(k))return g=g.get(y)||null,c(d,g,k,I,null);du(d,k)}return null}function m(g,d,y,k){for(var I=null,T=null,S=d,C=d=0,b=null;S!==null&&C<y.length;C++){S.index>C?(b=S,S=null):b=S.sibling;var E=h(g,S,y[C],k);if(E===null){S===null&&(S=b);break}t&&S&&E.alternate===null&&e(g,S),d=s(E,d,C),T===null?I=E:T.sibling=E,T=E,S=b}if(C===y.length)return n(g,S),je&&Ii(g,C),I;if(S===null){for(;C<y.length;C++)S=f(g,y[C],k),S!==null&&(d=s(S,d,C),T===null?I=S:T.sibling=S,T=S);return je&&Ii(g,C),I}for(S=r(g,S);C<y.length;C++)b=p(S,g,C,y[C],k),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?C:b.key),d=s(b,d,C),T===null?I=b:T.sibling=b,T=b);return t&&S.forEach(function(W){return e(g,W)}),je&&Ii(g,C),I}function w(g,d,y,k){var I=jo(y);if(typeof I!="function")throw Error(H(150));if(y=I.call(y),y==null)throw Error(H(151));for(var T=I=null,S=d,C=d=0,b=null,E=y.next();S!==null&&!E.done;C++,E=y.next()){S.index>C?(b=S,S=null):b=S.sibling;var W=h(g,S,E.value,k);if(W===null){S===null&&(S=b);break}t&&S&&W.alternate===null&&e(g,S),d=s(W,d,C),T===null?I=W:T.sibling=W,T=W,S=b}if(E.done)return n(g,S),je&&Ii(g,C),I;if(S===null){for(;!E.done;C++,E=y.next())E=f(g,E.value,k),E!==null&&(d=s(E,d,C),T===null?I=E:T.sibling=E,T=E);return je&&Ii(g,C),I}for(S=r(g,S);!E.done;C++,E=y.next())E=p(S,g,C,E.value,k),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?C:E.key),d=s(E,d,C),T===null?I=E:T.sibling=E,T=E);return t&&S.forEach(function(Z){return e(g,Z)}),je&&Ii(g,C),I}function x(g,d,y,k){if(typeof y=="object"&&y!==null&&y.type===Ss&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case nu:e:{for(var I=y.key,T=d;T!==null;){if(T.key===I){if(I=y.type,I===Ss){if(T.tag===7){n(g,T.sibling),d=i(T,y.props.children),d.return=g,g=d;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Lr&&j0(I)===T.type){n(g,T.sibling),d=i(T,y.props),d.ref=zo(g,T,y),d.return=g,g=d;break e}n(g,T);break}else e(g,T);T=T.sibling}y.type===Ss?(d=ji(y.props.children,g.mode,k,y.key),d.return=g,g=d):(k=Vu(y.type,y.key,y.props,null,g.mode,k),k.ref=zo(g,d,y),k.return=g,g=k)}return o(g);case Es:e:{for(T=y.key;d!==null;){if(d.key===T)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(g,d.sibling),d=i(d,y.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else e(g,d);d=d.sibling}d=yd(y,g.mode,k),d.return=g,g=d}return o(g);case Lr:return T=y._init,x(g,d,T(y._payload),k)}if(Zo(y))return m(g,d,y,k);if(jo(y))return w(g,d,y,k);du(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(g,d.sibling),d=i(d,y),d.return=g,g=d):(n(g,d),d=gd(y,g.mode,k),d.return=g,g=d),o(g)):n(g,d)}return x}var Zs=s_(!0),o_=s_(!1),Tl={},Yn=yi(Tl),Ua=yi(Tl),Fa=yi(Tl);function Ni(t){if(t===Tl)throw Error(H(174));return t}function Lg(t,e){switch(Re(Fa,e),Re(Ua,t),Re(Yn,Tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gp(e,t)}Le(Yn),Re(Yn,e)}function eo(){Le(Yn),Le(Ua),Le(Fa)}function a_(t){Ni(Fa.current);var e=Ni(Yn.current),n=gp(e,t.type);e!==n&&(Re(Ua,t),Re(Yn,n))}function $g(t){Ua.current===t&&(Le(Yn),Le(Ua))}var ze=yi(0);function wc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cd=[];function Mg(){for(var t=0;t<cd.length;t++)cd[t]._workInProgressVersionPrimary=null;cd.length=0}var $u=kr.ReactCurrentDispatcher,fd=kr.ReactCurrentBatchConfig,Wi=0,He=null,it=null,ft=null,Ec=!1,ga=!1,Va=0,uP=0;function bt(){throw Error(H(321))}function jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Ug(t,e,n,r,i,s){if(Wi=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$u.current=t===null||t.memoizedState===null?dP:pP,t=n(r,i),ga){s=0;do{if(ga=!1,Va=0,25<=s)throw Error(H(301));s+=1,ft=it=null,e.updateQueue=null,$u.current=mP,t=n(r,i)}while(ga)}if($u.current=Sc,e=it!==null&&it.next!==null,Wi=0,ft=it=He=null,Ec=!1,e)throw Error(H(300));return t}function Fg(){var t=Va!==0;return Va=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?He.memoizedState=ft=t:ft=ft.next=t,ft}function Cn(){if(it===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ft===null?He.memoizedState:ft.next;if(e!==null)ft=e,it=t;else{if(t===null)throw Error(H(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ft===null?He.memoizedState=ft=t:ft=ft.next=t}return ft}function Ba(t,e){return typeof e=="function"?e(t):e}function hd(t){var e=Cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,He.lanes|=c,qi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Mn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dd(t){var e=Cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function l_(){}function u_(t,e){var n=He,r=Cn(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,en=!0),r=r.queue,Vg(h_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,za(9,f_.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(H(349));Wi&30||c_(n,e,i)}return i}function c_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function f_(t,e,n,r){e.value=n,e.getSnapshot=r,d_(e)&&p_(t)}function h_(t,e,n){return n(function(){d_(e)&&p_(t)})}function d_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function p_(t){var e=vr(t,1);e!==null&&$n(e,t,1,-1)}function U0(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=hP.bind(null,He,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function m_(){return Cn().memoizedState}function Mu(t,e,n,r){var i=zn();He.flags|=t,i.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function Ef(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&jg(r,o.deps)){i.memoizedState=za(e,n,s,r);return}}He.flags|=t,i.memoizedState=za(1|e,n,s,r)}function F0(t,e){return Mu(8390656,8,t,e)}function Vg(t,e){return Ef(2048,8,t,e)}function g_(t,e){return Ef(4,2,t,e)}function y_(t,e){return Ef(4,4,t,e)}function v_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w_(t,e,n){return n=n!=null?n.concat([t]):null,Ef(4,4,v_.bind(null,e,t),n)}function Bg(){}function E_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function S_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function __(t,e,n){return Wi&21?(Mn(n,e)||(n=CS(),He.lanes|=n,qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function cP(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=fd.transition;fd.transition={};try{t(!1),e()}finally{Ie=n,fd.transition=r}}function T_(){return Cn().memoizedState}function fP(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},I_(t))C_(e,n);else if(n=t_(t,e,n,r),n!==null){var i=Gt();$n(n,t,r,i),b_(n,e,r)}}function hP(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(I_(t))C_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ag(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=t_(t,e,i,r),n!==null&&(i=Gt(),$n(n,t,r,i),b_(n,e,r))}}function I_(t){var e=t.alternate;return t===He||e!==null&&e===He}function C_(t,e){ga=Ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}var Sc={readContext:In,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},dP={readContext:In,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:F0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4194308,4,v_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fP.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:U0,useDebugValue:Bg,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=U0(!1),e=t[0];return t=cP.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=zn();if(je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ht===null)throw Error(H(349));Wi&30||c_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,F0(h_.bind(null,r,s,t),[t]),r.flags|=2048,za(9,f_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zn(),e=ht.identifierPrefix;if(je){var n=ur,r=lr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pP={readContext:In,useCallback:E_,useContext:In,useEffect:Vg,useImperativeHandle:w_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:S_,useReducer:hd,useRef:m_,useState:function(){return hd(Ba)},useDebugValue:Bg,useDeferredValue:function(t){var e=Cn();return __(e,it.memoizedState,t)},useTransition:function(){var t=hd(Ba)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:l_,useSyncExternalStore:u_,useId:T_,unstable_isNewReconciler:!1},mP={readContext:In,useCallback:E_,useContext:In,useEffect:Vg,useImperativeHandle:w_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:S_,useReducer:dd,useRef:m_,useState:function(){return dd(Ba)},useDebugValue:Bg,useDeferredValue:function(t){var e=Cn();return it===null?e.memoizedState=t:__(e,it.memoizedState,t)},useTransition:function(){var t=dd(Ba)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:l_,useSyncExternalStore:u_,useId:T_,unstable_isNewReconciler:!1};function to(t,e){try{var n="",r=e;do n+=zx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gP=typeof WeakMap=="function"?WeakMap:Map;function k_(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tc||(Tc=!0,Yp=r),Up(t,e)},n}function x_(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Up(t,e),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function V0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PP.bind(null,t,e,n),e.then(t,t))}function B0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var yP=kr.ReactCurrentOwner,en=!1;function qt(t,e,n,r){e.child=t===null?o_(e,null,n,r):Zs(e,t.child,n,r)}function H0(t,e,n,r,i){n=n.render;var s=e.ref;return Ms(e,i),r=Ug(t,e,n,r,s,i),n=Fg(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(je&&n&&kg(e),e.flags|=1,qt(t,e,r,i),e.child)}function W0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,O_(t,e,s,r,i)):(t=Vu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(o,r)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function O_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(La(s,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,wr(t,e,i)}return Fp(t,e,n,r,i)}function P_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Rs,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Rs,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(Rs,on),on|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(Rs,on),on|=r;return qt(t,e,i,n),e.child}function R_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fp(t,e,n,r,i){var s=nn(n)?zi:Ut.current;return s=Xs(e,s),Ms(e,i),n=Ug(t,e,n,r,s,i),r=Fg(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(je&&r&&kg(e),e.flags|=1,qt(t,e,n,i),e.child)}function q0(t,e,n,r,i){if(nn(n)){var s=!0;dc(e)}else s=!1;if(Ms(e,i),e.stateNode===null)ju(t,e),i_(e,n,r),jp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=nn(n)?zi:Ut.current,u=Xs(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&M0(e,o,r,u),$r=!1;var h=e.memoizedState;o.state=h,vc(e,r,o,i),l=e.memoizedState,a!==r||h!==l||tn.current||$r?(typeof c=="function"&&(Mp(e,n,c,r),l=e.memoizedState),(a=$r||$0(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:On(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=nn(n)?zi:Ut.current,l=Xs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&M0(e,o,r,l),$r=!1,h=e.memoizedState,o.state=h,vc(e,r,o,i);var m=e.memoizedState;a!==f||h!==m||tn.current||$r?(typeof p=="function"&&(Mp(e,n,p,r),m=e.memoizedState),(u=$r||$0(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vp(t,e,n,r,s,i)}function Vp(t,e,n,r,i,s){R_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R0(e,n,!1),wr(t,e,s);r=e.stateNode,yP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zs(e,t.child,null,s),e.child=Zs(e,null,a,s)):qt(t,e,a,s),e.memoizedState=r.state,i&&R0(e,n,!0),e.child}function N_(t){var e=t.stateNode;e.pendingContext?P0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P0(t,e.context,!1),Lg(t,e.containerInfo)}function K0(t,e,n,r,i){return Js(),Og(i),e.flags|=256,qt(t,e,n,r),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(t){return{baseLanes:t,cachePool:null,transitions:null}}function A_(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(ze,i&1),t===null)return Lp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tf(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zp(n),e.memoizedState=Bp,t):zg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ei(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ei(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bp,r}return s=t.child,t=s.sibling,r=ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zg(t,e){return e=Tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pu(t,e,n,r){return r!==null&&Og(r),Zs(e,t.child,null,n),t=zg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pd(Error(H(422))),pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Tf({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zs(e,t.child,null,o),e.child.memoizedState=zp(o),e.memoizedState=Bp,s);if(!(e.mode&1))return pu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=pd(s,r,void 0),pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(t,i),$n(r,t,i,-1))}return Yg(),r=pd(Error(H(421))),pu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=Qr(i.nextSibling),ln=e,je=!0,Rn=null,t!==null&&(yn[vn++]=lr,yn[vn++]=ur,yn[vn++]=Hi,lr=t.id,ur=t.overflow,Hi=e),e=zg(e,r.children),e.flags|=4096,e)}function G0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function md(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function D_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G0(t,n,e);else if(t.tag===19)G0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),md(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}md(e,!0,n,null,s);break;case"together":md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wP(t,e,n){switch(e.tag){case 3:N_(e),Js();break;case 5:a_(e);break;case 1:nn(e.type)&&dc(e);break;case 4:Lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(gc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?A_(t,e,n):(Re(ze,ze.current&1),t=wr(t,e,n),t!==null?t.sibling:null);Re(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,P_(t,e,n)}return wr(t,e,n)}var L_,Hp,$_,M_;L_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hp=function(){};$_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ni(Yn.current);var s=null;switch(n){case"input":i=hp(t,i),r=hp(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=mp(t,i),r=mp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fc)}yp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};M_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ho(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EP(t,e,n){var r=e.pendingProps;switch(xg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return nn(e.type)&&hc(),kt(e),null;case 3:return r=e.stateNode,eo(),Le(tn),Le(Ut),Mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Jp(Rn),Rn=null))),Hp(t,e),kt(e),null;case 5:$g(e);var i=Ni(Fa.current);if(n=e.type,t!==null&&e.stateNode!=null)$_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return kt(e),null}if(t=Ni(Yn.current),hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hn]=e,r[ja]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<ta.length;i++)Ae(ta[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":r0(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":s0(r,s),Ae("invalid",r)}yp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":ru(r),i0(r,s,!0);break;case"textarea":ru(r),o0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[ja]=r,L_(t,e,!1,!1),e.stateNode=t;e:{switch(o=vp(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<ta.length;i++)Ae(ta[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":r0(t,r),i=hp(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":s0(t,r),i=mp(t,r),Ae("invalid",t);break;default:i=r}yp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oa(t,l):typeof l=="number"&&Oa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&dg(t,s,l,o))}switch(n){case"input":ru(t),i0(t,r,!1);break;case"textarea":ru(t),o0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?As(t,!!r.multiple,s,!1):r.defaultValue!=null&&As(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)M_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ni(Fa.current),Ni(Yn.current),hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return kt(e),null;case 13:if(Le(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&an!==null&&e.mode&1&&!(e.flags&128))e_(),Js(),e.flags|=98560,s=!1;else if(s=hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Hn]=e}else Js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else Rn!==null&&(Jp(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?st===0&&(st=3):Yg())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return eo(),Hp(t,e),t===null&&$a(e.stateNode.containerInfo),kt(e),null;case 10:return Ng(e.type._context),kt(e),null;case 17:return nn(e.type)&&hc(),kt(e),null;case 19:if(Le(ze),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ho(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wc(t),o!==null){for(e.flags|=128,Ho(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>no&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304)}else{if(!r)if(t=wc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return kt(e),null}else 2*Xe()-s.renderingStartTime>no&&n!==1073741824&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=ze.current,Re(ze,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Gg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function SP(t,e){switch(xg(e),e.tag){case 1:return nn(e.type)&&hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eo(),Le(tn),Le(Ut),Mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $g(e),null;case 13:if(Le(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(ze),null;case 4:return eo(),null;case 10:return Ng(e.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var mu=!1,At=!1,_P=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Wp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var Y0=!1;function TP(t,e){if(xp=lc,t=VS(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Op={focusedElem:t,selectionRange:n},lc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:On(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Ge(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return m=Y0,Y0=!1,m}function ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wp(e,n,s)}i=i.next}while(i!==r)}}function Sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j_(t){var e=t.alternate;e!==null&&(t.alternate=null,j_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[ja],delete e[Np],delete e[sP],delete e[oP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U_(t){return t.tag===5||t.tag===3||t.tag===4}function Q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fc));else if(r!==4&&(t=t.child,t!==null))for(Kp(t,e,n),t=t.sibling;t!==null;)Kp(t,e,n),t=t.sibling}function Gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gp(t,e,n),t=t.sibling;t!==null;)Gp(t,e,n),t=t.sibling}var vt=null,Pn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)F_(t,e,n),n=n.sibling}function F_(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(df,n)}catch{}switch(n.tag){case 5:At||Ps(n,e);case 6:var r=vt,i=Pn;vt=null,Nr(t,e,n),vt=r,Pn=i,vt!==null&&(Pn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Pn?(t=vt,n=n.stateNode,t.nodeType===8?ld(t.parentNode,n):t.nodeType===1&&ld(t,n),Aa(t)):ld(vt,n.stateNode));break;case 4:r=vt,i=Pn,vt=n.stateNode.containerInfo,Pn=!0,Nr(t,e,n),vt=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wp(n,e,o),i=i.next}while(i!==r)}Nr(t,e,n);break;case 1:if(!At&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Nr(t,e,n),At=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function X0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _P),e.forEach(function(r){var i=NP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Pn=!1;break e;case 3:vt=a.stateNode.containerInfo,Pn=!0;break e;case 4:vt=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(vt===null)throw Error(H(160));F_(s,o,i),vt=null,Pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V_(e,t),e=e.sibling}function V_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Bn(t),r&4){try{ya(3,t,t.return),Sf(3,t)}catch(w){Ge(t,t.return,w)}try{ya(5,t,t.return)}catch(w){Ge(t,t.return,w)}}break;case 1:xn(e,t),Bn(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(xn(e,t),Bn(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Oa(i,"")}catch(w){Ge(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lS(i,s),vp(a,o);var u=vp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?dS(i,f):c==="dangerouslySetInnerHTML"?fS(i,f):c==="children"?Oa(i,f):dg(i,c,f,u)}switch(a){case"input":dp(i,s);break;case"textarea":uS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?As(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?As(i,!!s.multiple,s.defaultValue,!0):As(i,!!s.multiple,s.multiple?[]:"",!1))}i[ja]=s}catch(w){Ge(t,t.return,w)}}break;case 6:if(xn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ge(t,t.return,w)}}break;case 3:if(xn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Aa(e.containerInfo)}catch(w){Ge(t,t.return,w)}break;case 4:xn(e,t),Bn(t);break;case 13:xn(e,t),Bn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qg=Xe())),r&4&&X0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||c,xn(e,t),At=u):xn(e,t),Bn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(f=X=c;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:ya(4,h,h.return);break;case 1:Ps(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){Ge(r,n,w)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){Z0(f);continue}}p!==null?(p.return=h,X=p):Z0(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hS("display",o))}catch(w){Ge(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ge(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(e,t),Bn(t),r&4&&X0(t);break;case 21:break;default:xn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(U_(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oa(i,""),r.flags&=-33);var s=Q0(t);Gp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q0(t);Kp(t,a,o);break;default:throw Error(H(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IP(t,e,n){X=t,B_(t)}function B_(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=mu;var u=At;if(mu=o,(At=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?ew(i):l!==null?(l.return=o,X=l):ew(i);for(;s!==null;)X=s,B_(s),s=s.sibling;X=i,mu=a,At=u}J0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):J0(t)}}function J0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Sf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&L0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}At||e.flags&512&&qp(e)}catch(h){Ge(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Z0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function ew(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sf(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{qp(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{qp(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var CP=Math.ceil,_c=kr.ReactCurrentDispatcher,Hg=kr.ReactCurrentOwner,_n=kr.ReactCurrentBatchConfig,Ee=0,ht=null,tt=null,St=0,on=0,Rs=yi(0),st=0,Ha=null,qi=0,_f=0,Wg=0,va=null,Zt=null,qg=0,no=1/0,sr=null,Tc=!1,Yp=null,Jr=null,gu=!1,Hr=null,Ic=0,wa=0,Qp=null,Uu=-1,Fu=0;function Gt(){return Ee&6?Xe():Uu!==-1?Uu:Uu=Xe()}function Zr(t){return t.mode&1?Ee&2&&St!==0?St&-St:lP.transition!==null?(Fu===0&&(Fu=CS()),Fu):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:NS(t.type)),t):1}function $n(t,e,n,r){if(50<wa)throw wa=0,Qp=null,Error(H(185));El(t,n,r),(!(Ee&2)||t!==ht)&&(t===ht&&(!(Ee&2)&&(_f|=n),st===4&&jr(t,St)),rn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(no=Xe()+500,vf&&vi()))}function rn(t,e){var n=t.callbackNode;lO(t,e);var r=ac(t,t===ht?St:0);if(r===0)n!==null&&u0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u0(n),e===1)t.tag===0?aP(tw.bind(null,t)):XS(tw.bind(null,t)),rP(function(){!(Ee&6)&&vi()}),n=null;else{switch(bS(r)){case 1:n=vg;break;case 4:n=TS;break;case 16:n=oc;break;case 536870912:n=IS;break;default:n=oc}n=Q_(n,z_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function z_(t,e){if(Uu=-1,Fu=0,Ee&6)throw Error(H(327));var n=t.callbackNode;if(js()&&t.callbackNode!==n)return null;var r=ac(t,t===ht?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cc(t,r);else{e=r;var i=Ee;Ee|=2;var s=W_();(ht!==t||St!==e)&&(sr=null,no=Xe()+500,Mi(t,e));do try{xP();break}catch(a){H_(t,a)}while(1);Rg(),_c.current=s,Ee=i,tt!==null?e=0:(ht=null,St=0,e=st)}if(e!==0){if(e===2&&(i=Tp(t),i!==0&&(r=i,e=Xp(t,i))),e===1)throw n=Ha,Mi(t,0),jr(t,r),rn(t,Xe()),n;if(e===6)jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!bP(i)&&(e=Cc(t,r),e===2&&(s=Tp(t),s!==0&&(r=s,e=Xp(t,s))),e===1))throw n=Ha,Mi(t,0),jr(t,r),rn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ci(t,Zt,sr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=qg+500-Xe(),10<e)){if(ac(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rp(Ci.bind(null,t,Zt,sr),e);break}Ci(t,Zt,sr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CP(r/1960))-r,10<r){t.timeoutHandle=Rp(Ci.bind(null,t,Zt,sr),r);break}Ci(t,Zt,sr);break;case 5:Ci(t,Zt,sr);break;default:throw Error(H(329))}}}return rn(t,Xe()),t.callbackNode===n?z_.bind(null,t):null}function Xp(t,e){var n=va;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=Cc(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&Jp(e)),t}function Jp(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function bP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Wg,e&=~_f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function tw(t){if(Ee&6)throw Error(H(327));js();var e=ac(t,0);if(!(e&1))return rn(t,Xe()),null;var n=Cc(t,e);if(t.tag!==0&&n===2){var r=Tp(t);r!==0&&(e=r,n=Xp(t,r))}if(n===1)throw n=Ha,Mi(t,0),jr(t,e),rn(t,Xe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ci(t,Zt,sr),rn(t,Xe()),null}function Kg(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(no=Xe()+500,vf&&vi())}}function Ki(t){Hr!==null&&Hr.tag===0&&!(Ee&6)&&js();var e=Ee;Ee|=1;var n=_n.transition,r=Ie;try{if(_n.transition=null,Ie=1,t)return t()}finally{Ie=r,_n.transition=n,Ee=e,!(Ee&6)&&vi()}}function Gg(){on=Rs.current,Le(Rs)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nP(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:eo(),Le(tn),Le(Ut),Mg();break;case 5:$g(r);break;case 4:eo();break;case 13:Le(ze);break;case 19:Le(ze);break;case 10:Ng(r.type._context);break;case 22:case 23:Gg()}n=n.return}if(ht=t,tt=t=ei(t.current,null),St=on=e,st=0,Ha=null,Wg=_f=qi=0,Zt=va=null,Ri!==null){for(e=0;e<Ri.length;e++)if(n=Ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ri=null}return t}function H_(t,e){do{var n=tt;try{if(Rg(),$u.current=Sc,Ec){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ec=!1}if(Wi=0,ft=it=He=null,ga=!1,Va=0,Hg.current=null,n===null||n.return===null){st=1,Ha=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=B0(o);if(p!==null){p.flags&=-257,z0(p,o,a,s,e),p.mode&1&&V0(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){V0(s,u,e),Yg();break e}l=Error(H(426))}}else if(je&&a.mode&1){var x=B0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),z0(x,o,a,s,e),Og(to(l,a));break e}}s=l=to(l,a),st!==4&&(st=2),va===null?va=[s]:va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=k_(s,l,e);D0(s,g);break e;case 1:a=l;var d=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jr===null||!Jr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=x_(s,a,e);D0(s,k);break e}}s=s.return}while(s!==null)}K_(n)}catch(I){e=I,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function W_(){var t=_c.current;return _c.current=Sc,t===null?Sc:t}function Yg(){(st===0||st===3||st===2)&&(st=4),ht===null||!(qi&268435455)&&!(_f&268435455)||jr(ht,St)}function Cc(t,e){var n=Ee;Ee|=2;var r=W_();(ht!==t||St!==e)&&(sr=null,Mi(t,e));do try{kP();break}catch(i){H_(t,i)}while(1);if(Rg(),Ee=n,_c.current=r,tt!==null)throw Error(H(261));return ht=null,St=0,st}function kP(){for(;tt!==null;)q_(tt)}function xP(){for(;tt!==null&&!Zx();)q_(tt)}function q_(t){var e=Y_(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?K_(t):tt=e,Hg.current=null}function K_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SP(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=EP(n,e,on),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function Ci(t,e,n){var r=Ie,i=_n.transition;try{_n.transition=null,Ie=1,OP(t,e,n,r)}finally{_n.transition=i,Ie=r}return null}function OP(t,e,n,r){do js();while(Hr!==null);if(Ee&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uO(t,s),t===ht&&(tt=ht=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gu||(gu=!0,Q_(oc,function(){return js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_n.transition,_n.transition=null;var o=Ie;Ie=1;var a=Ee;Ee|=4,Hg.current=null,TP(t,n),V_(n,t),YO(Op),lc=!!xp,Op=xp=null,t.current=n,IP(n),eO(),Ee=a,Ie=o,_n.transition=s}else t.current=n;if(gu&&(gu=!1,Hr=t,Ic=i),s=t.pendingLanes,s===0&&(Jr=null),rO(n.stateNode),rn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tc)throw Tc=!1,t=Yp,Yp=null,t;return Ic&1&&t.tag!==0&&js(),s=t.pendingLanes,s&1?t===Qp?wa++:(wa=0,Qp=t):wa=0,vi(),null}function js(){if(Hr!==null){var t=bS(Ic),e=_n.transition,n=Ie;try{if(_n.transition=null,Ie=16>t?16:t,Hr===null)var r=!1;else{if(t=Hr,Hr=null,Ic=0,Ee&6)throw Error(H(331));var i=Ee;for(Ee|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:ya(8,c,s)}var f=c.child;if(f!==null)f.return=c,X=f;else for(;X!==null;){c=X;var h=c.sibling,p=c.return;if(j_(c),c===u){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,X=g;break e}X=s.return}}var d=t.current;for(X=d;X!==null;){o=X;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,X=y;else e:for(o=d;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sf(9,a)}}catch(I){Ge(a,a.return,I)}if(a===o){X=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,X=k;break e}X=a.return}}if(Ee=i,vi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(df,t)}catch{}r=!0}return r}finally{Ie=n,_n.transition=e}}return!1}function nw(t,e,n){e=to(n,e),e=k_(t,e,1),t=Xr(t,e,1),e=Gt(),t!==null&&(El(t,1,e),rn(t,e))}function Ge(t,e,n){if(t.tag===3)nw(t,t,n);else for(;e!==null;){if(e.tag===3){nw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){t=to(n,t),t=x_(e,t,1),e=Xr(e,t,1),t=Gt(),e!==null&&(El(e,1,t),rn(e,t));break}}e=e.return}}function PP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(St&n)===n&&(st===4||st===3&&(St&130023424)===St&&500>Xe()-qg?Mi(t,0):Wg|=n),rn(t,e)}function G_(t,e){e===0&&(t.mode&1?(e=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):e=1);var n=Gt();t=vr(t,e),t!==null&&(El(t,e,n),rn(t,n))}function RP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),G_(t,n)}function NP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),G_(t,n)}var Y_;Y_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,wP(t,e,n);en=!!(t.flags&131072)}else en=!1,je&&e.flags&1048576&&JS(e,mc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ju(t,e),t=e.pendingProps;var i=Xs(e,Ut.current);Ms(e,n),i=Ug(null,e,r,t,i,n);var s=Fg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(s=!0,dc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dg(e),i.updater=wf,e.stateNode=i,i._reactInternals=e,jp(e,r,t,n),e=Vp(null,e,r,!0,s,n)):(e.tag=0,je&&s&&kg(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ju(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DP(r),t=On(r,t),i){case 0:e=Fp(null,e,r,t,n);break e;case 1:e=q0(null,e,r,t,n);break e;case 11:e=H0(null,e,r,t,n);break e;case 14:e=W0(null,e,r,On(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Fp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),q0(t,e,r,i,n);case 3:e:{if(N_(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,n_(t,e),vc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=to(Error(H(423)),e),e=K0(t,e,r,n,i);break e}else if(r!==i){i=to(Error(H(424)),e),e=K0(t,e,r,n,i);break e}else for(an=Qr(e.stateNode.containerInfo.firstChild),ln=e,je=!0,Rn=null,n=o_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===i){e=wr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return a_(e),t===null&&Lp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pp(r,i)?o=null:s!==null&&Pp(r,s)&&(e.flags|=32),R_(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&Lp(e),null;case 13:return A_(t,e,n);case 4:return Lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zs(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),H0(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(gc,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!tn.current){e=wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$p(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$p(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=In(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),W0(t,e,r,i,n);case 15:return O_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),ju(t,e),e.tag=1,nn(r)?(t=!0,dc(e)):t=!1,Ms(e,n),i_(e,r,i),jp(e,r,i,n),Vp(null,e,r,!0,t,n);case 19:return D_(t,e,n);case 22:return P_(t,e,n)}throw Error(H(156,e.tag))};function Q_(t,e){return _S(t,e)}function AP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new AP(t,e,n,r)}function Qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DP(t){if(typeof t=="function")return Qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===gg)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return ji(n.children,i,s,e);case pg:o=8,i|=8;break;case lp:return t=Sn(12,n,e,i|2),t.elementType=lp,t.lanes=s,t;case up:return t=Sn(13,n,e,i),t.elementType=up,t.lanes=s,t;case cp:return t=Sn(19,n,e,i),t.elementType=cp,t.lanes=s,t;case sS:return Tf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rS:o=10;break e;case iS:o=9;break e;case mg:o=11;break e;case gg:o=14;break e;case Lr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Tf(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=sS,t.lanes=n,t.stateNode={isHidden:!1},t}function gd(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function yd(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xh(0),this.expirationTimes=Xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xg(t,e,n,r,i,s,o,a,l){return t=new LP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(s),t}function $P(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X_(t){if(!t)return ci;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(nn(n))return QS(t,n,e)}return e}function J_(t,e,n,r,i,s,o,a,l){return t=Xg(n,r,!0,t,i,s,o,a,l),t.context=X_(null),n=t.current,r=Gt(),i=Zr(n),s=pr(r,i),s.callback=e??null,Xr(n,s,i),t.current.lanes=i,El(t,i,r),rn(t,r),t}function If(t,e,n,r){var i=e.current,s=Gt(),o=Zr(i);return n=X_(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(i,e,o),t!==null&&($n(t,i,o,s),Lu(t,i,o)),o}function bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){rw(t,e),(t=t.alternate)&&rw(t,e)}function MP(){return null}var Z_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}Cf.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));If(t,e,null,null)};Cf.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){If(null,t,null,null)}),e[yr]=null}};function Cf(t){this._internalRoot=t}Cf.prototype.unstable_scheduleHydration=function(t){if(t){var e=OS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mr.length&&e!==0&&e<Mr[n].priority;n++);Mr.splice(n,0,t),n===0&&RS(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iw(){}function jP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bc(o);s.call(u)}}var o=J_(e,r,t,0,null,!1,!1,"",iw);return t._reactRootContainer=o,t[yr]=o.current,$a(t.nodeType===8?t.parentNode:t),Ki(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bc(l);a.call(u)}}var l=Xg(t,0,!1,null,null,!1,!1,"",iw);return t._reactRootContainer=l,t[yr]=l.current,$a(t.nodeType===8?t.parentNode:t),Ki(function(){If(e,l,n,r)}),l}function kf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bc(o);a.call(l)}}If(e,o,t,i)}else o=jP(n,e,t,i,r);return bc(o)}kS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ea(e.pendingLanes);n!==0&&(wg(e,n|1),rn(e,Xe()),!(Ee&6)&&(no=Xe()+500,vi()))}break;case 13:Ki(function(){var r=vr(t,1);if(r!==null){var i=Gt();$n(r,t,1,i)}}),Jg(t,1)}};Eg=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Gt();$n(e,t,134217728,n)}Jg(t,134217728)}};xS=function(t){if(t.tag===13){var e=Zr(t),n=vr(t,e);if(n!==null){var r=Gt();$n(n,t,e,r)}Jg(t,e)}};OS=function(){return Ie};PS=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Ep=function(t,e,n){switch(e){case"input":if(dp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yf(r);if(!i)throw Error(H(90));aS(r),dp(r,i)}}}break;case"textarea":uS(t,n);break;case"select":e=n.value,e!=null&&As(t,!!n.multiple,e,!1)}};gS=Kg;yS=Ki;var UP={usingClientEntryPoint:!1,Events:[_l,Cs,yf,pS,mS,Kg]},Wo={findFiberByHostInstance:Pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},FP={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ES(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||MP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{df=yu.inject(FP),Gn=yu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error(H(200));return $P(t,e,null,n)};hn.createRoot=function(t,e){if(!ey(t))throw Error(H(299));var n=!1,r="",i=Z_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xg(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,$a(t.nodeType===8?t.parentNode:t),new Zg(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=ES(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Ki(t)};hn.hydrate=function(t,e,n){if(!bf(e))throw Error(H(200));return kf(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!ey(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Z_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J_(e,null,t,1,n??null,i,!1,s,o),t[yr]=e.current,$a(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cf(e)};hn.render=function(t,e,n){if(!bf(e))throw Error(H(200));return kf(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!bf(t))throw Error(H(40));return t._reactRootContainer?(Ki(function(){kf(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};hn.unstable_batchedUpdates=Kg;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return kf(t,e,n,!1,r)};hn.version="18.2.0-next-9e3b772b8-20220608";function eT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eT)}catch(t){console.error(t)}}eT(),JE.exports=hn;var ty=JE.exports,sw=ty;op.createRoot=sw.createRoot,op.hydrateRoot=sw.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const ow="popstate";function VP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kc(i)}return zP(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ny(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BP(){return Math.random().toString(36).substr(2,8)}function aw(t,e){return{usr:t.state,key:t.key,idx:e}}function Zp(t,e,n,r){return n===void 0&&(n=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_o(e):e,{state:n,key:e&&e.key||r||BP()})}function kc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Wa({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Wr.Pop;let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:g})}function h(x,g){a=Wr.Push;let d=Zp(w.location,x,g);n&&n(d,x),u=c()+1;let y=aw(d,u),k=w.createHref(d);try{o.pushState(y,"",k)}catch{i.location.assign(k)}s&&l&&l({action:a,location:w.location,delta:1})}function p(x,g){a=Wr.Replace;let d=Zp(w.location,x,g);n&&n(d,x),u=c();let y=aw(d,u),k=w.createHref(d);o.replaceState(y,"",k),s&&l&&l({action:a,location:w.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof x=="string"?x:kc(x);return rt(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ow,f),l=x,()=>{i.removeEventListener(ow,f),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(x){return o.go(x)}};return w}var lw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lw||(lw={}));function HP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_o(e):e,i=ry(r.pathname||"/",n);if(i==null)return null;let s=tT(t);WP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=eR(s[a],rR(i));return o}function tT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ti([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:JP(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of nT(s.path))i(s,o,l)}),e}function nT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=nT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function WP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qP=/^:\w+$/,KP=3,GP=2,YP=1,QP=10,XP=-2,uw=t=>t==="*";function JP(t,e){let n=t.split("/"),r=n.length;return n.some(uw)&&(r+=XP),e&&(r+=GP),n.filter(i=>!uw(i)).reduce((i,s)=>i+(qP.test(s)?KP:s===""?YP:QP),r)}function ZP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=tR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:ti([i,c.pathname]),pathnameBase:aR(ti([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ti([i,c.pathnameBase]))}return s}function tR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=iR(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ny(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rR(t){try{return decodeURI(t)}catch(e){return ny(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iR(t,e){try{return decodeURIComponent(t)}catch(n){return ny(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ry(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_o(t):t;return{pathname:n?n.startsWith("/")?n:oR(n,e):e,search:lR(r),hash:uR(i)}}function oR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_o(t):(i=Wa({},t),rt(!i.pathname||!i.pathname.includes("?"),vd("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),vd("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),vd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=sR(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),aR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sT=["post","put","patch","delete"];new Set(sT);const fR=["get",...sT];new Set(fR);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}const iy=A.createContext(null),hR=A.createContext(null),To=A.createContext(null),xf=A.createContext(null),wi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),oT=A.createContext(null);function dR(t,e){let{relative:n}=e===void 0?{}:e;Il()||rt(!1);let{basename:r,navigator:i}=A.useContext(To),{hash:s,pathname:o,search:a}=lT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ti([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Il(){return A.useContext(xf)!=null}function Cl(){return Il()||rt(!1),A.useContext(xf).location}function aT(t){A.useContext(To).static||A.useLayoutEffect(t)}function as(){let{isDataRoute:t}=A.useContext(wi);return t?bR():pR()}function pR(){Il()||rt(!1);let t=A.useContext(iy),{basename:e,navigator:n}=A.useContext(To),{matches:r}=A.useContext(wi),{pathname:i}=Cl(),s=JSON.stringify(rT(r).map(l=>l.pathnameBase)),o=A.useRef(!1);return aT(()=>{o.current=!0}),A.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=iT(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ti([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function sy(){let{matches:t}=A.useContext(wi),e=t[t.length-1];return e?e.params:{}}function lT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=A.useContext(wi),{pathname:i}=Cl(),s=JSON.stringify(rT(r).map(o=>o.pathnameBase));return A.useMemo(()=>iT(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function mR(t,e){return gR(t,e)}function gR(t,e,n){Il()||rt(!1);let{navigator:r}=A.useContext(To),{matches:i}=A.useContext(wi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Cl(),u;if(e){var c;let w=typeof e=="string"?_o(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||rt(!1),u=w}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",p=HP(t,{pathname:h}),m=SR(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ti([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:ti([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&m?A.createElement(xf.Provider,{value:{location:xc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},m):m}function yR(){let t=CR(),e=cR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,s)}const vR=A.createElement(yR,null);class wR extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?A.createElement(wi.Provider,{value:this.props.routeContext},A.createElement(oT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ER(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(iy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(wi.Provider,{value:e},r)}function SR(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||rt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||vR);let h=e.concat(s.slice(0,u+1)),p=()=>{let m;return c?m=f:l.route.Component?m=A.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,A.createElement(ER,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?A.createElement(wR,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var em;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(em||(em={}));var qa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(qa||(qa={}));function _R(t){let e=A.useContext(iy);return e||rt(!1),e}function TR(t){let e=A.useContext(hR);return e||rt(!1),e}function IR(t){let e=A.useContext(wi);return e||rt(!1),e}function uT(t){let e=IR(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function CR(){var t;let e=A.useContext(oT),n=TR(qa.UseRouteError),r=uT(qa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function bR(){let{router:t}=_R(em.UseNavigateStable),e=uT(qa.UseNavigateStable),n=A.useRef(!1);return aT(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xc({fromRouteId:e},s)))},[t,e])}function bi(t){rt(!1)}function kR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wr.Pop,navigator:s,static:o=!1}=t;Il()&&rt(!1);let a=e.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=_o(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:p="default"}=r,m=A.useMemo(()=>{let w=ry(u,a);return w==null?null:{location:{pathname:w,search:c,hash:f,state:h,key:p},navigationType:i}},[a,u,c,f,h,p,i]);return m==null?null:A.createElement(To.Provider,{value:l},A.createElement(xf.Provider,{children:n,value:m}))}function xR(t){let{children:e,location:n}=t;return mR(tm(e),n)}var cw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(cw||(cw={}));new Promise(()=>{});function tm(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,tm(r.props.children,s));return}r.type!==bi&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function OR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RR(t,e){return t.button===0&&(!e||e==="_self")&&!PR(t)}const NR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function AR(t){let{basename:e,children:n,window:r}=t,i=A.useRef();i.current==null&&(i.current=VP({window:r,v5Compat:!0}));let s=i.current,[o,a]=A.useState({action:s.action,location:s.location});return A.useLayoutEffect(()=>s.listen(a),[s]),A.createElement(kR,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const DR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oc=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,f=OR(e,NR),{basename:h}=A.useContext(To),p,m=!1;if(typeof u=="string"&&LR.test(u)&&(p=u,DR))try{let d=new URL(window.location.href),y=u.startsWith("//")?new URL(d.protocol+u):new URL(u),k=ry(y.pathname,h);y.origin===d.origin&&k!=null?u=k+y.search+y.hash:m=!0}catch{}let w=dR(u,{relative:i}),x=$R(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(d){r&&r(d),d.defaultPrevented||x(d)}return A.createElement("a",nm({},f,{href:p||w,onClick:m||s?r:g,ref:n,target:l}))});var fw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(fw||(fw={}));var hw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hw||(hw={}));function $R(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=as(),l=Cl(),u=lT(t,{relative:o});return A.useCallback(c=>{if(RR(c,n)){c.preventDefault();let f=r!==void 0?r:kc(l)===kc(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function cT(t,e){return function(){return t.apply(e,arguments)}}const{toString:MR}=Object.prototype,{getPrototypeOf:oy}=Object,Of=(t=>e=>{const n=MR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=t=>(t=t.toLowerCase(),e=>Of(e)===t),Pf=t=>e=>typeof e===t,{isArray:Io}=Array,Ka=Pf("undefined");function jR(t){return t!==null&&!Ka(t)&&t.constructor!==null&&!Ka(t.constructor)&&Tn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fT=nr("ArrayBuffer");function UR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fT(t.buffer),e}const FR=Pf("string"),Tn=Pf("function"),hT=Pf("number"),Rf=t=>t!==null&&typeof t=="object",VR=t=>t===!0||t===!1,Bu=t=>{if(Of(t)!=="object")return!1;const e=oy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BR=nr("Date"),zR=nr("File"),HR=nr("Blob"),WR=nr("FileList"),qR=t=>Rf(t)&&Tn(t.pipe),KR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tn(t.append)&&((e=Of(t))==="formdata"||e==="object"&&Tn(t.toString)&&t.toString()==="[object FormData]"))},GR=nr("URLSearchParams"),YR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Io(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function dT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const pT=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mT=t=>!Ka(t)&&t!==pT;function rm(){const{caseless:t}=mT(this)&&this||{},e={},n=(r,i)=>{const s=t&&dT(e,i)||i;Bu(e[s])&&Bu(r)?e[s]=rm(e[s],r):Bu(r)?e[s]=rm({},r):Io(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&bl(arguments[r],n);return e}const QR=(t,e,n,{allOwnKeys:r}={})=>(bl(e,(i,s)=>{n&&Tn(i)?t[s]=cT(i,n):t[s]=i},{allOwnKeys:r}),t),XR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),JR=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ZR=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&oy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},tN=t=>{if(!t)return null;if(Io(t))return t;let e=t.length;if(!hT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&oy(Uint8Array)),rN=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},iN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},sN=nr("HTMLFormElement"),oN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),dw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),aN=nr("RegExp"),gT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};bl(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},lN=t=>{gT(t,(e,n)=>{if(Tn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uN=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Io(t)?r(t):r(String(t).split(e)),n},cN=()=>{},fN=(t,e)=>(t=+t,Number.isFinite(t)?t:e),wd="abcdefghijklmnopqrstuvwxyz",pw="0123456789",yT={DIGIT:pw,ALPHA:wd,ALPHA_DIGIT:wd+wd.toUpperCase()+pw},hN=(t=16,e=yT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function dN(t){return!!(t&&Tn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const pN=t=>{const e=new Array(10),n=(r,i)=>{if(Rf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Io(r)?[]:{};return bl(r,(o,a)=>{const l=n(o,i+1);!Ka(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},mN=nr("AsyncFunction"),gN=t=>t&&(Rf(t)||Tn(t))&&Tn(t.then)&&Tn(t.catch),L={isArray:Io,isArrayBuffer:fT,isBuffer:jR,isFormData:KR,isArrayBufferView:UR,isString:FR,isNumber:hT,isBoolean:VR,isObject:Rf,isPlainObject:Bu,isUndefined:Ka,isDate:BR,isFile:zR,isBlob:HR,isRegExp:aN,isFunction:Tn,isStream:qR,isURLSearchParams:GR,isTypedArray:nN,isFileList:WR,forEach:bl,merge:rm,extend:QR,trim:YR,stripBOM:XR,inherits:JR,toFlatObject:ZR,kindOf:Of,kindOfTest:nr,endsWith:eN,toArray:tN,forEachEntry:rN,matchAll:iN,isHTMLForm:sN,hasOwnProperty:dw,hasOwnProp:dw,reduceDescriptors:gT,freezeMethods:lN,toObjectSet:uN,toCamelCase:oN,noop:cN,toFiniteNumber:fN,findKey:dT,global:pT,isContextDefined:mT,ALPHABET:yT,generateString:hN,isSpecCompliantForm:dN,toJSONObject:pN,isAsyncFn:mN,isThenable:gN};function we(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}L.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const vT=we.prototype,wT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wT[t]={value:t}});Object.defineProperties(we,wT);Object.defineProperty(vT,"isAxiosError",{value:!0});we.from=(t,e,n,r,i,s)=>{const o=Object.create(vT);return L.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),we.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const yN=null;function im(t){return L.isPlainObject(t)||L.isArray(t)}function ET(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function mw(t,e,n){return t?t.concat(e).map(function(i,s){return i=ET(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function vN(t){return L.isArray(t)&&!t.some(im)}const wN=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Nf(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!L.isUndefined(x[w])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(L.isDate(m))return m.toISOString();if(!l&&L.isBlob(m))throw new we("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(m)||L.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,w,x){let g=m;if(m&&!x&&typeof m=="object"){if(L.endsWith(w,"{}"))w=r?w:w.slice(0,-2),m=JSON.stringify(m);else if(L.isArray(m)&&vN(m)||(L.isFileList(m)||L.endsWith(w,"[]"))&&(g=L.toArray(m)))return w=ET(w),g.forEach(function(y,k){!(L.isUndefined(y)||y===null)&&e.append(o===!0?mw([w],k,s):o===null?w:w+"[]",u(y))}),!1}return im(m)?!0:(e.append(mw(x,w,s),u(m)),!1)}const f=[],h=Object.assign(wN,{defaultVisitor:c,convertValue:u,isVisitable:im});function p(m,w){if(!L.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(m),L.forEach(m,function(g,d){(!(L.isUndefined(g)||g===null)&&i.call(e,g,L.isString(d)?d.trim():d,w,h))===!0&&p(g,w?w.concat(d):[d])}),f.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ay(t,e){this._pairs=[],t&&Nf(t,this,e)}const ST=ay.prototype;ST.append=function(e,n){this._pairs.push([e,n])};ST.toString=function(e){const n=e?function(r){return e.call(this,r,gw)}:gw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function EN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _T(t,e,n){if(!e)return t;const r=n&&n.encode||EN,i=n&&n.serialize;let s;if(i?s=i(e,n):s=L.isURLSearchParams(e)?e.toString():new ay(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class SN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const yw=SN,TT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_N=typeof URLSearchParams<"u"?URLSearchParams:ay,TN=typeof FormData<"u"?FormData:null,IN=typeof Blob<"u"?Blob:null,CN=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),bN=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),qn={isBrowser:!0,classes:{URLSearchParams:_N,FormData:TN,Blob:IN},isStandardBrowserEnv:CN,isStandardBrowserWebWorkerEnv:bN,protocols:["http","https","file","blob","url","data"]};function kN(t,e){return Nf(t,new qn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return qn.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function xN(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ON(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function IT(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&L.isArray(i)?i.length:o,l?(L.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!L.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&L.isArray(i[o])&&(i[o]=ON(i[o])),!a)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,i)=>{e(xN(r),i,n,0)}),n}return null}const PN={"Content-Type":void 0};function RN(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Af={transitional:TT,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=L.isObject(e);if(s&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return i&&i?JSON.stringify(IT(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kN(e,this.formSerializer).toString();if((a=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Nf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),RN(e)):e}],transformResponse:[function(e){const n=this.transitional||Af.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&L.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?we.from(a,we.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(e){Af.headers[e]={}});L.forEach(["post","put","patch"],function(e){Af.headers[e]=L.merge(PN)});const ly=Af,NN=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AN=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&NN[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vw=Symbol("internals");function qo(t){return t&&String(t).trim().toLowerCase()}function zu(t){return t===!1||t==null?t:L.isArray(t)?t.map(zu):String(t)}function DN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const LN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ed(t,e,n,r,i){if(L.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function $N(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function MN(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Df{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=qo(l);if(!c)throw new Error("header name must be a non-empty string");const f=L.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=zu(a))}const o=(a,l)=>L.forEach(a,(u,c)=>s(u,c,l));return L.isPlainObject(e)||e instanceof this.constructor?o(e,n):L.isString(e)&&(e=e.trim())&&!LN(e)?o(AN(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=qo(e),e){const r=L.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return DN(i);if(L.isFunction(n))return n.call(this,i,r);if(L.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qo(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ed(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=qo(o),o){const a=L.findKey(r,o);a&&(!n||Ed(r,r[a],a,n))&&(delete r[a],i=!0)}}return L.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ed(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return L.forEach(this,(i,s)=>{const o=L.findKey(r,s);if(o){n[o]=zu(i),delete n[s];return}const a=e?$N(s):String(s).trim();a!==s&&delete n[s],n[a]=zu(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vw]=this[vw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=qo(o);r[a]||(MN(i,o),r[a]=!0)}return L.isArray(e)?e.forEach(s):s(e),this}}Df.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.freezeMethods(Df.prototype);L.freezeMethods(Df);const mr=Df;function Sd(t,e){const n=this||ly,r=e||n,i=mr.from(r.headers);let s=r.data;return L.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function CT(t){return!!(t&&t.__CANCEL__)}function kl(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(kl,we,{__CANCEL__:!0});function jN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const UN=qn.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),L.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),L.isString(s)&&l.push("path="+s),L.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function FN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function VN(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function bT(t,e){return t&&!FN(e)?VN(t,e):e}const BN=qn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=L.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function zN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HN(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(h*1e3/p):void 0}}function ww(t,e){let n=0;const r=HN(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const WN=typeof XMLHttpRequest<"u",qN=WN&&function(t){return new Promise(function(n,r){let i=t.data;const s=mr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}L.isFormData(i)&&(qn.isStandardBrowserEnv||qn.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+m))}const c=bT(t.baseURL,t.url);u.open(t.method.toUpperCase(),_T(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const p=mr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};jN(function(g){n(g),l()},function(g){r(g),l()},w),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new we("Request aborted",we.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||TT;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new we(m,w.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,u)),u=null},qn.isStandardBrowserEnv){const p=(t.withCredentials||BN(c))&&t.xsrfCookieName&&UN.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&L.forEach(s.toJSON(),function(m,w){u.setRequestHeader(w,m)}),L.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",ww(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",ww(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(r(!p||p.type?new kl(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=zN(c);if(h&&qn.protocols.indexOf(h)===-1){r(new we("Unsupported protocol "+h+":",we.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Hu={http:yN,xhr:qN};L.forEach(Hu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const KN={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=L.isString(n)?Hu[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new we(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(L.hasOwnProp(Hu,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!L.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Hu};function _d(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new kl(null,t)}function Ew(t){return _d(t),t.headers=mr.from(t.headers),t.data=Sd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KN.getAdapter(t.adapter||ly.adapter)(t).then(function(r){return _d(t),r.data=Sd.call(t,t.transformResponse,r),r.headers=mr.from(r.headers),r},function(r){return CT(r)||(_d(t),r&&r.response&&(r.response.data=Sd.call(t,t.transformResponse,r.response),r.response.headers=mr.from(r.response.headers))),Promise.reject(r)})}const Sw=t=>t instanceof mr?t.toJSON():t;function ro(t,e){e=e||{};const n={};function r(u,c,f){return L.isPlainObject(u)&&L.isPlainObject(c)?L.merge.call({caseless:f},u,c):L.isPlainObject(c)?L.merge({},c):L.isArray(c)?c.slice():c}function i(u,c,f){if(L.isUndefined(c)){if(!L.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function s(u,c){if(!L.isUndefined(c))return r(void 0,c)}function o(u,c){if(L.isUndefined(c)){if(!L.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(Sw(u),Sw(c),!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,h=f(t[c],e[c],c);L.isUndefined(h)&&f!==a||(n[c]=h)}),n}const kT="1.4.0",uy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _w={};uy.transitional=function(e,n,r){function i(s,o){return"[Axios v"+kT+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new we(i(o," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!_w[o]&&(_w[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function GN(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new we("option "+s+" must be "+l,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+s,we.ERR_BAD_OPTION)}}const sm={assertOptions:GN,validators:uy},Ar=sm.validators;class Pc{constructor(e){this.defaults=e,this.interceptors={request:new yw,response:new yw}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ro(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&sm.assertOptions(r,{silentJSONParsing:Ar.transitional(Ar.boolean),forcedJSONParsing:Ar.transitional(Ar.boolean),clarifyTimeoutError:Ar.transitional(Ar.boolean)},!1),i!=null&&(L.isFunction(i)?n.paramsSerializer={serialize:i}:sm.assertOptions(i,{encode:Ar.function,serialize:Ar.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&L.merge(s.common,s[n.method]),o&&L.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=mr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,f=0,h;if(!l){const m=[Ew.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,c=Promise.resolve(n);f<h;)c=c.then(m[f++],m[f++]);return c}h=a.length;let p=n;for(f=0;f<h;){const m=a[f++],w=a[f++];try{p=m(p)}catch(x){w.call(this,x);break}}try{c=Ew.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=ro(this.defaults,e);const n=bT(e.baseURL,e.url);return _T(n,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){Pc.prototype[e]=function(n,r){return this.request(ro(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ro(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Pc.prototype[e]=n(),Pc.prototype[e+"Form"]=n(!0)});const Wu=Pc;class cy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new kl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new cy(function(i){e=i}),cancel:e}}}const YN=cy;function QN(t){return function(n){return t.apply(null,n)}}function XN(t){return L.isObject(t)&&t.isAxiosError===!0}const om={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(om).forEach(([t,e])=>{om[e]=t});const JN=om;function xT(t){const e=new Wu(t),n=cT(Wu.prototype.request,e);return L.extend(n,Wu.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xT(ro(t,i))},n}const at=xT(ly);at.Axios=Wu;at.CanceledError=kl;at.CancelToken=YN;at.isCancel=CT;at.VERSION=kT;at.toFormData=Nf;at.AxiosError=we;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=QN;at.isAxiosError=XN;at.mergeConfig=ro;at.AxiosHeaders=mr;at.formToJSON=t=>IT(L.isHTMLForm(t)?new FormData(t):t);at.HttpStatusCode=JN;at.default=at;const ZN=at,eA="https://api.themoviedb.org/3",OT="608780faf4661cc99f95a8dd8a70e4e9",tA={Authorization:"bearer "+OT},io=async(t,e)=>{try{const{data:n}=await ZN.get(eA+t,{headers:tA,params:{api_key:OT,...e}});return n}catch(n){return console.log(n),n}};var PT={exports:{}},RT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=A;function nA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rA=typeof Object.is=="function"?Object.is:nA,iA=so.useState,sA=so.useEffect,oA=so.useLayoutEffect,aA=so.useDebugValue;function lA(t,e){var n=e(),r=iA({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return oA(function(){i.value=n,i.getSnapshot=e,Td(i)&&s({inst:i})},[t,n,e]),sA(function(){return Td(i)&&s({inst:i}),t(function(){Td(i)&&s({inst:i})})},[t]),aA(n),n}function Td(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rA(t,n)}catch{return!0}}function uA(t,e){return e()}var cA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uA:lA;RT.useSyncExternalStore=so.useSyncExternalStore!==void 0?so.useSyncExternalStore:cA;PT.exports=RT;var fA=PT.exports,NT={exports:{}},AT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=A,hA=fA;function dA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pA=typeof Object.is=="function"?Object.is:dA,mA=hA.useSyncExternalStore,gA=Lf.useRef,yA=Lf.useEffect,vA=Lf.useMemo,wA=Lf.useDebugValue;AT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=gA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=vA(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,pA(c,p))return m;var w=r(p);return i!==void 0&&i(m,w)?m:(c=p,f=w)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=mA(t,s[0],s[1]);return yA(function(){o.hasValue=!0,o.value=a},[a]),wA(a),a};NT.exports=AT;var EA=NT.exports;function SA(t){t()}let DT=SA;const _A=t=>DT=t,TA=()=>DT,fi=A.createContext(null);function LT(){return A.useContext(fi)}const IA=()=>{throw new Error("uSES not initialized!")};let $T=IA;const CA=t=>{$T=t},bA=(t,e)=>t===e;function kA(t=fi){const e=t===fi?LT:()=>A.useContext(t);return function(r,i=bA){const{store:s,subscription:o,getServerState:a}=e(),l=$T(o.addNestedSub,s.getState,a||s.getState,r,i);return A.useDebugValue(l),l}}const jn=kA();var MT={exports:{}},be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=typeof Symbol=="function"&&Symbol.for,fy=pt?Symbol.for("react.element"):60103,hy=pt?Symbol.for("react.portal"):60106,$f=pt?Symbol.for("react.fragment"):60107,Mf=pt?Symbol.for("react.strict_mode"):60108,jf=pt?Symbol.for("react.profiler"):60114,Uf=pt?Symbol.for("react.provider"):60109,Ff=pt?Symbol.for("react.context"):60110,dy=pt?Symbol.for("react.async_mode"):60111,Vf=pt?Symbol.for("react.concurrent_mode"):60111,Bf=pt?Symbol.for("react.forward_ref"):60112,zf=pt?Symbol.for("react.suspense"):60113,xA=pt?Symbol.for("react.suspense_list"):60120,Hf=pt?Symbol.for("react.memo"):60115,Wf=pt?Symbol.for("react.lazy"):60116,OA=pt?Symbol.for("react.block"):60121,PA=pt?Symbol.for("react.fundamental"):60117,RA=pt?Symbol.for("react.responder"):60118,NA=pt?Symbol.for("react.scope"):60119;function pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fy:switch(t=t.type,t){case dy:case Vf:case $f:case jf:case Mf:case zf:return t;default:switch(t=t&&t.$$typeof,t){case Ff:case Bf:case Wf:case Hf:case Uf:return t;default:return e}}case hy:return e}}}function jT(t){return pn(t)===Vf}be.AsyncMode=dy;be.ConcurrentMode=Vf;be.ContextConsumer=Ff;be.ContextProvider=Uf;be.Element=fy;be.ForwardRef=Bf;be.Fragment=$f;be.Lazy=Wf;be.Memo=Hf;be.Portal=hy;be.Profiler=jf;be.StrictMode=Mf;be.Suspense=zf;be.isAsyncMode=function(t){return jT(t)||pn(t)===dy};be.isConcurrentMode=jT;be.isContextConsumer=function(t){return pn(t)===Ff};be.isContextProvider=function(t){return pn(t)===Uf};be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fy};be.isForwardRef=function(t){return pn(t)===Bf};be.isFragment=function(t){return pn(t)===$f};be.isLazy=function(t){return pn(t)===Wf};be.isMemo=function(t){return pn(t)===Hf};be.isPortal=function(t){return pn(t)===hy};be.isProfiler=function(t){return pn(t)===jf};be.isStrictMode=function(t){return pn(t)===Mf};be.isSuspense=function(t){return pn(t)===zf};be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$f||t===Vf||t===jf||t===Mf||t===zf||t===xA||typeof t=="object"&&t!==null&&(t.$$typeof===Wf||t.$$typeof===Hf||t.$$typeof===Uf||t.$$typeof===Ff||t.$$typeof===Bf||t.$$typeof===PA||t.$$typeof===RA||t.$$typeof===NA||t.$$typeof===OA)};be.typeOf=pn;MT.exports=be;var AA=MT.exports,UT=AA,DA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FT={};FT[UT.ForwardRef]=DA;FT[UT.Memo]=LA;var xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py=Symbol.for("react.element"),my=Symbol.for("react.portal"),qf=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),$A=Symbol.for("react.server_context"),Xf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),eh=Symbol.for("react.memo"),th=Symbol.for("react.lazy"),MA=Symbol.for("react.offscreen"),VT;VT=Symbol.for("react.module.reference");function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case py:switch(t=t.type,t){case qf:case Gf:case Kf:case Jf:case Zf:return t;default:switch(t=t&&t.$$typeof,t){case $A:case Qf:case Xf:case th:case eh:case Yf:return t;default:return e}}case my:return e}}}xe.ContextConsumer=Qf;xe.ContextProvider=Yf;xe.Element=py;xe.ForwardRef=Xf;xe.Fragment=qf;xe.Lazy=th;xe.Memo=eh;xe.Portal=my;xe.Profiler=Gf;xe.StrictMode=Kf;xe.Suspense=Jf;xe.SuspenseList=Zf;xe.isAsyncMode=function(){return!1};xe.isConcurrentMode=function(){return!1};xe.isContextConsumer=function(t){return kn(t)===Qf};xe.isContextProvider=function(t){return kn(t)===Yf};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===py};xe.isForwardRef=function(t){return kn(t)===Xf};xe.isFragment=function(t){return kn(t)===qf};xe.isLazy=function(t){return kn(t)===th};xe.isMemo=function(t){return kn(t)===eh};xe.isPortal=function(t){return kn(t)===my};xe.isProfiler=function(t){return kn(t)===Gf};xe.isStrictMode=function(t){return kn(t)===Kf};xe.isSuspense=function(t){return kn(t)===Jf};xe.isSuspenseList=function(t){return kn(t)===Zf};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qf||t===Gf||t===Kf||t===Jf||t===Zf||t===MA||typeof t=="object"&&t!==null&&(t.$$typeof===th||t.$$typeof===eh||t.$$typeof===Yf||t.$$typeof===Qf||t.$$typeof===Xf||t.$$typeof===VT||t.getModuleId!==void 0)};xe.typeOf=kn;function jA(){const t=TA();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Tw={notify(){},get:()=>[]};function UA(t,e){let n,r=Tw;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=jA())}function u(){n&&(n(),n=void 0,r.clear(),r=Tw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VA=FA?A.useLayoutEffect:A.useEffect;function BA({store:t,context:e,children:n,serverState:r}){const i=A.useMemo(()=>{const a=UA(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=A.useMemo(()=>t.getState(),[t]);VA(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||fi;return Ye.createElement(o.Provider,{value:i},n)}function BT(t=fi){const e=t===fi?LT:()=>A.useContext(t);return function(){const{store:r}=e();return r}}const zA=BT();function HA(t=fi){const e=t===fi?zA:BT(t);return function(){return e().dispatch}}const gy=HA();CA(EA.useSyncExternalStoreWithSelector);_A(ty.unstable_batchedUpdates);function Nn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function hi(t){return!!t&&!!t[Me]}function Er(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ZA}(t)||Array.isArray(t)||!!t[Pw]||!!(!((e=t.constructor)===null||e===void 0)&&e[Pw])||yy(t)||vy(t))}function Gi(t,e,n){n===void 0&&(n=!1),Co(t)===0?(n?Object.keys:Fs)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Co(t){var e=t[Me];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:yy(t)?2:vy(t)?3:0}function Us(t,e){return Co(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WA(t,e){return Co(t)===2?t.get(e):t[e]}function zT(t,e,n){var r=Co(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function HT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function yy(t){return XA&&t instanceof Map}function vy(t){return JA&&t instanceof Set}function ki(t){return t.o||t.t}function wy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=qT(t);delete e[Me];for(var n=Fs(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Ey(t,e){return e===void 0&&(e=!1),Sy(t)||hi(t)||!Er(t)||(Co(t)>1&&(t.set=t.add=t.clear=t.delete=qA),Object.freeze(t),e&&Gi(t,function(n,r){return Ey(r,!0)},!0)),t}function qA(){Nn(2)}function Sy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Qn(t){var e=cm[t];return e||Nn(18,t),e}function KA(t,e){cm[t]||(cm[t]=e)}function am(){return Ga}function Id(t,e){e&&(Qn("Patches"),t.u=[],t.s=[],t.v=e)}function Rc(t){lm(t),t.p.forEach(GA),t.p=null}function lm(t){t===Ga&&(Ga=t.l)}function Iw(t){return Ga={p:[],l:Ga,h:t,m:!0,_:0}}function GA(t){var e=t[Me];e.i===0||e.i===1?e.j():e.g=!0}function Cd(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Qn("ES5").S(e,t,r),r?(n[Me].P&&(Rc(e),Nn(4)),Er(t)&&(t=Nc(e,t),e.l||Ac(e,t)),e.u&&Qn("Patches").M(n[Me].t,t,e.u,e.s)):t=Nc(e,n,[]),Rc(e),e.u&&e.v(e.u,e.s),t!==WT?t:void 0}function Nc(t,e,n){if(Sy(e))return e;var r=e[Me];if(!r)return Gi(e,function(a,l){return Cw(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ac(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=wy(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Gi(s,function(a,l){return Cw(t,r,i,a,l,n,o)}),Ac(t,i,!1),n&&t.u&&Qn("Patches").N(r,n,t.u,t.s)}return r.o}function Cw(t,e,n,r,i,s,o){if(hi(i)){var a=Nc(t,i,s&&e&&e.i!==3&&!Us(e.R,r)?s.concat(r):void 0);if(zT(n,r,a),!hi(a))return;t.m=!1}else o&&n.add(i);if(Er(i)&&!Sy(i)){if(!t.h.D&&t._<1)return;Nc(t,i),e&&e.A.l||Ac(t,i)}}function Ac(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Ey(e,n)}function bd(t,e){var n=t[Me];return(n?ki(n):t)[e]}function bw(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ur(t){t.P||(t.P=!0,t.l&&Ur(t.l))}function kd(t){t.o||(t.o=wy(t.t))}function um(t,e,n){var r=yy(e)?Qn("MapSet").F(e,n):vy(e)?Qn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:am(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ya;o&&(l=[a],u=na);var c=Proxy.revocable(l,u),f=c.revoke,h=c.proxy;return a.k=h,a.j=f,h}(e,n):Qn("ES5").J(e,n);return(n?n.A:am()).p.push(r),r}function YA(t){return hi(t)||Nn(22,t),function e(n){if(!Er(n))return n;var r,i=n[Me],s=Co(n);if(i){if(!i.P&&(i.i<4||!Qn("ES5").K(i)))return i.t;i.I=!0,r=kw(n,s),i.I=!1}else r=kw(n,s);return Gi(r,function(o,a){i&&WA(i.t,o)===a||zT(r,o,e(a))}),s===3?new Set(r):r}(t)}function kw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return wy(t)}function QA(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Me];return Ya.get(l,s)},set:function(l){var u=this[Me];Ya.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Me];if(!a.P)switch(a.i){case 5:r(a)&&Ur(a);break;case 4:n(a)&&Ur(a)}}}function n(s){for(var o=s.t,a=s.k,l=Fs(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Me){var f=o[c];if(f===void 0&&!Us(o,c))return!0;var h=a[c],p=h&&h[Me];if(p?p.t!==f:!HT(h,f))return!0}}var m=!!o[Me];return l.length!==Fs(o).length+(m?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};KA("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,f){if(c){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var m=qT(f);delete m[Me];for(var w=Fs(m),x=0;x<w.length;x++){var g=w[x];m[g]=t(g,c||!!m[g].enumerable)}return Object.create(Object.getPrototypeOf(f),m)}(a,s),u={i:a?5:4,A:o?o.A:am(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Me,{value:u,writable:!0}),l},S:function(s,o,a){a?hi(o)&&o[Me].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Me];if(c){var f=c.t,h=c.k,p=c.R,m=c.i;if(m===4)Gi(h,function(y){y!==Me&&(f[y]!==void 0||Us(f,y)?p[y]||l(h[y]):(p[y]=!0,Ur(c)))}),Gi(f,function(y){h[y]!==void 0||Us(h,y)||(p[y]=!1,Ur(c))});else if(m===5){if(r(c)&&(Ur(c),p.length=!0),h.length<f.length)for(var w=h.length;w<f.length;w++)p[w]=!1;else for(var x=f.length;x<h.length;x++)p[x]=!0;for(var g=Math.min(h.length,f.length),d=0;d<g;d++)h.hasOwnProperty(d)||(p[d]=!0),p[d]===void 0&&l(h[d])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var xw,Ga,_y=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",XA=typeof Map<"u",JA=typeof Set<"u",Ow=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",WT=_y?Symbol.for("immer-nothing"):((xw={})["immer-nothing"]=!0,xw),Pw=_y?Symbol.for("immer-draftable"):"__$immer_draftable",Me=_y?Symbol.for("immer-state"):"__$immer_state",ZA=""+Object.prototype.constructor,Fs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,qT=Object.getOwnPropertyDescriptors||function(t){var e={};return Fs(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},cm={},Ya={get:function(t,e){if(e===Me)return t;var n=ki(t);if(!Us(n,e))return function(i,s,o){var a,l=bw(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Er(r)?r:r===bd(t.t,e)?(kd(t),t.o[e]=um(t.A.h,r,t)):r},has:function(t,e){return e in ki(t)},ownKeys:function(t){return Reflect.ownKeys(ki(t))},set:function(t,e,n){var r=bw(ki(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=bd(ki(t),e),s=i==null?void 0:i[Me];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(HT(n,i)&&(n!==void 0||Us(t.t,e)))return!0;kd(t),Ur(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return bd(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,kd(t),Ur(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ki(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Nn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Nn(12)}},na={};Gi(Ya,function(t,e){na[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),na.deleteProperty=function(t,e){return na.set.call(this,t,e,void 0)},na.set=function(t,e,n){return Ya.set.call(this,t[0],e,n,t[0])};var e2=function(){function t(n){var r=this;this.O=Ow,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(w){var x=this;w===void 0&&(w=a);for(var g=arguments.length,d=Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];return l.produce(w,function(k){var I;return(I=s).call.apply(I,[x,k].concat(d))})}}var u;if(typeof s!="function"&&Nn(6),o!==void 0&&typeof o!="function"&&Nn(7),Er(i)){var c=Iw(r),f=um(r,i,void 0),h=!0;try{u=s(f),h=!1}finally{h?Rc(c):lm(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return Id(c,o),Cd(w,c)},function(w){throw Rc(c),w}):(Id(c,o),Cd(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===WT&&(u=void 0),r.D&&Ey(u,!0),o){var p=[],m=[];Qn("Patches").M(i,u,p,m),o(p,m)}return u}Nn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Er(n)||Nn(8),hi(n)&&(n=YA(n));var r=Iw(this),i=um(this,n,void 0);return i[Me].C=!0,lm(r),i},e.finishDraft=function(n,r){var i=n&&n[Me],s=i.A;return Id(s,r),Cd(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Ow&&Nn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Qn("Patches").$;return hi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),cn=new e2,KT=cn.produce;cn.produceWithPatches.bind(cn);cn.setAutoFreeze.bind(cn);cn.setUseProxies.bind(cn);cn.applyPatches.bind(cn);cn.createDraft.bind(cn);cn.finishDraft.bind(cn);function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function t2(t,e){if(Qa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n2(t){var e=t2(t,"string");return Qa(e)==="symbol"?e:String(e)}function r2(t,e,n){return e=n2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(n),!0).forEach(function(r){r2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Aw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),xd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Dc={INIT:"@@redux/INIT"+xd(),REPLACE:"@@redux/REPLACE"+xd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xd()}};function i2(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function GT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rt(1));return n(GT)(t,e)}if(typeof t!="function")throw new Error(Rt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Rt(3));return s}function f(w){if(typeof w!="function")throw new Error(Rt(4));if(l)throw new Error(Rt(5));var x=!0;return u(),a.push(w),function(){if(x){if(l)throw new Error(Rt(6));x=!1,u();var d=a.indexOf(w);a.splice(d,1),o=null}}}function h(w){if(!i2(w))throw new Error(Rt(7));if(typeof w.type>"u")throw new Error(Rt(8));if(l)throw new Error(Rt(9));try{l=!0,s=i(s,w)}finally{l=!1}for(var x=o=a,g=0;g<x.length;g++){var d=x[g];d()}return w}function p(w){if(typeof w!="function")throw new Error(Rt(10));i=w,h({type:Dc.REPLACE})}function m(){var w,x=f;return w={subscribe:function(d){if(typeof d!="object"||d===null)throw new Error(Rt(11));function y(){d.next&&d.next(c())}y();var k=x(y);return{unsubscribe:k}}},w[Aw]=function(){return this},w}return h({type:Dc.INIT}),r={dispatch:h,subscribe:f,getState:c,replaceReducer:p},r[Aw]=m,r}function s2(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Dc.INIT});if(typeof r>"u")throw new Error(Rt(12));if(typeof n(void 0,{type:Dc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function o2(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{s2(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,f={},h=0;h<s.length;h++){var p=s[h],m=n[p],w=l[p],x=m(w,u);if(typeof x>"u")throw u&&u.type,new Error(Rt(14));f[p]=x,c=c||x!==w}return c=c||s.length!==Object.keys(l).length,c?f:l}}function Lc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function a2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Rt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Lc.apply(void 0,a)(i.dispatch),Nw(Nw({},i),{},{dispatch:s})}}}function YT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var QT=YT();QT.withExtraArgument=YT;const Dw=QT;var XT=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),l2=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},oo=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},u2=Object.defineProperty,c2=Object.defineProperties,f2=Object.getOwnPropertyDescriptors,Lw=Object.getOwnPropertySymbols,h2=Object.prototype.hasOwnProperty,d2=Object.prototype.propertyIsEnumerable,$w=function(t,e,n){return e in t?u2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ni=function(t,e){for(var n in e||(e={}))h2.call(e,n)&&$w(t,n,e[n]);if(Lw)for(var r=0,i=Lw(e);r<i.length;r++){var n=i[r];d2.call(e,n)&&$w(t,n,e[n])}return t},Od=function(t,e){return c2(t,f2(e))},p2=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},m2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lc:Lc.apply(null,arguments)};function g2(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var y2=function(t){XT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,oo([void 0],n[0].concat(this)))):new(e.bind.apply(e,oo([void 0],n.concat(this))))},e}(Array),v2=function(t){XT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,oo([void 0],n[0].concat(this)))):new(e.bind.apply(e,oo([void 0],n.concat(this))))},e}(Array);function fm(t){return Er(t)?KT(t,function(){}):t}function w2(t){return typeof t=="boolean"}function E2(){return function(e){return S2(e)}}function S2(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new y2;return n&&(w2(n)?r.push(Dw):r.push(Dw.withExtraArgument(n.extraArgument))),r}var _2=!0;function T2(t){var e=E2(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(g2(i))p=o2(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;typeof m=="function"&&(m=m(e));var w=a2.apply(void 0,m),x=Lc;l&&(x=m2(ni({trace:!_2},typeof l=="object"&&l)));var g=new v2(w),d=g;Array.isArray(h)?d=oo([w],h):typeof h=="function"&&(d=h(g));var y=x.apply(void 0,d);return GT(p,c,y)}function ri(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return ni(ni({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function JT(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function I2(t){return typeof t=="function"}function C2(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?JT(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(I2(t))l=function(){return fm(t())};else{var u=fm(t);l=function(){return u}}function c(f,h){f===void 0&&(f=l());var p=oo([s[h.type]],o.filter(function(m){var w=m.matcher;return w(h)}).map(function(m){var w=m.reducer;return w}));return p.filter(function(m){return!!m}).length===0&&(p=[a]),p.reduce(function(m,w){if(w)if(hi(m)){var x=m,g=w(x,h);return g===void 0?m:g}else{if(Er(m))return KT(m,function(d){return w(d,h)});var g=w(m,h);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return m},f)}return c.getInitialState=l,c}function b2(t,e){return t+"/"+e}function ZT(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:fm(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],h=b2(e,c),p,m;"reducer"in f?(p=f.reducer,m=f.prepare):p=f,s[c]=p,o[h]=p,a[c]=m?ri(h,m):ri(h)});function l(){var c=typeof t.extraReducers=="function"?JT(t.extraReducers):[t.extraReducers],f=c[0],h=f===void 0?{}:f,p=c[1],m=p===void 0?[]:p,w=c[2],x=w===void 0?void 0:w,g=ni(ni({},h),o);return C2(n,function(d){for(var y in g)d.addCase(y,g[y]);for(var k=0,I=m;k<I.length;k++){var T=I[k];d.addMatcher(T.matcher,T.reducer)}x&&d.addDefaultCase(x)})}var u;return{name:e,reducer:function(c,f){return u||(u=l()),u(c,f)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var k2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",x2=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=k2[Math.random()*64|0];return e},O2=["name","message","stack","code"],Pd=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Mw=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),P2=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=O2;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=ri(e+"/fulfilled",function(u,c,f,h){return{payload:u,meta:Od(ni({},h||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=ri(e+"/pending",function(u,c,f){return{payload:void 0,meta:Od(ni({},f||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=ri(e+"/rejected",function(u,c,f,h,p){return{payload:h,error:(r&&r.serializeError||P2)(u||"Rejected"),meta:Od(ni({},p||{}),{arg:f,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,f,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):x2(),m=new a,w;function x(d){w=d,m.abort()}var g=function(){return p2(this,null,function(){var d,y,k,I,T,S,C;return l2(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),I=(d=r==null?void 0:r.condition)==null?void 0:d.call(r,u,{getState:f,extra:h}),N2(I)?[4,I]:[3,2];case 1:I=b.sent(),b.label=2;case 2:if(I===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(E,W){return m.signal.addEventListener("abort",function(){return W({name:"AbortError",message:w||"Aborted"})})}),c(s(p,u,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:p,arg:u},{getState:f,extra:h}))),[4,Promise.race([T,Promise.resolve(n(u,{dispatch:c,getState:f,extra:h,requestId:p,signal:m.signal,abort:x,rejectWithValue:function(E,W){return new Pd(E,W)},fulfillWithValue:function(E,W){return new Mw(E,W)}})).then(function(E){if(E instanceof Pd)throw E;return E instanceof Mw?i(E.payload,p,u,E.meta):i(E,p,u)})])];case 3:return k=b.sent(),[3,5];case 4:return S=b.sent(),k=S instanceof Pd?o(null,p,u,S.payload,S.meta):o(S,p,u),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&o.match(k)&&k.meta.condition,C||c(k),[2,k]}})})}();return Object.assign(g,{abort:x,requestId:p,arg:u,unwrap:function(){return g.then(R2)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function R2(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function N2(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ty="listenerMiddleware";ri(Ty+"/add");ri(Ty+"/removeAll");ri(Ty+"/remove");var jw;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);QA();const eI=ZT({name:"home",initialState:{url:{},genres:{}},reducers:{getApiConfiguration:(t,e)=>{t.url=e.payload},getGenres:(t,e)=>{t.genres=e.payload}}}),{getApiConfiguration:A2,getGenres:D2}=eI.actions,L2=eI.reducer;var tI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Uw=Ye.createContext&&Ye.createContext(tI),ii=globalThis&&globalThis.__assign||function(){return ii=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ii.apply(this,arguments)},$2=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function nI(t){return t&&t.map(function(e,n){return Ye.createElement(e.tag,ii({key:n},e.attr),nI(e.child))})}function xl(t){return function(e){return Ye.createElement(M2,ii({attr:ii({},t.attr)},e),nI(t.child))}}function M2(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=$2(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ye.createElement("svg",ii({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ii(ii({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ye.createElement("title",null,s),t.children)};return Uw!==void 0?Ye.createElement(Uw.Consumer,null,function(n){return e(n)}):e(tI)}function Fw(t){return xl({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}}]})(t)}function j2(t){return xl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M27 193.6c-8.2-8.2-12.2-18.6-12.2-31.2s4-23 12.2-31.2S45.6 119 58.2 119h912.4c12.6 0 23 4 31.2 12.2s12.2 18.6 12.2 31.2-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2zm974.8 285.2c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 522.6 14.8 510s4-23 12.2-31.2 18.6-12.2 31.2-12.2h912.4c12.6 0 23 4 31.2 12.2zm0 347.4c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 870 14.8 857.4s4-23 12.2-31.2S45.6 814 58.2 814h912.4c12.6 0 23 4.2 31.2 12.2z"}}]})(t)}function Vw(t){return xl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"}}]})(t)}const Yt=({children:t})=>v.jsx("div",{className:"contentWrapper",children:t}),rI=ZT({name:"auth",initialState:{user:{},isAuth:!1},reducers:{login:(t,e)=>{t.user=e.payload,t.isAuth=!0},logout:t=>{t.user=null,t.isAuth=!1}}}),{login:U2,logout:iI}=rI.actions,F2=rI.reducer,Ea=/^[a-z0-9]+(-[a-z0-9]+)*$/,nh=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:r,prefix:l,name:a};return e&&!qu(u)?null:u}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return e&&!qu(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return e&&!qu(a,n)?null:a}return null},qu=(t,e)=>t?!!((t.provider===""||t.provider.match(Ea))&&(e&&t.prefix===""||t.prefix.match(Ea))&&t.name.match(Ea)):!1,sI=Object.freeze({left:0,top:0,width:16,height:16}),$c=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Iy=Object.freeze({...sI,...$c}),hm=Object.freeze({...Iy,body:"",hidden:!1});function V2(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Bw(t,e){const n=V2(t,e);for(const r in hm)r in $c?r in t&&!(r in n)&&(n[r]=$c[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function B2(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function z2(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=Bw(r[a]||i[a],s)}return o(e),n.forEach(o),Bw(t,s)}function oI(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=B2(t);for(const i in r){const s=r[i];s&&(e(i,z2(t,i,s)),n.push(i))}return n}const H2={provider:"",aliases:{},not_found:{},...sI};function Rd(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function aI(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Rd(t,H2))return null;const n=e.icons;for(const i in n){const s=n[i];if(!i.match(Ea)||typeof s.body!="string"||!Rd(s,hm))return null}const r=e.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i.match(Ea)||typeof o!="string"||!n[o]&&!r[o]||!Rd(s,hm))return null}return e}const zw=Object.create(null);function W2(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Yi(t,e){const n=zw[t]||(zw[t]=Object.create(null));return n[e]||(n[e]=W2(t,e))}function Cy(t,e){return aI(e)?oI(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function q2(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let Xa=!1;function lI(t){return typeof t=="boolean"&&(Xa=t),Xa}function K2(t){const e=typeof t=="string"?nh(t,!0,Xa):t;if(e){const n=Yi(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function G2(t,e){const n=nh(t,!0,Xa);if(!n)return!1;const r=Yi(n.provider,n.prefix);return q2(r,n.name,e)}function Y2(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Xa&&!e&&!t.prefix){let i=!1;return aI(t)&&(t.prefix="",oI(t,(s,o)=>{o&&G2(s,o)&&(i=!0)})),i}const n=t.prefix;if(!qu({provider:e,prefix:n,name:"a"}))return!1;const r=Yi(e,n);return!!Cy(r,t)}const uI=Object.freeze({width:null,height:null}),cI=Object.freeze({...uI,...$c}),Q2=/(-?[0-9.]*[0-9]+[0-9.]*)/g,X2=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Hw(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Q2);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=X2.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}const J2=t=>t==="unset"||t==="undefined"||t==="none";function Z2(t,e){const n={...Iy,...t},r={...cI,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(m=>{const w=[],x=m.hFlip,g=m.vFlip;let d=m.rotate;x?g?d+=2:(w.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),w.push("scale(-1 1)"),i.top=i.left=0):g&&(w.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),w.push("scale(1 -1)"),i.top=i.left=0);let y;switch(d<0&&(d-=Math.floor(d/4)*4),d=d%4,d){case 1:y=i.height/2+i.top,w.unshift("rotate(90 "+y.toString()+" "+y.toString()+")");break;case 2:w.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:y=i.width/2+i.left,w.unshift("rotate(-90 "+y.toString()+" "+y.toString()+")");break}d%2===1&&(i.left!==i.top&&(y=i.left,i.left=i.top,i.top=y),i.width!==i.height&&(y=i.width,i.width=i.height,i.height=y)),w.length&&(s='<g transform="'+w.join(" ")+'">'+s+"</g>")});const o=r.width,a=r.height,l=i.width,u=i.height;let c,f;o===null?(f=a===null?"1em":a==="auto"?u:a,c=Hw(f,l/u)):(c=o==="auto"?l:o,f=a===null?Hw(c,u/l):a==="auto"?u:a);const h={},p=(m,w)=>{J2(w)||(h[m]=w.toString())};return p("width",c),p("height",f),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+u.toString(),{attributes:h,body:s}}const eD=/\sid="(\S+)"/g,tD="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let nD=0;function rD(t,e=tD){const n=[];let r;for(;r=eD.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof e=="function"?e(s):e+(nD++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const dm=Object.create(null);function iD(t,e){dm[t]=e}function pm(t){return dm[t]||dm[""]}function by(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const ky=Object.create(null),Ko=["https://api.simplesvg.com","https://api.unisvg.com"],Ku=[];for(;Ko.length>0;)Ko.length===1||Math.random()>.5?Ku.push(Ko.shift()):Ku.push(Ko.pop());ky[""]=by({resources:["https://api.iconify.design"].concat(Ku)});function sD(t,e){const n=by(e);return n===null?!1:(ky[t]=n,!0)}function xy(t){return ky[t]}const oD=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Ww=oD();function aD(t,e){const n=xy(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=e+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function lD(t){return t===404}const uD=(t,e,n)=>{const r=[],i=aD(t,e),s="icons";let o={type:s,provider:t,prefix:e,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=i&&u>0&&(r.push(o),o={type:s,provider:t,prefix:e,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function cD(t){if(typeof t=="string"){const e=xy(t);if(e)return e.path}return"/"}const fD=(t,e,n)=>{if(!Ww){n("abort",424);return}let r=cD(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;Ww(t+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n(lD(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},hD={prepare:uD,send:fD};function dD(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,a=i.name,l=n[s]||(n[s]=Object.create(null)),u=l[o]||(l[o]=Yi(s,o));let c;a in u.icons?c=e.loaded:o===""||u.missing.has(a)?c=e.missing:c=e.pending;const f={provider:s,prefix:o,name:a};c.push(f)}),e}function fI(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function pD(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(t.icons[u])o.loaded.push({provider:r,prefix:i,name:u});else if(t.missing.has(u))o.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||fI([t],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let mD=0;function gD(t,e,n){const r=mD++,i=fI.bind(null,n,r);if(!e.pending.length)return i;const s={id:r,icons:e,callback:t,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function yD(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const s=typeof i=="string"?nh(i,e,n):i;s&&r.push(s)}),r}var vD={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function wD(t,e,n,r){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let T=t.resources.slice(0);for(o=[];T.length>1;){const S=Math.floor(Math.random()*T.length);o.push(T[S]),T=T.slice(0,S).concat(T.slice(S+1))}o=o.concat(T)}else o=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,f=null,h=[],p=[];typeof r=="function"&&p.push(r);function m(){f&&(clearTimeout(f),f=null)}function w(){l==="pending"&&(l="aborted"),m(),h.forEach(T=>{T.status==="pending"&&(T.status="aborted")}),h=[]}function x(T,S){S&&(p=[]),typeof T=="function"&&p.push(T)}function g(){return{startTime:a,payload:e,status:l,queriesSent:u,queriesPending:h.length,subscribe:x,abort:w}}function d(){l="failed",p.forEach(T=>{T(void 0,c)})}function y(){h.forEach(T=>{T.status==="pending"&&(T.status="aborted")}),h=[]}function k(T,S,C){const b=S!=="success";switch(h=h.filter(E=>E!==T),l){case"pending":break;case"failed":if(b||!t.dataAfterTimeout)return;break;default:return}if(S==="abort"){c=C,d();return}if(b){c=C,h.length||(o.length?I():d());return}if(m(),y(),!t.random){const E=t.resources.indexOf(T.resource);E!==-1&&E!==t.index&&(t.index=E)}l="completed",p.forEach(E=>{E(C)})}function I(){if(l!=="pending")return;m();const T=o.shift();if(T===void 0){if(h.length){f=setTimeout(()=>{m(),l==="pending"&&(y(),d())},t.timeout);return}d();return}const S={status:"pending",resource:T,callback:(C,b)=>{k(S,C,b)}};h.push(S),u++,f=setTimeout(I,t.rotate),n(T,e,S.callback)}return setTimeout(I),g}function hI(t){const e={...vD,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,u){const c=wD(e,a,l,(f,h)=>{r(),u&&u(f,h)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function qw(){}const Nd=Object.create(null);function ED(t){if(!Nd[t]){const e=xy(t);if(!e)return;const n=hI(e),r={config:e,redundancy:n};Nd[t]=r}return Nd[t]}function SD(t,e,n){let r,i;if(typeof t=="string"){const s=pm(t);if(!s)return n(void 0,424),qw;i=s.send;const o=ED(t);o&&(r=o.redundancy)}else{const s=by(t);if(s){r=hI(s);const o=t.resources?t.resources[0]:"",a=pm(o);a&&(i=a.send)}}return!r||!i?(n(void 0,424),qw):r.query(e,i,n)().abort}const Kw="iconify2",Ja="iconify",dI=Ja+"-count",Gw=Ja+"-version",pI=36e5,_D=168;function mm(t,e){try{return t.getItem(e)}catch{}}function Oy(t,e,n){try{return t.setItem(e,n),!0}catch{}}function Yw(t,e){try{t.removeItem(e)}catch{}}function gm(t,e){return Oy(t,dI,e.toString())}function ym(t){return parseInt(mm(t,dI))||0}const rh={local:!0,session:!0},mI={local:new Set,session:new Set};let Py=!1;function TD(t){Py=t}let vu=typeof window>"u"?{}:window;function gI(t){const e=t+"Storage";try{if(vu&&vu[e]&&typeof vu[e].length=="number")return vu[e]}catch{}rh[t]=!1}function yI(t,e){const n=gI(t);if(!n)return;const r=mm(n,Gw);if(r!==Kw){if(r){const a=ym(n);for(let l=0;l<a;l++)Yw(n,Ja+l.toString())}Oy(n,Gw,Kw),gm(n,0);return}const i=Math.floor(Date.now()/pI)-_D,s=a=>{const l=Ja+a.toString(),u=mm(n,l);if(typeof u=="string"){try{const c=JSON.parse(u);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>i&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&e(c,a))return!0}catch{}Yw(n,l)}};let o=ym(n);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,gm(n,o)):mI[t].add(a))}function vI(){if(!Py){TD(!0);for(const t in rh)yI(t,e=>{const n=e.data,r=e.provider,i=n.prefix,s=Yi(r,i);if(!Cy(s,n).length)return!1;const o=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function ID(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in rh)yI(r,i=>{const s=i.data;return i.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function CD(t,e){Py||vI();function n(r){let i;if(!rh[r]||!(i=gI(r)))return;const s=mI[r];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=ym(i),!gm(i,o+1))return;const a={cached:Math.floor(Date.now()/pI),provider:t.provider,data:e};return Oy(i,Ja+o.toString(),JSON.stringify(a))}e.lastModified&&!ID(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function Qw(){}function bD(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,pD(t)}))}function kD(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let s;if(!i||!(s=pm(n)))return;s.prepare(n,r,i).forEach(a=>{SD(n,a,l=>{if(typeof l!="object")a.icons.forEach(u=>{t.missing.add(u)});else try{const u=Cy(t,l);if(!u.length)return;const c=t.pendingIcons;c&&u.forEach(f=>{c.delete(f)}),CD(t,l)}catch(u){console.error(u)}bD(t)})})}))}const xD=(t,e)=>{const n=yD(t,!0,lI()),r=dD(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,Qw)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return r.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===o)return;o=u,a=c,s.push(Yi(u,c));const f=i[u]||(i[u]=Object.create(null));f[c]||(f[c]=[])}),r.pending.forEach(l=>{const{provider:u,prefix:c,name:f}=l,h=Yi(u,c),p=h.pendingIcons||(h.pendingIcons=new Set);p.has(f)||(p.add(f),i[u][c].push(f))}),s.forEach(l=>{const{provider:u,prefix:c}=l;i[u][c].length&&kD(l,i[u][c])}),e?gD(e,r,s):Qw};function OD(t,e){const n={...t};for(const r in e){const i=e[r],s=typeof i;r in uI?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const PD=/[\s,]+/;function RD(t,e){e.split(PD).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function ND(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return e}function AD(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function DD(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function LD(t){return'url("data:image/svg+xml,'+DD(t)+'")'}const wI={...cI,inline:!1},$D={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},MD={display:"inline-block"},vm={backgroundColor:"currentColor"},EI={backgroundColor:"transparent"},Xw={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Jw={webkitMask:vm,mask:vm,background:EI};for(const t in Jw){const e=Jw[t];for(const n in Xw)e[t+n]=Xw[n]}const jD={...wI,inline:!0};function Zw(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const UD=(t,e,n,r)=>{const i=n?jD:wI,s=OD(i,e),o=e.mode||"svg",a={},l=e.style||{},u={...o==="svg"?$D:{},ref:r};for(let g in e){const d=e[g];if(d!==void 0)switch(g){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":s[g]=d===!0||d==="true"||d===1;break;case"flip":typeof d=="string"&&RD(s,d);break;case"color":a.color=d;break;case"rotate":typeof d=="string"?s[g]=ND(d):typeof d=="number"&&(s[g]=d);break;case"ariaHidden":case"aria-hidden":d!==!0&&d!=="true"&&delete u["aria-hidden"];break;default:i[g]===void 0&&(u[g]=d)}}const c=Z2(t,s),f=c.attributes;if(s.inline&&(a.verticalAlign="-0.125em"),o==="svg"){u.style={...a,...l},Object.assign(u,f);let g=0,d=e.id;return typeof d=="string"&&(d=d.replace(/-/g,"_")),u.dangerouslySetInnerHTML={__html:rD(c.body,d?()=>d+"ID"+g++:"iconifyReact")},Ye.createElement("svg",u)}const{body:h,width:p,height:m}=t,w=o==="mask"||(o==="bg"?!1:h.indexOf("currentColor")!==-1),x=AD(h,{...f,width:p+"",height:m+""});return u.style={...a,"--svg":LD(x),width:Zw(f.width),height:Zw(f.height),...MD,...w?vm:EI,...l},Ye.createElement("span",u)};lI(!0);iD("",hD);if(typeof document<"u"&&typeof window<"u"){vI();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Y2(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;sD(n,i)||console.error(r)}catch{console.error(r)}}}}class SI extends Ye.Component{constructor(e){super(e),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(e){this.state.icon!==e&&this.setState({icon:e})}_checkIcon(e){const n=this.state,r=this.props.icon;if(typeof r=="object"&&r!==null&&typeof r.body=="string"){this._icon="",this._abortLoading(),(e||n.icon===null)&&this._setData({data:r});return}let i;if(typeof r!="string"||(i=nh(r,!1,!0))===null){this._abortLoading(),this._setData(null);return}const s=K2(i);if(!s){(!this._loading||this._loading.name!==r)&&(this._abortLoading(),this._icon="",this._setData(null),s!==null&&(this._loading={name:r,abort:xD([i],this._checkIcon.bind(this,!1))}));return}if(this._icon!==r||n.icon===null){this._abortLoading(),this._icon=r;const o=["iconify"];i.prefix!==""&&o.push("iconify--"+i.prefix),i.provider!==""&&o.push("iconify--"+i.provider),this._setData({data:s,classes:o}),this.props.onLoad&&this.props.onLoad(r)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(e){e.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const e=this.props,n=this.state.icon;if(n===null)return e.children?e.children:Ye.createElement("span",{});let r=e;return n.classes&&(r={...e,className:(typeof e.className=="string"?e.className+" ":"")+n.classes.join(" ")}),UD({...Iy,...n.data},r,e._inline,e._ref)}}const Za=Ye.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!1};return Ye.createElement(SI,r)});Ye.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!0};return Ye.createElement(SI,r)});const FD=()=>{const[t,e]=A.useState("top"),[n,r]=A.useState(0),[i,s]=A.useState(!1),[o,a]=A.useState(""),[l,u]=A.useState(""),{isAuth:c}=jn(y=>y.auth),f=gy(),h=as(),p=Cl();A.useEffect(()=>{window.scrollTo(0,0)},[p]);const m=()=>{window.scrollY>200?window.scrollY>n&&!i?e("hide"):e("show"):e("top"),r(window.scrollY)};A.useEffect(()=>(window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}),[n]);const w=y=>{y.key==="Enter"&&o.length>0&&(h(`/search/${o}`),setTimeout(()=>{u(!1)},1e3))},x=()=>{s(!1),u(!0)},g=()=>{s(!0),u(!1)},d=()=>{f(iI())};return v.jsxs("header",{className:`header ${i?"mobileView":""} ${t}`,children:[v.jsxs(Yt,{children:[v.jsx("div",{className:"logo text-white text-2xl font-semibold",onClick:()=>h("/"),children:"Главная"}),v.jsxs("ul",{className:"menuItems",children:[v.jsx("li",{className:"menuItem",children:v.jsx(Fw,{onClick:x})}),v.jsx("li",{className:"menuItem",children:v.jsxs(Oc,{className:"flex items-center gap-1 text-white font-medium hover:text-pink-600 duration-75",to:"/favourites",children:["Избранные",v.jsx(Za,{width:18,icon:"mdi:heart-outline"})]})}),v.jsx("li",{className:"menuItem",children:c?v.jsx("button",{className:"text-white hover:text-pink-600",onClick:d,children:"Выйти"}):v.jsx(Oc,{className:"text-white hover:text-pink-600",to:"/sign-in",children:"Войти"})})]}),v.jsxs("div",{className:"mobileMenuItems",children:[v.jsx(Fw,{onClick:x}),i?v.jsx(Vw,{onClick:()=>s(!1)}):v.jsx(j2,{onClick:g})]})]}),l&&v.jsx("div",{className:"searchBar",children:v.jsx(Yt,{children:v.jsxs("div",{className:"searchInput",children:[v.jsx("input",{type:"text",placeholder:"Search for a movie or tv show....",onChange:y=>a(y.target.value),onKeyUp:w}),v.jsx(Vw,{onClick:()=>u(!1)})]})})})]})};const VD=()=>v.jsx("footer",{className:"footer",children:v.jsxs(Yt,{children:[v.jsxs("ul",{className:"menuItems",children:[v.jsx("li",{className:"menuItem",children:"Соглашение"}),v.jsx("li",{className:"menuItem",children:"Конфиденциальность"}),v.jsx("li",{className:"menuItem",children:"Сведения об образовательной организации"})]}),v.jsx("div",{className:"infoText"}),v.jsx("div",{className:"socialIcons"})]})});const Sr=t=>{const[e,n]=A.useState(null),[r,i]=A.useState(null),[s,o]=A.useState(null);return A.useEffect(()=>{i("loading..."),n(null),o(null),io(t).then(a=>{i(!1),n(a)}).catch(a=>{i(!1),o("Something went wrong!")})},[t]),{data:e,loading:r,error:s}};var _I={exports:{}};(()=>{var t={296:(i,s,o)=>{var a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt,h=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,p=typeof self=="object"&&self&&self.Object===Object&&self,m=h||p||Function("return this")(),w=Object.prototype.toString,x=Math.max,g=Math.min,d=function(){return m.Date.now()};function y(I){var T=typeof I;return!!I&&(T=="object"||T=="function")}function k(I){if(typeof I=="number")return I;if(function(C){return typeof C=="symbol"||function(b){return!!b&&typeof b=="object"}(C)&&w.call(C)=="[object Symbol]"}(I))return NaN;if(y(I)){var T=typeof I.valueOf=="function"?I.valueOf():I;I=y(T)?T+"":T}if(typeof I!="string")return I===0?I:+I;I=I.replace(a,"");var S=u.test(I);return S||c.test(I)?f(I.slice(2),S?2:8):l.test(I)?NaN:+I}i.exports=function(I,T,S){var C,b,E,W,Z,z,N=0,M=!1,Y=!1,j=!0;if(typeof I!="function")throw new TypeError("Expected a function");function _(ne){var se=C,de=b;return C=b=void 0,N=ne,W=I.apply(de,se)}function O(ne){return N=ne,Z=setTimeout(D,T),M?_(ne):W}function R(ne){var se=ne-z;return z===void 0||se>=T||se<0||Y&&ne-N>=E}function D(){var ne=d();if(R(ne))return F(ne);Z=setTimeout(D,function(se){var de=T-(se-z);return Y?g(de,E-(se-N)):de}(ne))}function F(ne){return Z=void 0,j&&C?_(ne):(C=b=void 0,W)}function oe(){var ne=d(),se=R(ne);if(C=arguments,b=this,z=ne,se){if(Z===void 0)return O(z);if(Y)return Z=setTimeout(D,T),_(z)}return Z===void 0&&(Z=setTimeout(D,T)),W}return T=k(T)||0,y(S)&&(M=!!S.leading,E=(Y="maxWait"in S)?x(k(S.maxWait)||0,T):E,j="trailing"in S?!!S.trailing:j),oe.cancel=function(){Z!==void 0&&clearTimeout(Z),N=0,C=z=b=Z=void 0},oe.flush=function(){return Z===void 0?W:F(d())},oe}},96:(i,s,o)=>{var a="Expected a function",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt,p=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,m=typeof self=="object"&&self&&self.Object===Object&&self,w=p||m||Function("return this")(),x=Object.prototype.toString,g=Math.max,d=Math.min,y=function(){return w.Date.now()};function k(T){var S=typeof T;return!!T&&(S=="object"||S=="function")}function I(T){if(typeof T=="number")return T;if(function(b){return typeof b=="symbol"||function(E){return!!E&&typeof E=="object"}(b)&&x.call(b)=="[object Symbol]"}(T))return NaN;if(k(T)){var S=typeof T.valueOf=="function"?T.valueOf():T;T=k(S)?S+"":S}if(typeof T!="string")return T===0?T:+T;T=T.replace(l,"");var C=c.test(T);return C||f.test(T)?h(T.slice(2),C?2:8):u.test(T)?NaN:+T}i.exports=function(T,S,C){var b=!0,E=!0;if(typeof T!="function")throw new TypeError(a);return k(C)&&(b="leading"in C?!!C.leading:b,E="trailing"in C?!!C.trailing:E),function(W,Z,z){var N,M,Y,j,_,O,R=0,D=!1,F=!1,oe=!0;if(typeof W!="function")throw new TypeError(a);function ne(ve){var Fe=N,It=M;return N=M=void 0,R=ve,j=W.apply(It,Fe)}function se(ve){return R=ve,_=setTimeout(Te,Z),D?ne(ve):j}function de(ve){var Fe=ve-O;return O===void 0||Fe>=Z||Fe<0||F&&ve-R>=Y}function Te(){var ve=y();if(de(ve))return gt(ve);_=setTimeout(Te,function(Fe){var It=Z-(Fe-O);return F?d(It,Y-(Fe-R)):It}(ve))}function gt(ve){return _=void 0,oe&&N?ne(ve):(N=M=void 0,j)}function Oe(){var ve=y(),Fe=de(ve);if(N=arguments,M=this,O=ve,Fe){if(_===void 0)return se(O);if(F)return _=setTimeout(Te,Z),ne(O)}return _===void 0&&(_=setTimeout(Te,Z)),j}return Z=I(Z)||0,k(z)&&(D=!!z.leading,Y=(F="maxWait"in z)?g(I(z.maxWait)||0,Z):Y,oe="trailing"in z?!!z.trailing:oe),Oe.cancel=function(){_!==void 0&&clearTimeout(_),R=0,N=O=M=_=void 0},Oe.flush=function(){return _===void 0?j:gt(y())},Oe}(T,S,{leading:b,maxWait:S,trailing:E})}},703:(i,s,o)=>{var a=o(414);function l(){}function u(){}u.resetWarningCache=l,i.exports=function(){function c(p,m,w,x,g,d){if(d!==a){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}function f(){return c}c.isRequired=c;var h={array:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:f,element:c,elementType:c,instanceOf:f,node:c,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:u,resetWarningCache:l};return h.PropTypes=h,h}},697:(i,s,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>ir,LazyLoadImage:()=>mx,trackWindowScroll:()=>D});const i=A;var s=n.n(i),o=n(697);const a=ty;var l=n.n(a);function u(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function c(V){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(V)}function f(V,P){var G=Object.keys(V);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(V);P&&(K=K.filter(function(lt){return Object.getOwnPropertyDescriptor(V,lt).enumerable})),G.push.apply(G,K)}return G}function h(V,P,G){return P in V?Object.defineProperty(V,P,{value:G,enumerable:!0,configurable:!0,writable:!0}):V[P]=G,V}function p(V,P){for(var G=0;G<P.length;G++){var K=P[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}function m(V,P){return(m=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G})(V,P)}function w(V,P){if(P&&(c(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(V)}function x(V){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(V)}var g=function(V){V.forEach(function(P){P.isIntersecting&&P.target.onVisible()})},d={},y=function(V){(function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),B&&m($,B)})(Pe,V);var P,G,K,lt,Vn=(K=Pe,lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $,B=x(K);if(lt){var ee=x(this).constructor;$=Reflect.construct(B,arguments,ee)}else $=B.apply(this,arguments);return w(this,$)});function Pe($){var B;if(function(re,pe){if(!(re instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,Pe),(B=Vn.call(this,$)).supportsObserver=!$.scrollPosition&&$.useIntersectionObserver&&u(),B.supportsObserver){var ee=$.threshold;B.observer=function(re){return d[re]=d[re]||new IntersectionObserver(g,{rootMargin:re+"px"}),d[re]}(ee)}return B}return P=Pe,(G=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,B=this.placeholder.getBoundingClientRect(),ee=l().findDOMNode(this.placeholder).style,re={left:parseInt(ee.getPropertyValue("margin-left"),10)||0,top:parseInt(ee.getPropertyValue("margin-top"),10)||0};return{bottom:$.y+B.bottom+re.top,left:$.x+B.left+re.left,right:$.x+B.right+re.left,top:$.y+B.top+re.top}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var $=this.props,B=$.scrollPosition,ee=$.threshold,re=this.getPlaceholderBoundingBox(B),pe=B.y+window.innerHeight,ke=B.x,Ve=B.x+window.innerWidth,Be=B.y;return Be-ee<=re.bottom&&pe+ee>=re.top&&ke-ee<=re.right&&Ve+ee>=re.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var $=this,B=this.props,ee=B.className,re=B.height,pe=B.placeholder,ke=B.style,Ve=B.width;if(pe&&typeof pe.type!="function")return s().cloneElement(pe,{ref:function(Ne){return $.placeholder=Ne}});var Be=function(Ne){for(var yt=1;yt<arguments.length;yt++){var Je=arguments[yt]!=null?arguments[yt]:{};yt%2?f(Object(Je),!0).forEach(function(Ct){h(Ne,Ct,Je[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(Je)):f(Object(Je)).forEach(function(Ct){Object.defineProperty(Ne,Ct,Object.getOwnPropertyDescriptor(Je,Ct))})}return Ne}({display:"inline-block"},ke);return Ve!==void 0&&(Be.width=Ve),re!==void 0&&(Be.height=re),s().createElement("span",{className:ee,ref:function(Ne){return $.placeholder=Ne},style:Be},pe)}}])&&p(P.prototype,G),Pe}(s().Component);y.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},y.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const k=y;var I=n(296),T=n.n(I),S=n(96),C=n.n(S),b=function(V){var P=getComputedStyle(V,null);return P.getPropertyValue("overflow")+P.getPropertyValue("overflow-y")+P.getPropertyValue("overflow-x")};const E=function(V){if(!(V instanceof HTMLElement))return window;for(var P=V;P&&P instanceof HTMLElement;){if(/(scroll|auto)/.test(b(P)))return P;P=P.parentNode}return window};function W(V){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(V)}var Z=["delayMethod","delayTime"];function z(){return(z=Object.assign||function(V){for(var P=1;P<arguments.length;P++){var G=arguments[P];for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&(V[K]=G[K])}return V}).apply(this,arguments)}function N(V,P){for(var G=0;G<P.length;G++){var K=P[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}function M(V,P){return(M=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G})(V,P)}function Y(V,P){if(P&&(W(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(V)}function j(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function _(V){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(V)}var O=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},R=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const D=function(V){var P=function(G){(function(ee,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(re&&re.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),re&&M(ee,re)})(B,G);var K,lt,Vn,Pe,$=(Vn=B,Pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ee,re=_(Vn);if(Pe){var pe=_(this).constructor;ee=Reflect.construct(re,arguments,pe)}else ee=re.apply(this,arguments);return Y(this,ee)});function B(ee){var re;if(function(ke,Ve){if(!(ke instanceof Ve))throw new TypeError("Cannot call a class as a function")}(this,B),(re=$.call(this,ee)).useIntersectionObserver=ee.useIntersectionObserver&&u(),re.useIntersectionObserver)return Y(re);var pe=re.onChangeScroll.bind(j(re));return ee.delayMethod==="debounce"?re.delayedScroll=T()(pe,ee.delayTime):ee.delayMethod==="throttle"&&(re.delayedScroll=C()(pe,ee.delayTime)),re.state={scrollPosition:{x:O(),y:R()}},re.baseComponentRef=s().createRef(),re}return K=B,(lt=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||E(l().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=E(l().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:O(),y:R()}})}},{key:"render",value:function(){var ee=this.props,re=(ee.delayMethod,ee.delayTime,function(ke,Ve){if(ke==null)return{};var Be,Ne,yt=function(Ct,ds){if(Ct==null)return{};var Ti,eu,Yv={},Qv=Object.keys(Ct);for(eu=0;eu<Qv.length;eu++)Ti=Qv[eu],ds.indexOf(Ti)>=0||(Yv[Ti]=Ct[Ti]);return Yv}(ke,Ve);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);for(Ne=0;Ne<Je.length;Ne++)Be=Je[Ne],Ve.indexOf(Be)>=0||Object.prototype.propertyIsEnumerable.call(ke,Be)&&(yt[Be]=ke[Be])}return yt}(ee,Z)),pe=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(V,z({forwardRef:this.baseComponentRef,scrollPosition:pe},re))}}])&&N(K.prototype,lt),B}(s().Component);return P.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},P.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},P};function F(V){return(F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(V)}function oe(V,P){for(var G=0;G<P.length;G++){var K=P[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}function ne(V,P){return(ne=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G})(V,P)}function se(V,P){if(P&&(F(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(V)}function de(V){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(V)}var Te=function(V){(function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),B&&ne($,B)})(Pe,V);var P,G,K,lt,Vn=(K=Pe,lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $,B=de(K);if(lt){var ee=de(this).constructor;$=Reflect.construct(B,arguments,ee)}else $=B.apply(this,arguments);return se(this,$)});function Pe($){return function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Pe),Vn.call(this,$)}return P=Pe,(G=[{key:"render",value:function(){return s().createElement(k,this.props)}}])&&oe(P.prototype,G),Pe}(s().Component);const gt=D(Te);function Oe(V){return(Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(V)}function ve(V,P){for(var G=0;G<P.length;G++){var K=P[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}function Fe(V,P){return(Fe=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G})(V,P)}function It(V,P){if(P&&(Oe(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(V)}function Pr(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function Rr(V){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(V)}var rr=function(V){(function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),B&&Fe($,B)})(Pe,V);var P,G,K,lt,Vn=(K=Pe,lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $,B=Rr(K);if(lt){var ee=Rr(this).constructor;$=Reflect.construct(B,arguments,ee)}else $=B.apply(this,arguments);return It(this,$)});function Pe($){var B;(function(Ve,Be){if(!(Ve instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,Pe),B=Vn.call(this,$);var ee=$.afterLoad,re=$.beforeLoad,pe=$.scrollPosition,ke=$.visibleByDefault;return B.state={visible:ke},ke&&(re(),ee()),B.onVisible=B.onVisible.bind(Pr(B)),B.isScrollTracked=!!(pe&&Number.isFinite(pe.x)&&pe.x>=0&&Number.isFinite(pe.y)&&pe.y>=0),B}return P=Pe,(G=[{key:"componentDidUpdate",value:function($,B){B.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var $=this.props,B=$.className,ee=$.delayMethod,re=$.delayTime,pe=$.height,ke=$.placeholder,Ve=$.scrollPosition,Be=$.style,Ne=$.threshold,yt=$.useIntersectionObserver,Je=$.width;return this.isScrollTracked||yt&&u()?s().createElement(k,{className:B,height:pe,onVisible:this.onVisible,placeholder:ke,scrollPosition:Ve,style:Be,threshold:Ne,useIntersectionObserver:yt,width:Je}):s().createElement(gt,{className:B,delayMethod:ee,delayTime:re,height:pe,onVisible:this.onVisible,placeholder:ke,style:Be,threshold:Ne,width:Je})}}])&&ve(P.prototype,G),Pe}(s().Component);rr.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},rr.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const ir=rr;function _i(V){return(_i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(V)}var mn=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Xl(V,P){var G=Object.keys(V);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(V);P&&(K=K.filter(function(lt){return Object.getOwnPropertyDescriptor(V,lt).enumerable})),G.push.apply(G,K)}return G}function Jl(V){for(var P=1;P<arguments.length;P++){var G=arguments[P]!=null?arguments[P]:{};P%2?Xl(Object(G),!0).forEach(function(K){Vh(V,K,G[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(G)):Xl(Object(G)).forEach(function(K){Object.defineProperty(V,K,Object.getOwnPropertyDescriptor(G,K))})}return V}function Vh(V,P,G){return P in V?Object.defineProperty(V,P,{value:G,enumerable:!0,configurable:!0,writable:!0}):V[P]=G,V}function Mo(){return(Mo=Object.assign||function(V){for(var P=1;P<arguments.length;P++){var G=arguments[P];for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&(V[K]=G[K])}return V}).apply(this,arguments)}function Bh(V,P){for(var G=0;G<P.length;G++){var K=P[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}function Zl(V,P){return(Zl=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G})(V,P)}function zh(V,P){if(P&&(_i(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(V)}function Hh(V){return(Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(V)}var Wh=function(V){(function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),B&&Zl($,B)})(Pe,V);var P,G,K,lt,Vn=(K=Pe,lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $,B=Hh(K);if(lt){var ee=Hh(this).constructor;$=Reflect.construct(B,arguments,ee)}else $=B.apply(this,arguments);return zh(this,$)});function Pe($){var B;return function(ee,re){if(!(ee instanceof re))throw new TypeError("Cannot call a class as a function")}(this,Pe),(B=Vn.call(this,$)).state={loaded:!1},B}return P=Pe,(G=[{key:"onImageLoad",value:function(){var $=this;return this.state.loaded?null:function(){$.props.afterLoad(),$.setState({loaded:!0})}}},{key:"getImg",value:function(){var $=this.props,B=($.afterLoad,$.beforeLoad,$.delayMethod,$.delayTime,$.effect,$.placeholder,$.placeholderSrc,$.scrollPosition,$.threshold,$.useIntersectionObserver,$.visibleByDefault,$.wrapperClassName,$.wrapperProps,function(ee,re){if(ee==null)return{};var pe,ke,Ve=function(Ne,yt){if(Ne==null)return{};var Je,Ct,ds={},Ti=Object.keys(Ne);for(Ct=0;Ct<Ti.length;Ct++)Je=Ti[Ct],yt.indexOf(Je)>=0||(ds[Je]=Ne[Je]);return ds}(ee,re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(ee);for(ke=0;ke<Be.length;ke++)pe=Be[ke],re.indexOf(pe)>=0||Object.prototype.propertyIsEnumerable.call(ee,pe)&&(Ve[pe]=ee[pe])}return Ve}($,mn));return s().createElement("img",Mo({onLoad:this.onImageLoad()},B))}},{key:"getLazyLoadImage",value:function(){var $=this.props,B=$.beforeLoad,ee=$.className,re=$.delayMethod,pe=$.delayTime,ke=$.height,Ve=$.placeholder,Be=$.scrollPosition,Ne=$.style,yt=$.threshold,Je=$.useIntersectionObserver,Ct=$.visibleByDefault,ds=$.width;return s().createElement(ir,{beforeLoad:B,className:ee,delayMethod:re,delayTime:pe,height:ke,placeholder:Ve,scrollPosition:Be,style:Ne,threshold:yt,useIntersectionObserver:Je,visibleByDefault:Ct,width:ds},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function($){var B=this.props,ee=B.effect,re=B.height,pe=B.placeholderSrc,ke=B.width,Ve=B.wrapperClassName,Be=B.wrapperProps,Ne=this.state.loaded,yt=Ne?" lazy-load-image-loaded":"",Je=Ne||!pe?{}:{backgroundImage:"url(".concat(pe,")"),backgroundSize:"100% 100%"};return s().createElement("span",Mo({className:Ve+" lazy-load-image-background "+ee+yt,style:Jl(Jl({},Je),{},{color:"transparent",display:"inline-block",height:re,width:ke})},Be),$)}},{key:"render",value:function(){var $=this.props,B=$.effect,ee=$.placeholderSrc,re=$.visibleByDefault,pe=$.wrapperClassName,ke=$.wrapperProps,Ve=this.getLazyLoadImage();return(B||ee)&&!re||pe||ke?this.getWrappedLazyLoadImage(Ve):Ve}}])&&Bh(P.prototype,G),Pe}(s().Component);Wh.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},Wh.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const mx=Wh})(),_I.exports=r})();var BD=_I.exports;const Qi=({src:t,className:e})=>v.jsx(BD.LazyLoadImage,{className:e||"",alt:"",effect:"blur",src:t}),zD=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),i=as();jn(l=>l.home);const{data:s,loading:o}=Sr("/movie/upcoming"),a=l=>{l.key==="Enter"&&n.length>0&&i(`/search/${n}`)};return v.jsxs("div",{className:"heroBanner",children:[!o&&v.jsx("div",{className:"backdrop-img",children:v.jsx(Qi,{src:t})}),v.jsx("div",{className:"opacity-layer"}),v.jsx(Yt,{children:v.jsxs("div",{className:"heroBannerContent",children:[v.jsx("span",{className:"title",children:"Добро пожаловать!"}),v.jsx("span",{className:"subTitle",children:"Новинки этого года и многое другое"}),v.jsxs("div",{className:"searchInput",children:[v.jsx("input",{type:"text",placeholder:"Поиск по названиям",onChange:l=>r(l.target.value),onKeyUp:a}),v.jsx("button",{children:"Поиск"})]})]})})]})};function HD(t){return xl({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"}}]})(t)}function WD(t){return xl({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"}}]})(t)}var TI={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ou,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",f="month",h="quarter",p="year",m="date",w="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var N=["th","st","nd","rd"],M=z%100;return"["+z+(N[(M-20)%10]||N[M]||N[0])+"]"}},y=function(z,N,M){var Y=String(z);return!Y||Y.length>=N?z:""+Array(N+1-Y.length).join(M)+z},k={s:y,z:function(z){var N=-z.utcOffset(),M=Math.abs(N),Y=Math.floor(M/60),j=M%60;return(N<=0?"+":"-")+y(Y,2,"0")+":"+y(j,2,"0")},m:function z(N,M){if(N.date()<M.date())return-z(M,N);var Y=12*(M.year()-N.year())+(M.month()-N.month()),j=N.clone().add(Y,f),_=M-j<0,O=N.clone().add(Y+(_?-1:1),f);return+(-(Y+(M-j)/(_?j-O:O-j))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:f,y:p,w:c,d:u,D:m,h:l,m:a,s:o,ms:s,Q:h}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},I="en",T={};T[I]=d;var S=function(z){return z instanceof W},C=function z(N,M,Y){var j;if(!N)return I;if(typeof N=="string"){var _=N.toLowerCase();T[_]&&(j=_),M&&(T[_]=M,j=_);var O=N.split("-");if(!j&&O.length>1)return z(O[0])}else{var R=N.name;T[R]=N,j=R}return!Y&&j&&(I=j),j||!Y&&I},b=function(z,N){if(S(z))return z.clone();var M=typeof N=="object"?N:{};return M.date=z,M.args=arguments,new W(M)},E=k;E.l=C,E.i=S,E.w=function(z,N){return b(z,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var W=function(){function z(M){this.$L=C(M.locale,null,!0),this.parse(M)}var N=z.prototype;return N.parse=function(M){this.$d=function(Y){var j=Y.date,_=Y.utc;if(j===null)return new Date(NaN);if(E.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var O=j.match(x);if(O){var R=O[2]-1||0,D=(O[7]||"0").substring(0,3);return _?new Date(Date.UTC(O[1],R,O[3]||1,O[4]||0,O[5]||0,O[6]||0,D)):new Date(O[1],R,O[3]||1,O[4]||0,O[5]||0,O[6]||0,D)}}return new Date(j)}(M),this.$x=M.x||{},this.init()},N.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},N.$utils=function(){return E},N.isValid=function(){return this.$d.toString()!==w},N.isSame=function(M,Y){var j=b(M);return this.startOf(Y)<=j&&j<=this.endOf(Y)},N.isAfter=function(M,Y){return b(M)<this.startOf(Y)},N.isBefore=function(M,Y){return this.endOf(Y)<b(M)},N.$g=function(M,Y,j){return E.u(M)?this[Y]:this.set(j,M)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(M,Y){var j=this,_=!!E.u(Y)||Y,O=E.p(M),R=function(gt,Oe){var ve=E.w(j.$u?Date.UTC(j.$y,Oe,gt):new Date(j.$y,Oe,gt),j);return _?ve:ve.endOf(u)},D=function(gt,Oe){return E.w(j.toDate()[gt].apply(j.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(Oe)),j)},F=this.$W,oe=this.$M,ne=this.$D,se="set"+(this.$u?"UTC":"");switch(O){case p:return _?R(1,0):R(31,11);case f:return _?R(1,oe):R(0,oe+1);case c:var de=this.$locale().weekStart||0,Te=(F<de?F+7:F)-de;return R(_?ne-Te:ne+(6-Te),oe);case u:case m:return D(se+"Hours",0);case l:return D(se+"Minutes",1);case a:return D(se+"Seconds",2);case o:return D(se+"Milliseconds",3);default:return this.clone()}},N.endOf=function(M){return this.startOf(M,!1)},N.$set=function(M,Y){var j,_=E.p(M),O="set"+(this.$u?"UTC":""),R=(j={},j[u]=O+"Date",j[m]=O+"Date",j[f]=O+"Month",j[p]=O+"FullYear",j[l]=O+"Hours",j[a]=O+"Minutes",j[o]=O+"Seconds",j[s]=O+"Milliseconds",j)[_],D=_===u?this.$D+(Y-this.$W):Y;if(_===f||_===p){var F=this.clone().set(m,1);F.$d[R](D),F.init(),this.$d=F.set(m,Math.min(this.$D,F.daysInMonth())).$d}else R&&this.$d[R](D);return this.init(),this},N.set=function(M,Y){return this.clone().$set(M,Y)},N.get=function(M){return this[E.p(M)]()},N.add=function(M,Y){var j,_=this;M=Number(M);var O=E.p(Y),R=function(oe){var ne=b(_);return E.w(ne.date(ne.date()+Math.round(oe*M)),_)};if(O===f)return this.set(f,this.$M+M);if(O===p)return this.set(p,this.$y+M);if(O===u)return R(1);if(O===c)return R(7);var D=(j={},j[a]=r,j[l]=i,j[o]=n,j)[O]||1,F=this.$d.getTime()+M*D;return E.w(F,this)},N.subtract=function(M,Y){return this.add(-1*M,Y)},N.format=function(M){var Y=this,j=this.$locale();if(!this.isValid())return j.invalidDate||w;var _=M||"YYYY-MM-DDTHH:mm:ssZ",O=E.z(this),R=this.$H,D=this.$m,F=this.$M,oe=j.weekdays,ne=j.months,se=function(Oe,ve,Fe,It){return Oe&&(Oe[ve]||Oe(Y,_))||Fe[ve].slice(0,It)},de=function(Oe){return E.s(R%12||12,Oe,"0")},Te=j.meridiem||function(Oe,ve,Fe){var It=Oe<12?"AM":"PM";return Fe?It.toLowerCase():It},gt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:F+1,MM:E.s(F+1,2,"0"),MMM:se(j.monthsShort,F,ne,3),MMMM:se(ne,F),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:se(j.weekdaysMin,this.$W,oe,2),ddd:se(j.weekdaysShort,this.$W,oe,3),dddd:oe[this.$W],H:String(R),HH:E.s(R,2,"0"),h:de(1),hh:de(2),a:Te(R,D,!0),A:Te(R,D,!1),m:String(D),mm:E.s(D,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:O};return _.replace(g,function(Oe,ve){return ve||gt[Oe]||O.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(M,Y,j){var _,O=E.p(Y),R=b(M),D=(R.utcOffset()-this.utcOffset())*r,F=this-R,oe=E.m(this,R);return oe=(_={},_[p]=oe/12,_[f]=oe,_[h]=oe/3,_[c]=(F-D)/6048e5,_[u]=(F-D)/864e5,_[l]=F/i,_[a]=F/r,_[o]=F/n,_)[O]||F,j?oe:E.a(oe)},N.daysInMonth=function(){return this.endOf(f).$D},N.$locale=function(){return T[this.$L]},N.locale=function(M,Y){if(!M)return this.$L;var j=this.clone(),_=C(M,Y,!0);return _&&(j.$L=_),j},N.clone=function(){return E.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},z}(),Z=W.prototype;return b.prototype=Z,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",p],["$D",m]].forEach(function(z){Z[z[1]]=function(N){return this.$g(N,z[0],z[1])}}),b.extend=function(z,N){return z.$i||(z(N,W,b),z.$i=!0),b},b.locale=C,b.isDayjs=S,b.unix=function(z){return b(1e3*z)},b.en=T[I],b.Ls=T,b.p={},b})})(TI);var qD=TI.exports;const ao=og(qD),ih="/assets/no-poster-af8294eb.png";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wm=function(t,e){return wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},wm(t,e)};function KD(t,e){wm(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var GD=100,YD=100,e1=50,Em=50,Sm=50;function t1(t){var e=t.className,n=t.counterClockwise,r=t.dashRatio,i=t.pathRadius,s=t.strokeWidth,o=t.style;return A.createElement("path",{className:e,style:Object.assign({},o,XD({pathRadius:i,dashRatio:r,counterClockwise:n})),d:QD({pathRadius:i,counterClockwise:n}),strokeWidth:s,fillOpacity:0})}function QD(t){var e=t.pathRadius,n=t.counterClockwise,r=e,i=n?1:0;return`
      M `+Em+","+Sm+`
      m 0,-`+r+`
      a `+r+","+r+" "+i+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+i+" 1 1 0,-"+2*r+`
    `}function XD(t){var e=t.counterClockwise,n=t.dashRatio,r=t.pathRadius,i=Math.PI*2*r,s=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(e?-s:s)+"px"}}(function(t){KD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return e1-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,r=n.value,i=n.minValue,s=n.maxValue,o=Math.min(Math.max(r,i),s);return(o-i)/(s-i)},e.prototype.render=function(){var n=this.props,r=n.circleRatio,i=n.className,s=n.classes,o=n.counterClockwise,a=n.styles,l=n.strokeWidth,u=n.text,c=this.getPathRadius(),f=this.getPathRatio();return A.createElement("svg",{className:s.root+" "+i,style:a.root,viewBox:"0 0 "+GD+" "+YD,"data-test-id":"CircularProgressbar"},this.props.background?A.createElement("circle",{className:s.background,style:a.background,cx:Em,cy:Sm,r:e1}):null,A.createElement(t1,{className:s.trail,counterClockwise:o,dashRatio:r,pathRadius:c,strokeWidth:l,style:a.trail}),A.createElement(t1,{className:s.path,counterClockwise:o,dashRatio:f*r,pathRadius:c,strokeWidth:l,style:a.path}),u?A.createElement("text",{className:s.text,style:a.text,x:Em,y:Sm},u):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e})(A.Component);const sh=({rating:t})=>v.jsx("div",{className:"circleRating",children:v.jsx("p",{className:"CircularProgressbar-text",children:t})});const oh=({data:t})=>{const{genres:e}=jn(n=>n.home);return v.jsx("div",{className:"genres",children:t==null?void 0:t.map(n=>{var r,i;if((r=e[n])!=null&&r.name)return v.jsx("div",{className:"genre",children:(i=e[n])==null?void 0:i.name},n)})})};const Ol=({data:t,loading:e,endpoint:n,title:r})=>{const i=A.useRef(),{url:s}=jn(u=>u.home),o=as(),a=u=>{const c=i.current,f=u==="left"?c.scrollLeft-(c.offsetWidth+20):c.scrollLeft+(c.offsetWidth+20);c.scrollTo({left:f,behavior:"smooth"})},l=()=>v.jsxs("div",{className:"skeletonItem",children:[v.jsx("div",{className:"posterBlock skeleton"}),v.jsxs("div",{className:"textBlock",children:[v.jsx("div",{className:"title skeleton"}),v.jsx("div",{className:"date skeleton"})]})]});return v.jsx("div",{className:"carousel",children:v.jsxs(Yt,{children:[r&&v.jsx("div",{className:"carouselTitle",children:r}),v.jsx(HD,{className:"carouselLeftNav arrow",onClick:()=>a("left")}),v.jsx(WD,{className:"carouselRighttNav arrow",onClick:()=>a("right")}),e?v.jsxs("div",{className:"loadingSkeleton",children:[l(),l(),l(),l(),l()]}):v.jsx("div",{className:"carouselItems",ref:i,children:t==null?void 0:t.map(u=>{const c=u.poster_path?s.poster+u.poster_path:ih;return v.jsxs("div",{className:"carouselItem",onClick:()=>o(`/${u.media_type||n}/${u.id}`),children:[v.jsxs("div",{className:"posterBlock",children:[v.jsx(Qi,{src:c}),v.jsx(sh,{rating:u.vote_average.toFixed(1)}),v.jsx(oh,{data:u.genre_ids.slice(0,2)})]}),v.jsxs("div",{className:"textBlock",children:[v.jsx("span",{className:"title",children:u.title||u.name}),v.jsx("span",{className:"date",children:ao(u.release_date||u.first_air_date).format("MMM D, YYYY")})]})]},u.id)})})]})})},JD=()=>{const[t,e]=A.useState("day"),{data:n,loading:r}=Sr(`/trending/movie/${t}`);return v.jsxs("div",{className:"carouselSection",children:[v.jsx(Yt,{children:v.jsx("span",{className:"carouselTitle",children:"В тренде"})}),v.jsx(Ol,{data:n==null?void 0:n.results,loading:r})]})},ZD=()=>{const[t,e]=A.useState("movie"),{data:n,loading:r}=Sr(`/${t}/popular`);return v.jsxs("div",{className:"carouselSection",children:[v.jsx(Yt,{children:v.jsx("span",{className:"carouselTitle",children:"Популярное"})}),v.jsx(Ol,{data:n==null?void 0:n.results,loading:r,endpoint:t})]})},eL=()=>{const[t,e]=A.useState("movie"),{data:n,loading:r}=Sr(`/${t}/top_rated`);return v.jsxs("div",{className:"carouselSection",children:[v.jsx(Yt,{children:v.jsx("span",{className:"carouselTitle",children:"В топе"})}),v.jsx(Ol,{data:n==null?void 0:n.results,loading:r,endpoint:t})]})},tL=()=>v.jsxs("div",{className:"homePage",children:[v.jsx(zD,{}),v.jsx(JD,{}),v.jsx(ZD,{}),v.jsx(eL,{})]});const nL=()=>v.jsx("div",{children:v.jsx("img",{src:"https://www.freeiconspng.com/uploads/play-button-icon-png-15.png",width:"32",height:"32"})});var ah={},rL=function(e){return iL(e)&&!sL(e)};function iL(t){return!!t&&typeof t=="object"}function sL(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||lL(t)}var oL=typeof Symbol=="function"&&Symbol.for,aL=oL?Symbol.for("react.element"):60103;function lL(t){return t.$$typeof===aL}function uL(t){return Array.isArray(t)?[]:{}}function el(t,e){return e.clone!==!1&&e.isMergeableObject(t)?lo(uL(t),t,e):t}function cL(t,e,n){return t.concat(e).map(function(r){return el(r,n)})}function fL(t,e){if(!e.customMerge)return lo;var n=e.customMerge(t);return typeof n=="function"?n:lo}function hL(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function n1(t){return Object.keys(t).concat(hL(t))}function II(t,e){try{return e in t}catch{return!1}}function dL(t,e){return II(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function pL(t,e,n){var r={};return n.isMergeableObject(t)&&n1(t).forEach(function(i){r[i]=el(t[i],n)}),n1(e).forEach(function(i){dL(t,i)||(II(t,i)&&n.isMergeableObject(e[i])?r[i]=fL(i,n)(t[i],e[i],n):r[i]=el(e[i],n))}),r}function lo(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||cL,n.isMergeableObject=n.isMergeableObject||rL,n.cloneUnlessOtherwiseSpecified=el;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):pL(t,e,n):el(e,n)}lo.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return lo(r,i,n)},{})};var mL=lo,CI=mL,r1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function gL(t,e){return!!(t===e||r1(t)&&r1(e))}function yL(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!gL(t[n],e[n]))return!1;return!0}function vL(t,e){e===void 0&&(e=yL);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}const wL=Object.freeze(Object.defineProperty({__proto__:null,default:vL},Symbol.toStringTag,{value:"Module"})),EL=gx(wL);var SL=typeof Element<"u",_L=typeof Map=="function",TL=typeof Set=="function",IL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Gu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Gu(t[r],e[r]))return!1;return!0}var s;if(_L&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Gu(r.value[1],e.get(r.value[0])))return!1;return!0}if(TL&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(IL&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(SL&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Gu(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var bI=function(e,n){try{return Gu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},Xi={},kI={exports:{}},CL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bL=CL,kL=bL;function xI(){}function OI(){}OI.resetWarningCache=xI;var xL=function(){function t(r,i,s,o,a,l){if(l!==kL){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OI,resetWarningCache:xI};return n.PropTypes=n,n};kI.exports=xL();var OL=kI.exports;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.defaultProps=Xi.propTypes=void 0;var xr=PL(OL);function PL(t){return t&&t.__esModule?t:{default:t}}var Ht=xr.default.string,Jt=xr.default.bool,ms=xr.default.number,Ad=xr.default.array,Go=xr.default.oneOfType,gn=xr.default.shape,Wt=xr.default.object,ut=xr.default.func,i1=xr.default.node,RL={url:Go([Ht,Ad,Wt]),playing:Jt,loop:Jt,controls:Jt,volume:ms,muted:Jt,playbackRate:ms,width:Go([Ht,ms]),height:Go([Ht,ms]),style:Wt,progressInterval:ms,playsinline:Jt,pip:Jt,stopOnUnmount:Jt,light:Go([Jt,Ht,Wt]),playIcon:i1,previewTabIndex:ms,fallback:i1,oEmbedUrl:Ht,wrapper:Go([Ht,ut,gn({render:ut.isRequired})]),config:gn({soundcloud:gn({options:Wt}),youtube:gn({playerVars:Wt,embedOptions:Wt,onUnstarted:ut}),facebook:gn({appId:Ht,version:Ht,playerId:Ht,attributes:Wt}),dailymotion:gn({params:Wt}),vimeo:gn({playerOptions:Wt,title:Ht}),file:gn({attributes:Wt,tracks:Ad,forceVideo:Jt,forceAudio:Jt,forceHLS:Jt,forceSafariHLS:Jt,forceDASH:Jt,forceFLV:Jt,hlsOptions:Wt,hlsVersion:Ht,dashVersion:Ht,flvVersion:Ht}),wistia:gn({options:Wt,playerId:Ht,customControls:Ad}),mixcloud:gn({options:Wt}),twitch:gn({options:Wt,playerId:Ht}),vidyard:gn({options:Wt})}),onReady:ut,onStart:ut,onPlay:ut,onPause:ut,onBuffer:ut,onBufferEnd:ut,onEnded:ut,onError:ut,onDuration:ut,onSeek:ut,onPlaybackRateChange:ut,onProgress:ut,onClickPreview:ut,onEnablePIP:ut,onDisablePIP:ut};Xi.propTypes=RL;var xt=function(){},NL={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:xt},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:xt,onStart:xt,onPlay:xt,onPause:xt,onBuffer:xt,onBufferEnd:xt,onEnded:xt,onError:xt,onDuration:xt,onSeek:xt,onPlaybackRateChange:xt,onProgress:xt,onClickPreview:xt,onEnablePIP:xt,onDisablePIP:xt};Xi.defaultProps=NL;var zt={},AL=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=e,n.attrs&&DL(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?s1:LL;o(s,r),s.onload||s1(s,r),i.appendChild(s)};function DL(t,e){for(var n in e)t.setAttribute(n,e[n])}function s1(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function LL(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}Object.defineProperty(zt,"__esModule",{value:!0});zt.parseStartTime=KL;zt.parseEndTime=GL;zt.randomString=YL;zt.queryString=QL;zt.getSDK=XL;zt.getConfig=JL;zt.omit=ZL;zt.callPlayer=e$;zt.isMediaStream=t$;zt.isBlobUrl=n$;zt.supportsWebKitPresentationMode=r$;var $L=PI(AL),ML=PI(CI);function PI(t){return t&&t.__esModule?t:{default:t}}function jL(t,e){return BL(t)||VL(t,e)||FL(t,e)||UL()}function UL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FL(t,e){if(t){if(typeof t=="string")return o1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o1(t,e)}}function o1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VL(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function BL(t){if(Array.isArray(t))return t}var zL=/[?&#](?:start|t)=([0-9hms]+)/,HL=/[?&#]end=([0-9hms]+)/,_m=/(\d+)(h|m|s)/g,WL=/^\d+$/;function RI(t,e){if(!(t instanceof Array)){var n=t.match(e);if(n){var r=n[1];if(r.match(_m))return qL(r);if(WL.test(r))return parseInt(r)}}}function qL(t){for(var e=0,n=_m.exec(t);n!==null;){var r=n,i=jL(r,3),s=i[1],o=i[2];o==="h"&&(e+=parseInt(s,10)*60*60),o==="m"&&(e+=parseInt(s,10)*60),o==="s"&&(e+=parseInt(s,10)),n=_m.exec(t)}return e}function KL(t){return RI(t,zL)}function GL(t){return RI(t,HL)}function YL(){return Math.random().toString(36).substr(2,5)}function QL(t){return Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&")}function Dd(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var gs={};function XL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:$L.default,s=Dd(e);return s&&r(s)?Promise.resolve(s):new Promise(function(o,a){if(gs[t]){gs[t].push({resolve:o,reject:a});return}gs[t]=[{resolve:o,reject:a}];var l=function(f){gs[t].forEach(function(h){return h.resolve(f)})};if(n){var u=window[n];window[n]=function(){u&&u(),l(Dd(e))}}i(t,function(c){c?(gs[t].forEach(function(f){return f.reject(c)}),gs[t]=null):n||l(Dd(e))})})}function JL(t,e){return(0,ML.default)(e.config,t.config)}function ZL(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=(e=[]).concat.apply(e,r),o={},a=Object.keys(t),l=0,u=a;l<u.length;l++){var c=u[l];s.indexOf(c)===-1&&(o[c]=t[c])}return o}function e$(t){var e;if(!this.player||!this.player[t]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c – ");return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return(e=this.player)[t].apply(e,i)}function t$(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function n$(t){return/^blob:/.test(t)}function r$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var NI={};(function(t){function e(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(b){return typeof b}:e=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e(S)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(A),r=o(bI),i=Xi,s=zt;function o(S){return S&&S.__esModule?S:{default:S}}function a(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return a=function(){return S},S}function l(S){if(S&&S.__esModule)return S;if(S===null||e(S)!=="object"&&typeof S!="function")return{default:S};var C=a();if(C&&C.has(S))return C.get(S);var b={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in S)if(Object.prototype.hasOwnProperty.call(S,W)){var Z=E?Object.getOwnPropertyDescriptor(S,W):null;Z&&(Z.get||Z.set)?Object.defineProperty(b,W,Z):b[W]=S[W]}return b.default=S,C&&C.set(S,b),b}function u(){return u=Object.assign||function(S){for(var C=1;C<arguments.length;C++){var b=arguments[C];for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(S[E]=b[E])}return S},u.apply(this,arguments)}function c(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function f(S,C){for(var b=0;b<C.length;b++){var E=C[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}function h(S,C,b){return C&&f(S.prototype,C),b&&f(S,b),S}function p(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),C&&m(S,C)}function m(S,C){return m=Object.setPrototypeOf||function(E,W){return E.__proto__=W,E},m(S,C)}function w(S){var C=d();return function(){var E=y(S),W;if(C){var Z=y(this).constructor;W=Reflect.construct(E,arguments,Z)}else W=E.apply(this,arguments);return x(this,W)}}function x(S,C){return C&&(e(C)==="object"||typeof C=="function")?C:g(S)}function g(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function y(S){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},y(S)}function k(S,C,b){return C in S?Object.defineProperty(S,C,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[C]=b,S}var I=5e3,T=function(S){p(b,S);var C=w(b);function b(){var E;c(this,b);for(var W=arguments.length,Z=new Array(W),z=0;z<W;z++)Z[z]=arguments[z];return E=C.call.apply(C,[this].concat(Z)),k(g(E),"mounted",!1),k(g(E),"isReady",!1),k(g(E),"isPlaying",!1),k(g(E),"isLoading",!0),k(g(E),"loadOnReady",null),k(g(E),"startOnPlay",!0),k(g(E),"seekOnPlay",null),k(g(E),"onDurationCalled",!1),k(g(E),"handlePlayerMount",function(N){if(E.player){E.progress();return}E.player=N,E.player.load(E.props.url),E.progress()}),k(g(E),"getInternalPlayer",function(N){return E.player?E.player[N]:null}),k(g(E),"progress",function(){if(E.props.url&&E.player&&E.isReady){var N=E.getCurrentTime()||0,M=E.getSecondsLoaded(),Y=E.getDuration();if(Y){var j={playedSeconds:N,played:N/Y};M!==null&&(j.loadedSeconds=M,j.loaded=M/Y),(j.playedSeconds!==E.prevPlayed||j.loadedSeconds!==E.prevLoaded)&&E.props.onProgress(j),E.prevPlayed=j.playedSeconds,E.prevLoaded=j.loadedSeconds}}E.progressTimeout=setTimeout(E.progress,E.props.progressFrequency||E.props.progressInterval)}),k(g(E),"handleReady",function(){if(E.mounted){E.isReady=!0,E.isLoading=!1;var N=E.props,M=N.onReady,Y=N.playing,j=N.volume,_=N.muted;M(),!_&&j!==null&&E.player.setVolume(j),E.loadOnReady?(E.player.load(E.loadOnReady,!0),E.loadOnReady=null):Y&&E.player.play(),E.handleDurationCheck()}}),k(g(E),"handlePlay",function(){E.isPlaying=!0,E.isLoading=!1;var N=E.props,M=N.onStart,Y=N.onPlay,j=N.playbackRate;E.startOnPlay&&(E.player.setPlaybackRate&&j!==1&&E.player.setPlaybackRate(j),M(),E.startOnPlay=!1),Y(),E.seekOnPlay&&(E.seekTo(E.seekOnPlay),E.seekOnPlay=null),E.handleDurationCheck()}),k(g(E),"handlePause",function(N){E.isPlaying=!1,E.isLoading||E.props.onPause(N)}),k(g(E),"handleEnded",function(){var N=E.props,M=N.activePlayer,Y=N.loop,j=N.onEnded;M.loopOnEnded&&Y&&E.seekTo(0),Y||(E.isPlaying=!1,j())}),k(g(E),"handleError",function(){var N;E.isLoading=!1,(N=E.props).onError.apply(N,arguments)}),k(g(E),"handleDurationCheck",function(){clearTimeout(E.durationCheckTimeout);var N=E.getDuration();N?E.onDurationCalled||(E.props.onDuration(N),E.onDurationCalled=!0):E.durationCheckTimeout=setTimeout(E.handleDurationCheck,100)}),k(g(E),"handleLoaded",function(){E.isLoading=!1}),E}return h(b,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(W){var Z=this;if(this.player){var z=this.props,N=z.url,M=z.playing,Y=z.volume,j=z.muted,_=z.playbackRate,O=z.pip,R=z.loop,D=z.activePlayer,F=z.disableDeferredLoading;if(!(0,r.default)(W.url,N)){if(this.isLoading&&!D.forceLoad&&!F&&!(0,s.isMediaStream)(N)){console.warn("ReactPlayer: the attempt to load ".concat(N," is being deferred until the player has loaded")),this.loadOnReady=N;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(N,this.isReady)}!W.playing&&M&&!this.isPlaying&&this.player.play(),W.playing&&!M&&this.isPlaying&&this.player.pause(),!W.pip&&O&&this.player.enablePIP&&this.player.enablePIP(),W.pip&&!O&&this.player.disablePIP&&this.player.disablePIP(),W.volume!==Y&&Y!==null&&this.player.setVolume(Y),W.muted!==j&&(j?this.player.mute():(this.player.unmute(),Y!==null&&setTimeout(function(){return Z.player.setVolume(Y)}))),W.playbackRate!==_&&this.player.setPlaybackRate&&this.player.setPlaybackRate(_),W.loop!==R&&this.player.setLoop&&this.player.setLoop(R)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(W,Z){var z=this;if(!this.isReady){W!==0&&(this.seekOnPlay=W,setTimeout(function(){z.seekOnPlay=null},I));return}var N=Z?Z==="fraction":W>0&&W<1;if(N){var M=this.player.getDuration();if(!M){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(M*W);return}this.player.seekTo(W)}},{key:"render",value:function(){var W=this.props.activePlayer;return W?n.default.createElement(W,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),b}(n.Component);t.default=T,k(T,"displayName","Player"),k(T,"propTypes",i.propTypes),k(T,"defaultProps",i.defaultProps)})(NI);var Ld={},a1;function i$(){return a1||(a1=1,function(t){function e(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(S){return typeof S}:e=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},e(I)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return r=function(){return I},I}function i(I){if(I&&I.__esModule)return I;if(I===null||e(I)!=="object"&&typeof I!="function")return{default:I};var T=r();if(T&&T.has(I))return T.get(I);var S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in I)if(Object.prototype.hasOwnProperty.call(I,b)){var E=C?Object.getOwnPropertyDescriptor(I,b):null;E&&(E.get||E.set)?Object.defineProperty(S,b,E):S[b]=I[b]}return S.default=I,T&&T.set(I,S),S}function s(I,T){var S=Object.keys(I);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(I);T&&(C=C.filter(function(b){return Object.getOwnPropertyDescriptor(I,b).enumerable})),S.push.apply(S,C)}return S}function o(I){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?s(Object(S),!0).forEach(function(C){g(I,C,S[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(S)):s(Object(S)).forEach(function(C){Object.defineProperty(I,C,Object.getOwnPropertyDescriptor(S,C))})}return I}function a(I,T){if(!(I instanceof T))throw new TypeError("Cannot call a class as a function")}function l(I,T){for(var S=0;S<T.length;S++){var C=T[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}function u(I,T,S){return T&&l(I.prototype,T),S&&l(I,S),I}function c(I,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(T&&T.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),T&&f(I,T)}function f(I,T){return f=Object.setPrototypeOf||function(C,b){return C.__proto__=b,C},f(I,T)}function h(I){var T=w();return function(){var C=x(I),b;if(T){var E=x(this).constructor;b=Reflect.construct(C,arguments,E)}else b=C.apply(this,arguments);return p(this,b)}}function p(I,T){return T&&(e(T)==="object"||typeof T=="function")?T:m(I)}function m(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(I){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},x(I)}function g(I,T,S){return T in I?Object.defineProperty(I,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):I[T]=S,I}var d="64px",y={},k=function(I){c(S,I);var T=h(S);function S(){var C;a(this,S);for(var b=arguments.length,E=new Array(b),W=0;W<b;W++)E[W]=arguments[W];return C=T.call.apply(T,[this].concat(E)),g(m(C),"mounted",!1),g(m(C),"state",{image:null}),g(m(C),"handleKeyPress",function(Z){(Z.key==="Enter"||Z.key===" ")&&C.props.onClick()}),C}return u(S,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(b){var E=this.props,W=E.url,Z=E.light;(b.url!==W||b.light!==Z)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(b){var E=this,W=b.url,Z=b.light,z=b.oEmbedUrl;if(!n.default.isValidElement(Z)){if(typeof Z=="string"){this.setState({image:Z});return}if(y[W]){this.setState({image:y[W]});return}return this.setState({image:null}),window.fetch(z.replace("{url}",W)).then(function(N){return N.json()}).then(function(N){if(N.thumbnail_url&&E.mounted){var M=N.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");E.setState({image:M}),y[W]=M}})}}},{key:"render",value:function(){var b=this.props,E=b.light,W=b.onClick,Z=b.playIcon,z=b.previewTabIndex,N=this.state.image,M=n.default.isValidElement(E),Y={display:"flex",alignItems:"center",justifyContent:"center"},j={preview:o({width:"100%",height:"100%",backgroundImage:N&&!M?"url(".concat(N,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},Y),shadow:o({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:d,width:d,height:d,position:M?"absolute":void 0},Y),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},_=n.default.createElement("div",{style:j.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:j.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:j.preview,className:"react-player__preview",onClick:W,tabIndex:z,onKeyPress:this.handleKeyPress},M?E:null,Z||_)}}]),S}(n.Component);t.default=k}(Ld)),Ld}Object.defineProperty(ah,"__esModule",{value:!0});ah.createReactPlayer=void 0;var Oi=DI(A),s$=lh(CI),$d=lh(EL),l1=lh(bI),ra=Xi,o$=zt,a$=lh(NI);function lh(t){return t&&t.__esModule?t:{default:t}}function Sa(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sa=function(n){return typeof n}:Sa=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sa(t)}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mc(){return Mc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function Md(t){return f$(t)||c$(t)||u$(t)||l$()}function l$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$(t,e){if(t){if(typeof t=="string")return Tm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tm(t,e)}}function c$(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function f$(t){if(Array.isArray(t))return Tm(t)}function Tm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d$(t,e,n){return e&&f1(t.prototype,e),n&&f1(t,n),t}function p$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Im(t,e)}function Im(t,e){return Im=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Im(t,e)}function m$(t){var e=y$();return function(){var r=jc(t),i;if(e){var s=jc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return g$(this,i)}}function g$(t,e){return e&&(Sa(e)==="object"||typeof e=="function")?e:Pt(t)}function Pt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jc(t){return jc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jc(t)}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AI(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return AI=function(){return t},t}function DI(t){if(t&&t.__esModule)return t;if(t===null||Sa(t)!=="object"&&typeof t!="function")return{default:t};var e=AI();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var v$=(0,Oi.lazy)(function(){return Promise.resolve().then(function(){return DI(i$())})}),w$=typeof window<"u"&&window.document,E$=typeof Ou<"u"&&Ou.window&&Ou.window.document,S$=Object.keys(ra.propTypes),_$=w$||E$?Oi.Suspense:function(){return null},Yo=[],T$=function(e,n){var r,i;return i=r=function(s){p$(a,s);var o=m$(a);function a(){var l;h$(this,a);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=o.call.apply(o,[this].concat(c)),Ke(Pt(l),"state",{showPreview:!!l.props.light}),Ke(Pt(l),"references",{wrapper:function(p){l.wrapper=p},player:function(p){l.player=p}}),Ke(Pt(l),"handleClickPreview",function(h){l.setState({showPreview:!1}),l.props.onClickPreview(h)}),Ke(Pt(l),"showPreview",function(){l.setState({showPreview:!0})}),Ke(Pt(l),"getDuration",function(){return l.player?l.player.getDuration():null}),Ke(Pt(l),"getCurrentTime",function(){return l.player?l.player.getCurrentTime():null}),Ke(Pt(l),"getSecondsLoaded",function(){return l.player?l.player.getSecondsLoaded():null}),Ke(Pt(l),"getInternalPlayer",function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return l.player?l.player.getInternalPlayer(h):null}),Ke(Pt(l),"seekTo",function(h,p){if(!l.player)return null;l.player.seekTo(h,p)}),Ke(Pt(l),"handleReady",function(){l.props.onReady(Pt(l))}),Ke(Pt(l),"getActivePlayer",(0,$d.default)(function(h){for(var p=0,m=[].concat(Yo,Md(e));p<m.length;p++){var w=m[p];if(w.canPlay(h))return w}return n||null})),Ke(Pt(l),"getConfig",(0,$d.default)(function(h,p){var m=l.props.config;return s$.default.all([ra.defaultProps.config,ra.defaultProps.config[p]||{},m,m[p]||{}])})),Ke(Pt(l),"getAttributes",(0,$d.default)(function(h){return(0,o$.omit)(l.props,S$)})),Ke(Pt(l),"renderActivePlayer",function(h){if(!h)return null;var p=l.getActivePlayer(h);if(!p)return null;var m=l.getConfig(h,p.key);return Oi.default.createElement(a$.default,Mc({},l.props,{key:p.key,ref:l.references.player,config:m,activePlayer:p.lazyPlayer||p,onReady:l.handleReady}))}),l}return d$(a,[{key:"shouldComponentUpdate",value:function(u,c){return!(0,l1.default)(this.props,u)||!(0,l1.default)(this.state,c)}},{key:"componentDidUpdate",value:function(u){var c=this.props.light;!u.light&&c&&this.setState({showPreview:!0}),u.light&&!c&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(u){if(!u)return null;var c=this.props,f=c.light,h=c.playIcon,p=c.previewTabIndex,m=c.oEmbedUrl;return Oi.default.createElement(v$,{url:u,light:f,playIcon:h,previewTabIndex:p,oEmbedUrl:m,onClick:this.handleClickPreview})}},{key:"render",value:function(){var u=this.props,c=u.url,f=u.style,h=u.width,p=u.height,m=u.fallback,w=u.wrapper,x=this.state.showPreview,g=this.getAttributes(c),d=typeof w=="string"?this.references.wrapper:void 0;return Oi.default.createElement(w,Mc({ref:d,style:c1(c1({},f),{},{width:h,height:p})},g),Oi.default.createElement(_$,{fallback:m},x?this.renderPreview(c):this.renderActivePlayer(c)))}}]),a}(Oi.Component),Ke(r,"displayName","ReactPlayer"),Ke(r,"propTypes",ra.propTypes),Ke(r,"defaultProps",ra.defaultProps),Ke(r,"addCustomPlayer",function(s){Yo.push(s)}),Ke(r,"removeCustomPlayers",function(){Yo.length=0}),Ke(r,"canPlay",function(s){for(var o=0,a=[].concat(Yo,Md(e));o<a.length;o++){var l=a[o];if(l.canPlay(s))return!0}return!1}),Ke(r,"canEnablePIP",function(s){for(var o=0,a=[].concat(Yo,Md(e));o<a.length;o++){var l=a[o];if(l.canEnablePIP&&l.canEnablePIP(s))return!0}return!1}),i};ah.createReactPlayer=T$;var LI={},he={};Object.defineProperty(he,"__esModule",{value:!0});he.canPlay=he.FLV_EXTENSIONS=he.DASH_EXTENSIONS=he.HLS_EXTENSIONS=he.VIDEO_EXTENSIONS=he.AUDIO_EXTENSIONS=he.MATCH_URL_KALTURA=he.MATCH_URL_VIDYARD=he.MATCH_URL_MIXCLOUD=he.MATCH_URL_DAILYMOTION=he.MATCH_URL_TWITCH_CHANNEL=he.MATCH_URL_TWITCH_VIDEO=he.MATCH_URL_WISTIA=he.MATCH_URL_STREAMABLE=he.MATCH_URL_FACEBOOK_WATCH=he.MATCH_URL_FACEBOOK=he.MATCH_URL_VIMEO=he.MATCH_URL_SOUNDCLOUD=he.MATCH_URL_YOUTUBE=void 0;var h1=zt;function I$(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=C$(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function C$(t,e){if(t){if(typeof t=="string")return d1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(t,e)}}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cm=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;he.MATCH_URL_YOUTUBE=Cm;var $I=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;he.MATCH_URL_SOUNDCLOUD=$I;var MI=/vimeo\.com\/(?!progressive_redirect).+/;he.MATCH_URL_VIMEO=MI;var jI=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;he.MATCH_URL_FACEBOOK=jI;var UI=/^https?:\/\/fb\.watch\/.+$/;he.MATCH_URL_FACEBOOK_WATCH=UI;var FI=/streamable\.com\/([a-z0-9]+)$/;he.MATCH_URL_STREAMABLE=FI;var VI=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;he.MATCH_URL_WISTIA=VI;var BI=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;he.MATCH_URL_TWITCH_VIDEO=BI;var zI=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;he.MATCH_URL_TWITCH_CHANNEL=zI;var HI=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;he.MATCH_URL_DAILYMOTION=HI;var WI=/mixcloud\.com\/([^/]+\/[^/]+)/;he.MATCH_URL_MIXCLOUD=WI;var qI=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;he.MATCH_URL_VIDYARD=qI;var KI=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;he.MATCH_URL_KALTURA=KI;var Ry=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;he.AUDIO_EXTENSIONS=Ry;var Ny=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;he.VIDEO_EXTENSIONS=Ny;var Ay=/\.(m3u8)($|\?)/i;he.HLS_EXTENSIONS=Ay;var GI=/\.(mpd)($|\?)/i;he.DASH_EXTENSIONS=GI;var YI=/\.(flv)($|\?)/i;he.FLV_EXTENSIONS=YI;var b$=function t(e){if(e instanceof Array){var n=I$(e),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;if(typeof i=="string"&&t(i)||t(i.src))return!0}}catch(s){n.e(s)}finally{n.f()}return!1}return(0,h1.isMediaStream)(e)||(0,h1.isBlobUrl)(e)?!0:Ry.test(e)||Ny.test(e)||Ay.test(e)||GI.test(e)||YI.test(e)},k$={youtube:function(e){return e instanceof Array?e.every(function(n){return Cm.test(n)}):Cm.test(e)},soundcloud:function(e){return $I.test(e)&&!Ry.test(e)},vimeo:function(e){return MI.test(e)&&!Ny.test(e)&&!Ay.test(e)},facebook:function(e){return jI.test(e)||UI.test(e)},streamable:function(e){return FI.test(e)},wistia:function(e){return VI.test(e)},twitch:function(e){return BI.test(e)||zI.test(e)},dailymotion:function(e){return HI.test(e)},mixcloud:function(e){return WI.test(e)},vidyard:function(e){return qI.test(e)},kaltura:function(e){return KI.test(e)},file:b$};he.canPlay=k$;(function(t){function e(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(R){return typeof R}:e=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},e(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(A),r=zt,i=he;function s(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return s=function(){return _},_}function o(_){if(_&&_.__esModule)return _;if(_===null||e(_)!=="object"&&typeof _!="function")return{default:_};var O=s();if(O&&O.has(_))return O.get(_);var R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in _)if(Object.prototype.hasOwnProperty.call(_,F)){var oe=D?Object.getOwnPropertyDescriptor(_,F):null;oe&&(oe.get||oe.set)?Object.defineProperty(R,F,oe):R[F]=_[F]}return R.default=_,O&&O.set(_,R),R}function a(_,O){var R=Object.keys(_);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(_);O&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),R.push.apply(R,D)}return R}function l(_){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?a(Object(R),!0).forEach(function(D){b(_,D,R[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(R)):a(Object(R)).forEach(function(D){Object.defineProperty(_,D,Object.getOwnPropertyDescriptor(R,D))})}return _}function u(_,O){return m(_)||p(_,O)||f(_,O)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(_,O){if(_){if(typeof _=="string")return h(_,O);var R=Object.prototype.toString.call(_).slice(8,-1);if(R==="Object"&&_.constructor&&(R=_.constructor.name),R==="Map"||R==="Set")return Array.from(_);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return h(_,O)}}function h(_,O){(O==null||O>_.length)&&(O=_.length);for(var R=0,D=new Array(O);R<O;R++)D[R]=_[R];return D}function p(_,O){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(_)))){var R=[],D=!0,F=!1,oe=void 0;try{for(var ne=_[Symbol.iterator](),se;!(D=(se=ne.next()).done)&&(R.push(se.value),!(O&&R.length===O));D=!0);}catch(de){F=!0,oe=de}finally{try{!D&&ne.return!=null&&ne.return()}finally{if(F)throw oe}}return R}}function m(_){if(Array.isArray(_))return _}function w(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function x(_,O){for(var R=0;R<O.length;R++){var D=O[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}function g(_,O,R){return O&&x(_.prototype,O),R&&x(_,R),_}function d(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),O&&y(_,O)}function y(_,O){return y=Object.setPrototypeOf||function(D,F){return D.__proto__=F,D},y(_,O)}function k(_){var O=S();return function(){var D=C(_),F;if(O){var oe=C(this).constructor;F=Reflect.construct(D,arguments,oe)}else F=D.apply(this,arguments);return I(this,F)}}function I(_,O){return O&&(e(O)==="object"||typeof O=="function")?O:T(_)}function T(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(_){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},C(_)}function b(_,O,R){return O in _?Object.defineProperty(_,O,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[O]=R,_}var E="https://www.youtube.com/iframe_api",W="YT",Z="onYouTubeIframeAPIReady",z=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,N=/user\/([a-zA-Z0-9_-]+)\/?/,M=/youtube-nocookie\.com/,Y="https://www.youtube-nocookie.com",j=function(_){d(R,_);var O=k(R);function R(){var D;w(this,R);for(var F=arguments.length,oe=new Array(F),ne=0;ne<F;ne++)oe[ne]=arguments[ne];return D=O.call.apply(O,[this].concat(oe)),b(T(D),"callPlayer",r.callPlayer),b(T(D),"parsePlaylist",function(se){if(se instanceof Array)return{listType:"playlist",playlist:se.map(D.getID).join(",")};if(z.test(se)){var de=se.match(z),Te=u(de,2),gt=Te[1];return{listType:"playlist",list:gt.replace(/^UC/,"UU")}}if(N.test(se)){var Oe=se.match(N),ve=u(Oe,2),Fe=ve[1];return{listType:"user_uploads",list:Fe}}return{}}),b(T(D),"onStateChange",function(se){var de=se.data,Te=D.props,gt=Te.onPlay,Oe=Te.onPause,ve=Te.onBuffer,Fe=Te.onBufferEnd,It=Te.onEnded,Pr=Te.onReady,Rr=Te.loop,rr=Te.config,ir=rr.playerVars,_i=rr.onUnstarted,mn=window[W].PlayerState,Xl=mn.UNSTARTED,Jl=mn.PLAYING,Vh=mn.PAUSED,Mo=mn.BUFFERING,Bh=mn.ENDED,Zl=mn.CUED;if(de===Xl&&_i(),de===Jl&&(gt(),Fe()),de===Vh&&Oe(),de===Mo&&ve(),de===Bh){var zh=!!D.callPlayer("getPlaylist");Rr&&!zh&&(ir.start?D.seekTo(ir.start):D.play()),It()}de===Zl&&Pr()}),b(T(D),"mute",function(){D.callPlayer("mute")}),b(T(D),"unmute",function(){D.callPlayer("unMute")}),b(T(D),"ref",function(se){D.container=se}),D}return g(R,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(F){return!F||F instanceof Array||z.test(F)?null:F.match(i.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(F,oe){var ne=this,se=this.props,de=se.playing,Te=se.muted,gt=se.playsinline,Oe=se.controls,ve=se.loop,Fe=se.config,It=se.onError,Pr=Fe.playerVars,Rr=Fe.embedOptions,rr=this.getID(F);if(oe){if(z.test(F)||N.test(F)||F instanceof Array){this.player.loadPlaylist(this.parsePlaylist(F));return}this.player.cueVideoById({videoId:rr,startSeconds:(0,r.parseStartTime)(F)||Pr.start,endSeconds:(0,r.parseEndTime)(F)||Pr.end});return}(0,r.getSDK)(E,W,Z,function(ir){return ir.loaded}).then(function(ir){ne.container&&(ne.player=new ir.Player(ne.container,l({width:"100%",height:"100%",videoId:rr,playerVars:l(l({autoplay:de?1:0,mute:Te?1:0,controls:Oe?1:0,start:(0,r.parseStartTime)(F),end:(0,r.parseEndTime)(F),origin:window.location.origin,playsinline:gt?1:0},ne.parsePlaylist(F)),Pr),events:{onReady:function(){ve&&ne.player.setLoop(!0),ne.props.onReady()},onPlaybackRateChange:function(mn){return ne.props.onPlaybackRateChange(mn.data)},onStateChange:ne.onStateChange,onError:function(mn){return It(mn.data)}},host:M.test(F)?Y:void 0},Rr)))},It),Rr.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(F){this.callPlayer("seekTo",F),this.props.playing||this.pause()}},{key:"setVolume",value:function(F){this.callPlayer("setVolume",F*100)}},{key:"setPlaybackRate",value:function(F){this.callPlayer("setPlaybackRate",F)}},{key:"setLoop",value:function(F){this.callPlayer("setLoop",F)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var F=this.props.display,oe={width:"100%",height:"100%",display:F};return n.default.createElement("div",{style:oe},n.default.createElement("div",{ref:this.ref}))}}]),R}(n.Component);t.default=j,b(j,"displayName","YouTube"),b(j,"canPlay",i.canPlay.youtube)})(LI);var x$=ah.createReactPlayer,p1=LI.default,O$=x$([{key:"youtube",canPlay:p1.canPlay,lazyPlayer:p1}]);const P$=og(O$);const R$=({show:t,setShow:e,videoId:n,setVideoId:r})=>{const i=()=>{e(!1),r(null)};return v.jsxs("div",{className:`videoPopup ${t?"visible":""}`,children:[v.jsx("div",{className:"opacityLayer",onClick:i}),v.jsxs("div",{className:"videoPlayer",children:[v.jsx("span",{className:"closeBtn",onClick:i,children:"Close"}),v.jsx(P$,{url:`https://www.youtube.com/watch?v=${n}`,controls:!0,width:"100%",height:"100%"})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new A$;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D$=function(t){const e=QI(t);return XI.encodeByteArray(e,!0)},Uc=function(t){return D$(t).replace(/\./g,"")},JI=function(t){try{return XI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=()=>L$().__FIREBASE_DEFAULTS__,M$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JI(t[1]);return e&&JSON.parse(e)},Dy=()=>{try{return $$()||M$()||j$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZI=t=>{var e,n;return(n=(e=Dy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},U$=t=>{const e=ZI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eC=()=>{var t;return(t=Dy())===null||t===void 0?void 0:t.config},tC=t=>{var e;return(e=Dy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Uc(JSON.stringify(n)),Uc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function z$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W$(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q$(){try{return typeof indexedDB=="object"}catch{return!1}}function K$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G$,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Y$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Or(i,a,r)}}function Y$(t,e){return t.replace(Q$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q$=/\{\$([^}]+)}/g;function X$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(m1(s)&&m1(o)){if(!Fc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J$(t,e){const n=new Z$(t,e);return n.subscribe.bind(n)}class Z${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jd),i.error===void 0&&(i.error=jd),i.complete===void 0&&(i.complete=jd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rM(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nM(t){return t===xi?void 0:t}function rM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const sM={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},oM=Se.INFO,aM={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},lM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=oM,this._logHandler=lM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const uM=(t,e)=>e.some(n=>t instanceof n);let g1,y1;function cM(){return g1||(g1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fM(){return y1||(y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nC=new WeakMap,bm=new WeakMap,rC=new WeakMap,Ud=new WeakMap,$y=new WeakMap;function hM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nC.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function dM(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bm.set(t,e)}let km={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pM(t){km=t(km)}function mM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fd(this),e,...n);return rC.set(r,e.sort?e.sort():[e]),si(r)}:fM().includes(t)?function(...e){return t.apply(Fd(this),e),si(nC.get(this))}:function(...e){return si(t.apply(Fd(this),e))}}function gM(t){return typeof t=="function"?mM(t):(t instanceof IDBTransaction&&dM(t),uM(t,cM())?new Proxy(t,km):t)}function si(t){if(t instanceof IDBRequest)return hM(t);if(Ud.has(t))return Ud.get(t);const e=gM(t);return e!==t&&(Ud.set(t,e),$y.set(e,t)),e}const Fd=t=>$y.get(t);function yM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(si(o.result),l.oldVersion,l.newVersion,si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vM=["get","getKey","getAll","getAllKeys","count"],wM=["put","add","delete","clear"],Vd=new Map;function v1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vd.set(e,s),s}pM(t=>({...t,get:(e,n,r)=>v1(e,n)||t.get(e,n,r),has:(e,n)=>!!v1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",w1="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Ly("@firebase/app"),_M="@firebase/app-compat",TM="@firebase/analytics-compat",IM="@firebase/analytics",CM="@firebase/app-check-compat",bM="@firebase/app-check",kM="@firebase/auth",xM="@firebase/auth-compat",OM="@firebase/database",PM="@firebase/database-compat",RM="@firebase/functions",NM="@firebase/functions-compat",AM="@firebase/installations",DM="@firebase/installations-compat",LM="@firebase/messaging",$M="@firebase/messaging-compat",MM="@firebase/performance",jM="@firebase/performance-compat",UM="@firebase/remote-config",FM="@firebase/remote-config-compat",VM="@firebase/storage",BM="@firebase/storage-compat",zM="@firebase/firestore",HM="@firebase/firestore-compat",WM="firebase",qM="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",KM={[xm]:"fire-core",[_M]:"fire-core-compat",[IM]:"fire-analytics",[TM]:"fire-analytics-compat",[bM]:"fire-app-check",[CM]:"fire-app-check-compat",[kM]:"fire-auth",[xM]:"fire-auth-compat",[OM]:"fire-rtdb",[PM]:"fire-rtdb-compat",[RM]:"fire-fn",[NM]:"fire-fn-compat",[AM]:"fire-iid",[DM]:"fire-iid-compat",[LM]:"fire-fcm",[$M]:"fire-fcm-compat",[MM]:"fire-perf",[jM]:"fire-perf-compat",[UM]:"fire-rc",[FM]:"fire-rc-compat",[VM]:"fire-gcs",[BM]:"fire-gcs-compat",[zM]:"fire-fst",[HM]:"fire-fst-compat","fire-js":"fire-js",[WM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,Pm=new Map;function GM(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(Pm.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,t);for(const n of Vc.values())GM(n,t);return!0}function My(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oi=new Pl("app","Firebase",YM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=qM;function iC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=eC()),!n)throw oi.create("no-options");const s=Vc.get(i);if(s){if(Fc(n,s.options)&&Fc(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const o=new iM(i);for(const l of Pm.values())o.addComponent(l);const a=new QM(n,r,o);return Vc.set(i,a),a}function sC(t=Om){const e=Vc.get(t);if(!e&&t===Om&&eC())return iC();if(!e)throw oi.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=KM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(a.join(" "));return}uo(new Ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="firebase-heartbeat-database",JM=1,tl="firebase-heartbeat-store";let Bd=null;function oC(){return Bd||(Bd=yM(XM,JM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(tl)}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Bd}async function ZM(t){try{return await(await oC()).transaction(tl).objectStore(tl).get(aC(t))}catch(e){if(e instanceof Or)Zi.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function E1(t,e){try{const r=(await oC()).transaction(tl,"readwrite");await r.objectStore(tl).put(e,aC(t)),await r.done}catch(n){if(n instanceof Or)Zi.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function aC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=1024,tj=30*24*60*60*1e3;class nj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ij(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=S1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=tj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S1(),{heartbeatsToSend:n,unsentEntries:r}=rj(this._heartbeatsCache.heartbeats),i=Uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function S1(){return new Date().toISOString().substring(0,10)}function rj(t,e=ej){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ij{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q$()?K$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ZM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _1(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){uo(new Ji("platform-logger",e=>new EM(e),"PRIVATE")),uo(new Ji("heartbeat",e=>new nj(e),"PRIVATE")),ai(xm,w1,t),ai(xm,w1,"esm2017"),ai("fire-js","")}sj("");var oj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,jy=jy||{},ue=oj||self;function Bc(){}function uh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aj(t){return Object.prototype.hasOwnProperty.call(t,zd)&&t[zd]||(t[zd]=++lj)}var zd="closure_uid_"+(1e9*Math.random()>>>0),lj=0;function uj(t,e,n){return t.call.apply(t.bind,arguments)}function cj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$t=uj:$t=cj,$t.apply(null,arguments)}function wu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ei(){this.s=this.s,this.o=this.o}var fj=0;Ei.prototype.s=!1;Ei.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),fj!=0)&&aj(this)};Ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Uy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(uh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var hj=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ue.addEventListener("test",Bc,e),ue.removeEventListener("test",Bc,e)}catch{}return t}();function zc(t){return/^[\s\xa0]*$/.test(t)}var I1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Hd(t,e){return t<e?-1:t>e?1:0}function ch(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function Wn(t){return ch().indexOf(t)!=-1}function Fy(t){return Fy[" "](t),t}Fy[" "]=Bc;function uC(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var dj=Wn("Opera"),co=Wn("Trident")||Wn("MSIE"),cC=Wn("Edge"),Rm=cC||co,fC=Wn("Gecko")&&!(ch().toLowerCase().indexOf("webkit")!=-1&&!Wn("Edge"))&&!(Wn("Trident")||Wn("MSIE"))&&!Wn("Edge"),pj=ch().toLowerCase().indexOf("webkit")!=-1&&!Wn("Edge");function hC(){var t=ue.document;return t?t.documentMode:void 0}var Hc;e:{var Wd="",qd=function(){var t=ch();if(fC)return/rv:([^\);]+)(\)|;)/.exec(t);if(cC)return/Edge\/([\d\.]+)/.exec(t);if(co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pj)return/WebKit\/(\S+)/.exec(t);if(dj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qd&&(Wd=qd?qd[1]:""),co){var Kd=hC();if(Kd!=null&&Kd>parseFloat(Wd)){Hc=String(Kd);break e}}Hc=Wd}var mj={};function gj(){return uC(mj,9,function(){let t=0;const e=I1(String(Hc)).split("."),n=I1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Hd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Hd(i[2].length==0,s[2].length==0)||Hd(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Nm;if(ue.document&&co){var C1=hC();Nm=C1||parseInt(Hc,10)||void 0}else Nm=void 0;var yj=Nm;function nl(t,e){if(Mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fC){e:{try{Fy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:vj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nl.$.h.call(this)}}mt(nl,Mt);var vj={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Al="closure_listenable_"+(1e6*Math.random()|0),wj=0;function Ej(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wj,this.fa=this.ia=!1}function fh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dC(t){const e={};for(const n in t)e[n]=t[n];return e}const b1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<b1.length;s++)n=b1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hh(t){this.src=t,this.g={},this.h=0}hh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Dm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Ej(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Am(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var By="closure_lm_"+(1e6*Math.random()|0),Gd={};function mC(t,e,n,r,i){if(r&&r.once)return yC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mC(t,e[s],n,r,i);return null}return n=Wy(n),t&&t[Al]?t.O(e,n,Nl(r)?!!r.capture:!!r,i):gC(t,e,n,!1,r,i)}function gC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nl(i)?!!i.capture:!!i,a=Hy(t);if(a||(t[By]=a=new hh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Sj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Sj(){function t(n){return e.call(t.src,t.listener,n)}const e=_j;return t}function yC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yC(t,e[s],n,r,i);return null}return n=Wy(n),t&&t[Al]?t.P(e,n,Nl(r)?!!r.capture:!!r,i):gC(t,e,n,!0,r,i)}function vC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vC(t,e[s],n,r,i);else r=Nl(r)?!!r.capture:!!r,n=Wy(n),t&&t[Al]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Dm(s,n,r,i),-1<n&&(fh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dm(e,n,r,i)),(n=-1<t?e[t]:null)&&zy(n))}function zy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Al])Am(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hy(e))?(Am(n,t),n.h==0&&(n.src=null,e[By]=null)):fh(t)}}}function wC(t){return t in Gd?Gd[t]:Gd[t]="on"+t}function _j(t,e){if(t.fa)t=!0;else{e=new nl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zy(t),t=n.call(r,e)}return t}function Hy(t){return t=t[By],t instanceof hh?t:null}var Yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wy(t){return typeof t=="function"?t:(t[Yd]||(t[Yd]=function(e){return t.handleEvent(e)}),t[Yd])}function dt(){Ei.call(this),this.i=new hh(this),this.S=this,this.J=null}mt(dt,Ei);dt.prototype[Al]=!0;dt.prototype.removeEventListener=function(t,e,n,r){vC(this,t,e,n,r)};function _t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Mt(e,t);else if(e instanceof Mt)e.target=e.target||t;else{var i=e;e=new Mt(r,t),pC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Eu(o,r,!0,e)&&i}if(o=e.g=t,i=Eu(o,r,!0,e)&&i,i=Eu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Eu(o,r,!1,e)&&i}dt.prototype.N=function(){if(dt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fh(n[r]);delete t.g[e],t.h--}}this.J=null};dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Am(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var qy=ue.JSON.stringify;function Tj(){var t=_C;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Ij{constructor(){this.h=this.g=null}add(e,n){const r=EC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var EC=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Cj,t=>t.reset());class Cj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bj(t){ue.setTimeout(()=>{throw t},0)}function SC(t,e){Lm||kj(),$m||(Lm(),$m=!0),_C.add(t,e)}var Lm;function kj(){var t=ue.Promise.resolve(void 0);Lm=function(){t.then(xj)}}var $m=!1,_C=new Ij;function xj(){for(var t;t=Tj();){try{t.h.call(t.g)}catch(n){bj(n)}var e=EC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$m=!1}function dh(t,e){dt.call(this),this.h=t||1,this.g=e||ue,this.j=$t(this.qb,this),this.l=Date.now()}mt(dh,dt);Q=dh.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_t(this,"tick"),this.ga&&(Ky(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ky(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){dh.$.N.call(this),Ky(this),delete this.g};function Gy(t,e,n){if(typeof t=="function")n&&(t=$t(t,n));else if(t&&typeof t.handleEvent=="function")t=$t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function TC(t){t.g=Gy(()=>{t.g=null,t.i&&(t.i=!1,TC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Oj extends Ei{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TC(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rl(t){Ei.call(this),this.h=t,this.g={}}mt(rl,Ei);var k1=[];function IC(t,e,n,r){Array.isArray(n)||(n&&(k1[0]=n.toString()),n=k1);for(var i=0;i<n.length;i++){var s=mC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function CC(t){Vy(t.g,function(e,n){this.g.hasOwnProperty(n)&&zy(e)},t),t.g={}}rl.prototype.N=function(){rl.$.N.call(this),CC(this)};rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ph(){this.g=!0}ph.prototype.Ea=function(){this.g=!1};function Pj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Rj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Aj(t,n)+(r?" "+r:"")})}function Nj(t,e){t.info(function(){return"TIMEOUT: "+e})}ph.prototype.info=function(){};function Aj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return qy(n)}catch{return e}}var ls={},x1=null;function mh(){return x1=x1||new dt}ls.Ta="serverreachability";function bC(t){Mt.call(this,ls.Ta,t)}mt(bC,Mt);function il(t){const e=mh();_t(e,new bC(e))}ls.STAT_EVENT="statevent";function kC(t,e){Mt.call(this,ls.STAT_EVENT,t),this.stat=e}mt(kC,Mt);function Kt(t){const e=mh();_t(e,new kC(e,t))}ls.Ua="timingevent";function xC(t,e){Mt.call(this,ls.Ua,t),this.size=e}mt(xC,Mt);function Dl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var gh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yy(){}Yy.prototype.h=null;function O1(t){return t.h||(t.h=t.i())}function PC(){}var Ll={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qy(){Mt.call(this,"d")}mt(Qy,Mt);function Xy(){Mt.call(this,"c")}mt(Xy,Mt);var Mm;function yh(){}mt(yh,Yy);yh.prototype.g=function(){return new XMLHttpRequest};yh.prototype.i=function(){return{}};Mm=new yh;function $l(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rl(this),this.P=Dj,t=Rm?125:void 0,this.V=new dh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new RC}function RC(){this.i=null,this.g="",this.h=!1}var Dj=45e3,jm={},Wc={};Q=$l.prototype;Q.setTimeout=function(t){this.P=t};function Um(t,e,n){t.L=1,t.v=wh(_r(e)),t.s=n,t.S=!0,NC(t,null)}function NC(t,e){t.G=Date.now(),Ml(t),t.A=_r(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),FC(n.i,"t",r),t.C=0,n=t.l.I,t.h=new RC,t.g=ab(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Oj($t(t.Pa,t,t.g),t.O)),IC(t.U,t.g,"readystatechange",t.nb),e=t.I?dC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),il(),Pj(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&cr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=cr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Rm||this.g&&(this.h.h||this.g.ja()||A1(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?il(3):il(2)),vh(this);var n=this.g.da();this.aa=n;t:if(AC(this)){var r=A1(this.g);t="";var i=r.length,s=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),_a(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Rj(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zc(a)){var u=a;break t}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,n);else{this.i=!1,this.o=3,Kt(12),Ai(this),_a(this);break e}}this.S?(DC(this,c,o),Rm&&this.i&&c==3&&(IC(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),Fm(this,o)),c==4&&Ai(this),this.i&&!this.J&&(c==4?rb(this.l,this):(this.i=!1,Ml(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Kt(12)):(this.o=0,Kt(13)),Ai(this),_a(this)}}}catch{}finally{}};function AC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function DC(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Lj(t,n),i==Wc){e==4&&(t.o=4,Kt(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==jm){t.o=4,Kt(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),Fm(t,i);AC(t)&&i!=Wc&&i!=jm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),iv(e),e.L=!0,Kt(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),Ai(t),_a(t))}Q.mb=function(){if(this.g){var t=cr(this.g),e=this.g.ja();this.C<e.length&&(vh(this),DC(this,t,e),this.i&&t!=4&&Ml(this))}};function Lj(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Wc:(n=Number(e.substring(n,r)),isNaN(n)?jm:(r+=1,r+n>e.length?Wc:(e=e.substr(r,n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,Ai(this)};function Ml(t){t.Y=Date.now()+t.P,LC(t,t.P)}function LC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dl($t(t.lb,t),e)}function vh(t){t.B&&(ue.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Nj(this.j,this.A),this.L!=2&&(il(),Kt(17)),Ai(this),this.o=2,_a(this)):LC(this,this.Y-t)};function _a(t){t.l.H==0||t.J||rb(t.l,t)}function Ai(t){vh(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,Ky(t.V),CC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Fm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Vm(n.h,t))){if(!t.K&&Vm(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gc(n),_h(n);else break e;rv(n),Kt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=Dl($t(n.ib,n),6e3));if(1>=zC(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Di(n,11)}else if((t.K||n.g==t)&&Gc(n),!zc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const f=u[4];f!=null&&(n.Ga=f,n.j.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Jy(s,s.h),s.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Ue(r.G,r.F,w))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ob(r,r.I?r.oa:null,r.Y),o.K){HC(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(vh(a),Ml(a)),r.g=o}else tb(r);0<n.i.length&&Th(n)}else u[0]!="stop"&&u[0]!="close"||Di(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Di(n,7):nv(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}il(4)}catch{}}function $j(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(uh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Mj(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(uh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function $C(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(uh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Mj(t),r=$j(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var MC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ui(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ui){this.h=e!==void 0?e:t.h,qc(this,t.j),this.s=t.s,this.g=t.g,Kc(this,t.m),this.l=t.l,e=t.i;var n=new sl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),P1(this,n),this.o=t.o}else t&&(n=String(t).match(MC))?(this.h=!!e,qc(this,n[1]||"",!0),this.s=oa(n[2]||""),this.g=oa(n[3]||"",!0),Kc(this,n[4]),this.l=oa(n[5]||"",!0),P1(this,n[6]||"",!0),this.o=oa(n[7]||"")):(this.h=!!e,this.i=new sl(null,this.h))}Ui.prototype.toString=function(){var t=[],e=this.j;e&&t.push(aa(e,R1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(aa(e,R1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(aa(n,n.charAt(0)=="/"?Vj:Fj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",aa(n,zj)),t.join("")};function _r(t){return new Ui(t)}function qc(t,e,n){t.j=n?oa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function P1(t,e,n){e instanceof sl?(t.i=e,Hj(t.i,t.h)):(n||(e=aa(e,Bj)),t.i=new sl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function wh(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function aa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Uj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Uj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var R1=/[#\/\?@]/g,Fj=/[#\?:]/g,Vj=/[#\?]/g,Bj=/[#\?@]/g,zj=/#/g;function sl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Si(t){t.g||(t.g=new Map,t.h=0,t.i&&jj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=sl.prototype;Q.add=function(t,e){Si(this),this.i=null,t=ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jC(t,e){Si(t),e=ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UC(t,e){return Si(t),e=ko(t,e),t.g.has(e)}Q.forEach=function(t,e){Si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.sa=function(){Si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){Si(this);let e=[];if(typeof t=="string")UC(this,t)&&(e=e.concat(this.g.get(ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return Si(this),this.i=null,t=ko(this,t),UC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function FC(t,e,n){jC(t,e),0<n.length&&(t.i=null,t.g.set(ko(t,e),Uy(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Hj(t,e){e&&!t.j&&(Si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jC(this,r),FC(this,i,n))},t)),t.j=e}var Wj=class{constructor(t,e){this.h=t,this.g=e}};function VC(t){this.l=t||qj,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qj=10;function BC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zC(t){return t.h?1:t.g?t.g.size:0}function Vm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jy(t,e){t.g?t.g.add(e):t.h=e}function HC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}VC.prototype.cancel=function(){if(this.i=WC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Uy(t.i)}function Zy(){}Zy.prototype.stringify=function(t){return ue.JSON.stringify(t,void 0)};Zy.prototype.parse=function(t){return ue.JSON.parse(t,void 0)};function Kj(){this.g=new Zy}function Gj(t,e,n){const r=n||"";try{$C(t,function(i,s){let o=i;Nl(i)&&(o=qy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yj(t,e){const n=new ph;if(ue.Image){const r=new Image;r.onload=wu(Su,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wu(Su,n,r,"TestLoadImage: error",!1,e),r.onabort=wu(Su,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wu(Su,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Su(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jl(t){this.l=t.fc||null,this.j=t.ob||!1}mt(jl,Yy);jl.prototype.g=function(){return new Eh(this.l,this.j)};jl.prototype.i=function(t){return function(){return t}}({});function Eh(t,e){dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ev,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Eh,dt);var ev=0;Q=Eh.prototype;Q.open=function(t,e){if(this.readyState!=ev)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ol(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=ev};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function qC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ul(this):ol(this),this.readyState==3&&qC(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,Ul(this))};Q.Ya=function(t){this.g&&(this.response=t,Ul(this))};Q.ka=function(){this.g&&Ul(this)};function Ul(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ol(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ol(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Qj=ue.JSON.parse;function Qe(t){dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=KC,this.L=this.M=!1}mt(Qe,dt);var KC="",Xj=/^https?$/i,Jj=["POST","PUT"];Q=Qe.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mm.g(),this.C=this.u?O1(this.u):O1(Mm),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){N1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ue.FormData&&t instanceof ue.FormData,!(0<=lC(Jj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QC(this),0<this.B&&((this.L=Zj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=Gy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){N1(this,s)}};function Zj(t){return co&&gj()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof jy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))};function N1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,GC(t),Sh(t)}function GC(t){t.F||(t.F=!0,_t(t,"complete"),_t(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_t(this,"complete"),_t(this,"abort"),Sh(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sh(this,!0)),Qe.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?YC(this):this.kb())};Q.kb=function(){YC(this)};function YC(t){if(t.h&&typeof jy<"u"&&(!t.C[1]||cr(t)!=4||t.da()!=2)){if(t.v&&cr(t)==4)Gy(t.La,0,t);else if(_t(t,"readystatechange"),cr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(MC)[1]||null;if(!i&&ue.self&&ue.self.location){var s=ue.self.location.protocol;i=s.substr(0,s.length-1)}r=!Xj.test(i?i.toLowerCase():"")}n=r}if(n)_t(t,"complete"),_t(t,"success");else{t.m=6;try{var o=2<cr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",GC(t)}}finally{Sh(t)}}}}function Sh(t,e){if(t.g){QC(t);const n=t.g,r=t.C[0]?Bc:null;t.g=null,t.C=null,e||_t(t,"ready");try{n.onreadystatechange=r}catch{}}}function QC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}function cr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Qj(e)}};function A1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case KC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function XC(t){let e="";return Vy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function Qo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JC(t){this.Ga=0,this.i=[],this.j=new ph,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qo("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qo("baseRetryDelayMs",5e3,t),this.hb=Qo("retryDelaySeedMs",1e4,t),this.eb=Qo("forwardChannelMaxRetries",2,t),this.xa=Qo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new VC(t&&t.concurrentRequestLimit),this.Ja=new Kj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}Q=JC.prototype;Q.qa=8;Q.H=1;function nv(t){if(ZC(t),t.H==3){var e=t.W++,n=_r(t.G);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Fl(t,n),e=new $l(t,t.j,e,void 0),e.L=2,e.v=wh(_r(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(e.v.toString(),"")),!n&&ue.Image&&(new Image().src=e.v,n=!0),n||(e.g=ab(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ml(e)}sb(t)}function _h(t){t.g&&(iv(t),t.g.cancel(),t.g=null)}function ZC(t){_h(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Gc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Th(t){BC(t.h)||t.m||(t.m=!0,SC(t.Na,t),t.C=0)}function e4(t,e){return zC(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dl($t(t.Na,t,e),ib(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $l(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=dC(s),pC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eb(this,i,e),n=_r(this.G),Ue(n,"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Fl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(XC(s)))+"&"+e:this.o&&tv(n,this.o,s)),Jy(this.h,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.ba=!0,Um(i,n,null)):Um(i,n,e),this.H=2}}else this.H==3&&(t?D1(this,t):this.i.length==0||BC(this.h)||D1(this))};function D1(t,e){var n;e?n=e.m:n=t.W++;const r=_r(t.G);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.V),Fl(t,r),t.o&&t.s&&tv(r,t.o,t.s),n=new $l(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=eb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jy(t.h,n),Um(n,r,e)}function Fl(t,e){t.ma&&Vy(t.ma,function(n,r){Ue(e,r,n)}),t.l&&$C({},function(n,r){Ue(e,r,n)})}function eb(t,e,n){n=Math.min(t.i.length,n);var r=t.l?$t(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{Gj(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function tb(t){t.g||t.u||(t.ba=1,SC(t.Ma,t),t.A=0)}function rv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dl($t(t.Ma,t),ib(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,nb(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Dl($t(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Kt(10),_h(this),nb(this))};function iv(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function nb(t){t.g=new $l(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_r(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.M?"0":"1"),Ue(e,"AID",t.V),Ue(e,"TYPE","xmlhttp"),Fl(t,e),t.o&&t.s&&tv(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=wh(_r(e)),n.s=null,n.S=!0,NC(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,_h(this),rv(this),Kt(19))};function Gc(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function rb(t,e){var n=null;if(t.g==e){Gc(t),iv(t),t.g=null;var r=2}else if(Vm(t.h,e))n=e.F,HC(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=mh(),_t(r,new xC(r,n)),Th(t)}else tb(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&e4(t,e)||r==2&&rv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Di(t,5);break;case 4:Di(t,10);break;case 3:Di(t,6);break;default:Di(t,2)}}}function ib(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Di(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=$t(t.pb,t);n||(n=new Ui("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||qc(n,"https"),wh(n)),Yj(n.toString(),r)}else Kt(2);t.H=0,t.l&&t.l.za(e),sb(t),ZC(t)}Q.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function sb(t){if(t.H=0,t.pa=[],t.l){const e=WC(t.h);(e.length!=0||t.i.length!=0)&&(T1(t.pa,e),T1(t.pa,t.i),t.h.i.length=0,Uy(t.i),t.i.length=0),t.l.ya()}}function ob(t,e,n){var r=n instanceof Ui?_r(n):new Ui(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Kc(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ui(null,void 0);r&&qc(s,r),e&&(s.g=e),i&&Kc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ue(r,n,e),Ue(r,"VER",t.qa),Fl(t,r),r}function ab(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Qe(new jl({ob:!0})):new Qe(t.va),e.Oa(t.I),e}function lb(){}Q=lb.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.Va=function(){};function Yc(){if(co&&!(10<=Number(yj)))throw Error("Environmental error: no available transport.")}Yc.prototype.g=function(t,e){return new fn(t,e)};function fn(t,e){dt.call(this),this.g=new JC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xo(this)}mt(fn,dt);fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Kt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=ob(t,null,t.Y),Th(t)};fn.prototype.close=function(){nv(this.g)};fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qy(t),t=n);e.i.push(new Wj(e.fb++,t)),e.H==3&&Th(e)};fn.prototype.N=function(){this.g.l=null,delete this.j,nv(this.g),delete this.g,fn.$.N.call(this)};function ub(t){Qy.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(ub,Qy);function cb(){Xy.call(this),this.status=1}mt(cb,Xy);function xo(t){this.g=t}mt(xo,lb);xo.prototype.Ba=function(){_t(this.g,"a")};xo.prototype.Aa=function(t){_t(this.g,new ub(t))};xo.prototype.za=function(t){_t(this.g,new cb)};xo.prototype.ya=function(){_t(this.g,"b")};function t4(){this.blockSize=-1}function Un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mt(Un,t4);Un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Qd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Un.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Qd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Qd(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Qd(this,r),i=0;break}}this.h=i,this.i+=e};Un.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var n4={};function sv(t){return-128<=t&&128>t?uC(n4,t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function Kn(t){if(isNaN(t)||!isFinite(t))return Vs;if(0>t)return Et(Kn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Bm;return new Ce(e,0)}function fb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(fb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kn(Math.pow(e,8)),r=Vs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kn(Math.pow(e,s)),r=r.R(s).add(Kn(o))):(r=r.R(n),r=r.add(Kn(o)))}return r}var Bm=4294967296,Vs=sv(0),zm=sv(1),L1=sv(16777216);Q=Ce.prototype;Q.ea=function(){if(wn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Bm+r)*e,e*=Bm}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fr(this))return"0";if(wn(this))return"-"+Et(this).toString(t);for(var e=Kn(Math.pow(t,6)),n=this,r="";;){var i=Xc(n,e).g;n=Qc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,fr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wn(t){return t.h==-1}Q.X=function(t){return t=Qc(this,t),wn(t)?-1:fr(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(zm)}Q.abs=function(){return wn(this)?Et(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Qc(t,e){return t.add(Et(e))}Q.R=function(t){if(fr(this)||fr(t))return Vs;if(wn(this))return wn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(wn(t))return Et(this.R(Et(t)));if(0>this.X(L1)&&0>t.X(L1))return Kn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,_u(n,2*r+2*i),n[2*r+2*i+1]+=s*l,_u(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,_u(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,_u(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function _u(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xo(t,e){this.g=t,this.h=e}function Xc(t,e){if(fr(e))throw Error("division by zero");if(fr(t))return new Xo(Vs,Vs);if(wn(t))return e=Xc(Et(t),e),new Xo(Et(e.g),Et(e.h));if(wn(e))return e=Xc(t,Et(e)),new Xo(Et(e.g),e.h);if(30<t.g.length){if(wn(t)||wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zm,r=e;0>=r.X(t);)n=$1(n),r=$1(r);var i=ys(n,1),s=ys(r,1);for(r=ys(r,2),n=ys(n,2);!fr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ys(r,1),n=ys(n,1)}return e=Qc(t,i.R(e)),new Xo(i,e)}for(i=Vs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Kn(n),o=s.R(e);wn(o)||0<o.X(t);)n-=r,s=Kn(n),o=s.R(e);fr(s)&&(s=zm),i=i.add(s),t=Qc(t,o)}return new Xo(i,t)}Q.gb=function(t){return Xc(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function $1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function ys(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}Yc.prototype.createWebChannel=Yc.prototype.g;fn.prototype.send=fn.prototype.u;fn.prototype.open=fn.prototype.m;fn.prototype.close=fn.prototype.close;gh.NO_ERROR=0;gh.TIMEOUT=8;gh.HTTP_ERROR=6;OC.COMPLETE="complete";PC.EventType=Ll;Ll.OPEN="a";Ll.CLOSE="b";Ll.ERROR="c";Ll.MESSAGE="d";dt.prototype.listen=dt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Un.prototype.digest=Un.prototype.l;Un.prototype.reset=Un.prototype.reset;Un.prototype.update=Un.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=Kn;Ce.fromString=fb;var r4=function(){return new Yc},i4=function(){return mh()},Xd=gh,s4=OC,o4=ls,M1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},a4=jl,Tu=PC,l4=Qe,u4=Un,Bs=Ce;const j1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Ly("@firebase/firestore");function U1(){return es.logLevel}function te(t,...e){if(es.logLevel<=Se.DEBUG){const n=e.map(ov);es.debug(`Firestore (${Oo}): ${t}`,...n)}}function Tr(t,...e){if(es.logLevel<=Se.ERROR){const n=e.map(ov);es.error(`Firestore (${Oo}): ${t}`,...n)}}function fo(t,...e){if(es.logLevel<=Se.WARN){const n=e.map(ov);es.warn(`Firestore (${Oo}): ${t}`,...n)}}function ov(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function $e(t,e){t||le()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h4{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new hb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Nt(e)}}class d4{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class p4{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new d4(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new m4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=y4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ot(0,0))}static max(){return new ce(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends al{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const v4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends al{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return v4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(De.fromString(e))}static fromName(e){return new ie(De.fromString(e).popFirst(5))}static empty(){return new ie(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new De(e.slice()))}}function w4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new di(i,ie.empty(),e)}function E4(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(ce.min(),ie.empty(),-1)}static max(){return new di(ce.max(),ie.empty(),-1)}}function S4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==_4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}av.ct=-1;function Ih(t){return t==null}function Jc(t){return t===0&&1/t==-1/0}function I4(t){return typeof t=="number"&&Number.isInteger(t)&&!Jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,n,r,i){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new An([])}unionWith(e){let n=new jt(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mb("Invalid base64 string: "+i):i}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const C4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if($e(!!t),typeof t=="string"){let e=0;const n=C4.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uv(t){const e=t.mapValue.fields.__previous_value__;return lv(e)?uv(e):e}function ll(t){const e=pi(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lv(t)?4:k4(t)?9007199254740991:10:le()}function tr(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=pi(r.timestampValue),o=pi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ts(r.bytesValue).isEqual(ts(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?Jc(s)===Jc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(F1(s)!==F1(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!tr(s[a],o[a])))return!1;return!0}(t,e);default:return le()}}function cl(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=ns(t),r=ns(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return B1(t.timestampValue,e.timestampValue);case 4:return B1(ll(t),ll(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ts(i),a=ts(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=_e(o[l],a[l]);if(u!==0)return u}return _e(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_e(et(i.latitude),et(s.latitude));return o!==0?o:_e(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=po(o[l],a[l]);if(u)return u}return _e(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cu.mapValue&&s===Cu.mapValue)return 0;if(i===Cu.mapValue)return 1;if(s===Cu.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=_e(a[c],u[c]);if(f!==0)return f;const h=po(o[a[c]],l[u[c]]);if(h!==0)return h}return _e(a.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function B1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=pi(t),r=pi(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function mo(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=pi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ts(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ie.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Hm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Hm(r.fields[a])}`;return s+"}"}(t.mapValue):le();var e,n}function z1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wm(t){return!!t&&"integerValue"in t}function cv(t){return!!t&&"arrayValue"in t}function H1(t){return!!t&&"nullValue"in t}function W1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function Ta(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ta(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ta(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ta(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ta(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Po(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(Ta(this.value))}}function gb(t){const e=[];return Po(t.fields,(n,r)=>{const i=new Lt([n]);if(Yu(r)){const s=gb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,ce.min(),ce.min(),ce.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,ce.min(),ce.min(),En.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ce.min(),ce.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.position=e,this.inclusive=n}}function q1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function K1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n="asc"){this.field=e,this.dir=n}}function x4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{}class nt extends yb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P4(e,n,r):n==="array-contains"?new A4(e,r):n==="in"?new D4(e,r):n==="not-in"?new L4(e,r):n==="array-contains-any"?new $4(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R4(e,r):new N4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fn extends yb{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Fn(e,n)}matches(e){return vb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function vb(t){return t.op==="and"}function wb(t){return O4(t)&&vb(t)}function O4(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function qm(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(wb(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function Eb(t,e){return t instanceof nt?function(n,r){return r instanceof nt&&n.op===r.op&&n.field.isEqual(r.field)&&tr(n.value,r.value)}(t,e):t instanceof Fn?function(n,r){return r instanceof Fn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Eb(s,r.filters[o]),!0):!1}(t,e):void le()}function Sb(t){return t instanceof nt?function(e){return`${e.field.canonicalString()} ${e.op} ${mo(e.value)}`}(t):t instanceof Fn?function(e){return e.op.toString()+" {"+e.getFilters().map(Sb).join(" ,")+"}"}(t):"Filter"}class P4 extends nt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class R4 extends nt{constructor(e,n){super(e,"in",n),this.keys=_b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N4 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=_b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _b(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class A4 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cv(n)&&cl(n.arrayValue,this.value)}}class D4 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}}class L4 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cl(this.value.arrayValue,n)}}class $4 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function G1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new M4(t,e,n,r,i,s,o)}function fv(t){const e=fe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.dt=n}return e.dt}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Eb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K1(t.startAt,e.startAt)&&K1(t.endAt,e.endAt)}function Km(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function j4(t,e,n,r,i,s,o,a){return new Ro(t,e,n,r,i,s,o,a)}function dv(t){return new Ro(t)}function Y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ch(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Tb(t){return t.collectionGroup!==null}function Hs(t){const e=fe(t);if(e.wt===null){e.wt=[];const n=Ch(e),r=pv(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new zs(n)),e.wt.push(new zs(Lt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new zs(Lt.keyField(),s))}}}return e.wt}function Ir(t){const e=fe(t);if(!e._t)if(e.limitType==="F")e._t=G1(e.path,e.collectionGroup,Hs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Hs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new zs(s.field,o))}const r=e.endAt?new Zc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zc(e.startAt.position,e.startAt.inclusive):null;e._t=G1(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Gm(t,e){e.getFirstInequalityField(),Ch(t);const n=t.filters.concat([e]);return new Ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ym(t,e,n){return new Ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bh(t,e){return hv(Ir(t),Ir(e))&&t.limitType===e.limitType}function Ib(t){return`${fv(Ir(t))}|lt:${t.limitType}`}function Qm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Sb(r)).join(", ")}]`),Ih(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),`Target(${n})`}(Ir(t))}; limitType=${t.limitType})`}function kh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ie.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Hs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=q1(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Hs(n),r)||n.endAt&&!function(i,s,o){const a=q1(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Hs(n),r))}(t,e)}function U4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cb(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const s=F4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function F4(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?po(a,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new qe(ie.comparator);function Cr(){return V4}const bb=new qe(ie.comparator);function la(...t){let e=bb;for(const n of t)e=e.insert(n.key,n);return e}function kb(t){let e=bb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return Ia()}function xb(){return Ia()}function Ia(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const B4=new qe(ie.comparator),z4=new jt(ie.comparator);function me(...t){let e=z4;for(const n of t)e=e.add(n);return e}const H4=new jt(_e);function W4(){return H4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function Pb(t){return{integerValue:""+t}}function q4(t,e){return I4(e)?Pb(e):Ob(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function K4(t,e,n){return t instanceof ef?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&lv(i)&&(i=uv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof fl?Nb(t,e):t instanceof hl?Ab(t,e):function(r,i){const s=Rb(r,i),o=Q1(s)+Q1(r.gt);return Wm(s)&&Wm(r.gt)?Pb(o):Ob(r.serializer,o)}(t,e)}function G4(t,e,n){return t instanceof fl?Nb(t,e):t instanceof hl?Ab(t,e):n}function Rb(t,e){return t instanceof tf?Wm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ef extends xh{}class fl extends xh{constructor(e){super(),this.elements=e}}function Nb(t,e){const n=Db(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class hl extends xh{constructor(e){super(),this.elements=e}}function Ab(t,e){let n=Db(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class tf extends xh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Q1(t){return et(t.integerValue||t.doubleValue)}function Db(t){return cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y4(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof fl&&r instanceof fl||n instanceof hl&&r instanceof hl?ho(n.elements,r.elements,tr):n instanceof tf&&r instanceof tf?tr(n.gt,r.gt):n instanceof ef&&r instanceof ef}(t.transform,e.transform)}class Q4{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oh{}function Lb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mb(t.key,Xn.none()):new zl(t.key,t.data,Xn.none());{const n=t.data,r=En.empty();let i=new jt(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new us(t.key,r,new An(i.toArray()),Xn.none())}}function X4(t,e,n){t instanceof zl?function(r,i,s){const o=r.value.clone(),a=J1(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof us?function(r,i,s){if(!Qu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=J1(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll($b(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ca(t,e,n,r){return t instanceof zl?function(i,s,o,a){if(!Qu(i.precondition,s))return o;const l=i.value.clone(),u=Z1(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,s,o,a){if(!Qu(i.precondition,s))return o;const l=Z1(i.fieldTransforms,a,s),u=s.data;return u.setAll($b(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Qu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function J4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Rb(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function X1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ho(n,r,(i,s)=>Y4(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zl extends Oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends Oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $b(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function J1(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,G4(o,a,n[i]))}return r}function Z1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,K4(s,o,e))}return r}class Mb extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z4 extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&X4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Lb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>X1(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>X1(n,r))}}class mv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=B4;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new mv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,ye;function rU(t){switch(t){default:return le();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function jb(t){if(t===void 0)return Tr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ze.OK:return U.OK;case Ze.CANCELLED:return U.CANCELLED;case Ze.UNKNOWN:return U.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return U.INTERNAL;case Ze.UNAVAILABLE:return U.UNAVAILABLE;case Ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ze.NOT_FOUND:return U.NOT_FOUND;case Ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ze.ABORTED:return U.ABORTED;case Ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ze.DATA_LOSS:return U.DATA_LOSS;default:return le()}}(ye=Ze||(Ze={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bu}static getOrCreateInstance(){return bu===null&&(bu=new gv),bu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let bu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Bs([4294967295,4294967295],0);function eE(t){const e=iU().encode(t),n=new u4;return n.update(e),new Uint8Array(n.digest())}function tE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,s],0)]}class yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(r<0)throw new ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Bs.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(sU)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=eE(e),[r,i]=tE(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=eE(e),[r,i]=tE(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(ce.min(),i,new qe(_e),Cr(),me())}}class Hl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Ub{constructor(e,n){this.targetId=e,this.Vt=n}}class Fb{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nE{constructor(){this.St=0,this.Dt=iE(),this.Ct=Bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=me(),n=me(),r=me();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Hl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iE()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oU{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Cr(),this.zt=rE(),this.Wt=new qe(_e)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Km(o))if(i===0){const a=new ie(o.path);this.Yt(r,a,Dt.newNoDocument(a,ce.min()))}else $e(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=gv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,f){var h,p,m,w,x,g;const d={localCacheCount:c,existenceFilterCount:f.count},y=f.unchangedNames;return y&&(d.bloomFilter={applied:u===0,hashCount:(h=y==null?void 0:y.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(w=(m=(p=y==null?void 0:y.bits)===null||p===void 0?void 0:p.bitmap)===null||m===void 0?void 0:m.length)!==null&&w!==void 0?w:0,padding:(g=(x=y==null?void 0:y.bits)===null||x===void 0?void 0:x.padding)!==null&&g!==void 0?g:0}),d}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=ts(s).toUint8Array()}catch(c){if(c instanceof mb)return fo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new yv(l,o,a)}catch(c){return fo(c instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Km(a.target)){const l=new ie(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Dt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=me();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Ph(e,n,this.Wt,this.jt,r);return this.jt=Cr(),this.zt=rE(),this.Wt=new qe(_e),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nE,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new jt(_e),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nE),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rE(){return new qe(ie.comparator)}function iE(){return new qe(ie.comparator)}const aU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uU=(()=>({and:"AND",or:"OR"}))();class cU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(t,e){return t.useProto3Json||Ih(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fU(t,e){return nf(t,e.toTimestamp())}function Jn(t){return $e(!!t),ce.fromTimestamp(function(e){const n=pi(e);return new ot(n.seconds,n.nanos)}(t))}function vv(t,e){return function(n){return new De(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Bb(t){const e=De.fromString(t);return $e(qb(e)),e}function Jm(t,e){return vv(t.databaseId,e.path)}function Jd(t,e){const n=Bb(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(zb(n))}function Zm(t,e){return vv(t.databaseId,e)}function hU(t){const e=Bb(t);return e.length===4?De.emptyPath():zb(e)}function eg(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zb(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sE(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function dU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?($e(u===void 0||typeof u=="string"),Bt.fromBase64String(u||"")):($e(u===void 0||u instanceof Uint8Array),Bt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?U.UNKNOWN:jb(l.code);return new J(u,l.message||"")}(o);n=new Fb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jd(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):ce.min(),a=new En({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jd(t,r.document),s=r.readTime?Jn(r.readTime):ce.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jd(t,r.document),s=r.removedTargetIds||[];n=new Xu([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nU(i,s),a=r.targetId;n=new Ub(a,o)}}return n}function pU(t,e){let n;if(e instanceof zl)n={update:sE(t,e.key,e.value)};else if(e instanceof Mb)n={delete:Jm(t,e.key)};else if(e instanceof us)n={update:sE(t,e.key,e.data),updateMask:TU(e.fieldMask)};else{if(!(e instanceof Z4))return le();n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ef)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof hl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:fU(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function mU(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Jn(r.updateTime):Jn(i);return s.isEqual(ce.min())&&(s=Jn(i)),new Q4(s,r.transformResults||[])}(n,e))):[]}function gU(t,e){return{documents:[Zm(t,e.path)]}}function yU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Zm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Wb(Fn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:vs(c.field),direction:EU(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Xm(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function vU(t){let e=hU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=Hb(c);return f instanceof Fn&&wb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new zs(ws(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Ih(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new Zc(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new Zc(h,f)}(n.endAt)),j4(e,i,o,s,a,"F",l,u)}function wU(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hb(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ws(e.unaryFilter.field);return nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(e.unaryFilter.field);return nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(e.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ws(e.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(e){return nt.create(ws(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Fn.create(e.compositeFilter.filters.map(n=>Hb(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return le()}}(e.compositeFilter.op))}(t):le()}function EU(t){return aU[t]}function SU(t){return lU[t]}function _U(t){return uU[t]}function vs(t){return{fieldPath:t.canonicalString()}}function ws(t){return Lt.fromServerFormat(t.fieldPath)}function Wb(t){return t instanceof nt?function(e){if(e.op==="=="){if(W1(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NAN"}};if(H1(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(W1(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NOT_NAN"}};if(H1(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(e.field),op:SU(e.op),value:e.value}}}(t):t instanceof Fn?function(e){const n=e.getFilters().map(r=>Wb(r));return n.length===1?n[0]:{compositeFilter:{op:_U(e.op),filters:n}}}(t):le()}function TU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.fe=e}}function CU(t){const e=vU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.rn=new kU}addToCollectionParentIndex(e,n){return this.rn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(di.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class kU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new go(0)}static Mn(){return new go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ca(r.mutation,i,An.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=Li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=la();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cr();const o=Ia(),a=Ia();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof us)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ca(c.mutation,u,c.mutation.getFieldMask(),ot.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new OU(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ia();let i=new qe((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||An.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||me()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=xb();c.forEach(h=>{if(!s.has(h)){const p=Lb(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Li());let a=-1,l=s;return o.next(u=>q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?q.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,me())).next(c=>({batchId:a,changes:kb(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=la();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=la();return this.indexManager.getCollectionParents(e,i).next(o=>q.forEach(o,a=>{const l=function(u,c){return new Ro(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Dt.newInvalidDocument(u)))});let o=la();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ca(u.mutation,l,An.empty(),ot.now()),kh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Jn(r.createTime)}),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:CU(r.bundledQuery),readTime:Jn(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.overlays=new qe(ie.comparator),this.ls=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Li(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Li(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Li(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return q.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tU(n,r));let s=this.ls.get(n);s===void 0&&(s=me(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.fs=new jt(ct.ds),this.ws=new jt(ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ie(new De([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ie(new De([])),r=new ct(n,e),i=new ct(n,e+1);let s=me();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ie.comparator(e.key,n.key)||_e(e.As,n.As)}static _s(e,n){return _e(e.As,n.As)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new jt(ct.ds)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(_e);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new jt(_e);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),q.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return q.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ct(n,0),i=this.Rs.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.Ds=e,this.docs=new qe(ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cr();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||S4(E4(c),r)<=0||(i.has(c.key)||kh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Cs(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LU(this)}getSize(e){return q.resolve(this.size)}}class LU extends xU{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.persistence=e,this.xs=new No(n=>fv(n),hv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wv,this.targetCount=0,this.Ms=go.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new go(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Fn(n),q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.$s={},this.overlays={},this.Os=new av(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $U(this),this.indexManager=new bU,this.remoteDocumentCache=function(r){return new DU(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new IU(n),this.qs=new RU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new AU(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new jU(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class jU extends T4{constructor(e){super(),this.currentSequenceNumber=e}}class Ev{constructor(e){this.persistence=e,this.Qs=new wv,this.js=null}static zs(e){return new Ev(e)}get Ws(){if(this.js)return this.js;throw le()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const i=ie.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return q.or([()=>q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Y1(n))return q.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ym(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Ym(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return Y1(n)||i.isEqual(ce.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(U1()<=Se.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qm(n)),this.Wi(e,o,n,w4(i,-1)))})}ji(e,n){let r=new jt(Cb(e));return n.forEach((i,s)=>{kh(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return U1()<=Se.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Qm(n)),this.Ui.getDocumentsMatchingQuery(e,n,di.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new qe(_e),this.Yi=new No(s=>fv(s),hv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function VU(t,e,n,r){return new FU(t,e,n,r)}async function Kb(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=me();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function BU(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let h=q.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(m=>{const w=l.docVersions.get(p);$e(w!==null),m.version.compareTo(w)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=me();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gb(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function zU(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Bt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(m,w,x){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,c)&&a.push(n.Bs.updateTargetData(s,p))});let l=Cr(),u=me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(HU(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ce.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function HU(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function WU(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qU(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function tg(t,e,n){const r=fe(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bl(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function oE(t,e,n){const r=fe(t);let i=ce.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=fe(a),f=c.Yi.get(u);return f!==void 0?q.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,u)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:me())).next(a=>(KU(r,U4(e),a),{documents:a,ir:s})))}function KU(t,e,n){let r=t.Xi.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class aE{constructor(){this.activeTargetIds=W4()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GU{constructor(){this.Hr=new aE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new aE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function Zd(){return ku===null?ku=268435456+Math.round(2147483648*Math.random()):ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class JU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Zd(),a=this.To(e,n);te("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(te("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw fo("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=QU[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Zd();return new Promise((o,a)=>{const l=new l4;l.setWithCredentials(!0),l.listenOnce(s4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xd.NO_ERROR:const c=l.getResponseJson();te(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Xd.TIMEOUT:te(Ot,`RPC '${e}' ${s} timed out`),a(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const f=l.getStatus();if(te(Ot,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(U.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{te(Ot,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Zd(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r4(),a=i4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new a4({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");te(Ot,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,p=!1;const m=new XU({ro:x=>{p?te(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(te(Ot,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),te(Ot,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},oo:()=>f.close()}),w=(x,g,d)=>{x.listen(g,y=>{try{d(y)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,Tu.EventType.OPEN,()=>{p||te(Ot,`RPC '${e}' stream ${i} transport opened.`)}),w(f,Tu.EventType.CLOSE,()=>{p||(p=!0,te(Ot,`RPC '${e}' stream ${i} transport closed`),m.wo())}),w(f,Tu.EventType.ERROR,x=>{p||(p=!0,fo(Ot,`RPC '${e}' stream ${i} transport errored:`,x),m.wo(new J(U.UNAVAILABLE,"The operation could not be completed")))}),w(f,Tu.EventType.MESSAGE,x=>{var g;if(!p){const d=x.data[0];$e(!!d);const y=d,k=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(k){te(Ot,`RPC '${e}' stream ${i} received error:`,k);const I=k.status;let T=function(C){const b=Ze[C];if(b!==void 0)return jb(b)}(I),S=k.message;T===void 0&&(T=U.INTERNAL,S="Unknown error status: "+I+" with message "+k.message),p=!0,m.wo(new J(T,S)),f.close()}else te(Ot,`RPC '${e}' stream ${i} received:`,d),m._o(d)}}),w(a,o4.STAT_EVENT,x=>{x.stat===M1.PROXY?te(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===M1.NOPROXY&&te(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){return new cU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Yb(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZU extends Qb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=dU(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Jn(s.readTime):ce.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=eg(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Km(a)?{documents:gU(i,a)}:{query:yU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Vb(i,s.resumeToken);const l=Xm(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){o.readTime=nf(i,s.snapshotVersion.toTimestamp());const l=Xm(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=wU(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=eg(this.serializer),n.removeTarget=e,this.Wo(n)}}class eF extends Qb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=mU(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.cu(r,n)}return $e(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=eg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pU(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(U.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class nF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Tr(n),this.mu=!1):te("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{cs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l.vu.add(4),await Wl(l),l.bu.set("Unknown"),l.vu.delete(4),await Nh(l)}(this))})}),this.bu=new nF(r,i)}}async function Nh(t){if(cs(t))for(const e of t.Ru)await e(!0)}async function Wl(t){for(const e of t.Ru)await e(!1)}function Xb(t,e){const n=fe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Iv(n)?Tv(n):Ao(n).Ko()&&_v(n,e))}function Jb(t,e){const n=fe(t),r=Ao(n);n.Au.delete(e),r.Ko()&&Zb(n,e),n.Au.size===0&&(r.Ko()?r.jo():cs(n)&&n.bu.set("Unknown"))}function _v(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).su(e)}function Zb(t,e){t.Vu.qt(e),Ao(t).iu(e)}function Tv(t){t.Vu=new oU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.bu.gu()}function Iv(t){return cs(t)&&!Ao(t).Uo()&&t.Au.size>0}function cs(t){return fe(t).vu.size===0}function ek(t){t.Vu=void 0}async function iF(t){t.Au.forEach((e,n)=>{_v(t,e)})}async function sF(t,e){ek(t),Iv(t)?(t.bu.Iu(e),Tv(t)):t.bu.set("Unknown")}async function oF(t,e,n){if(t.bu.set("Online"),e instanceof Fb&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof Xu?t.Vu.Ht(e):e instanceof Ub?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ce.min()))try{const r=await Gb(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Bt.EMPTY_BYTE_STRING,u.snapshotVersion)),Zb(i,a);const c=new qr(u.target,a,l,u.sequenceNumber);_v(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!Bl(e))throw e;t.vu.add(1),await Wl(t),t.bu.set("Offline"),n||(n=()=>Gb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Nh(t)})}function tk(t,e){return e().catch(n=>rf(t,n,e))}async function Ah(t){const e=fe(t),n=mi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;aF(e);)try{const i=await WU(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,lF(e,i)}catch(i){await rf(e,i)}nk(e)&&rk(e)}function aF(t){return cs(t)&&t.Eu.length<10}function lF(t,e){t.Eu.push(e);const n=mi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function nk(t){return cs(t)&&!mi(t).Uo()&&t.Eu.length>0}function rk(t){mi(t).start()}async function uF(t){mi(t).hu()}async function cF(t){const e=mi(t);for(const n of t.Eu)e.uu(n.mutations)}async function fF(t,e,n){const r=t.Eu.shift(),i=mv.from(r,e,n);await tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ah(t)}async function hF(t,e){e&&mi(t).ou&&await async function(n,r){if(i=r.code,rU(i)&&i!==U.ABORTED){const s=n.Eu.shift();mi(n).Qo(),await tk(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ah(n)}var i}(t,e),nk(t)&&rk(t)}async function uE(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=cs(n);n.vu.add(3),await Wl(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Nh(n)}async function dF(t,e){const n=fe(t);e?(n.vu.delete(2),await Nh(n)):e||(n.vu.add(2),await Wl(n),n.bu.set("Unknown"))}function Ao(t){return t.Su||(t.Su=function(e,n,r){const i=fe(e);return i.fu(),new ZU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:iF.bind(null,t),ao:sF.bind(null,t),nu:oF.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Iv(t)?Tv(t):t.bu.set("Unknown")):(await t.Su.stop(),ek(t))})),t.Su}function mi(t){return t.Du||(t.Du=function(e,n,r){const i=fe(e);return i.fu(),new eF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:uF.bind(null,t),ao:hF.bind(null,t),au:cF.bind(null,t),cu:fF.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ah(t)):(await t.Du.stop(),t.Eu.length>0&&(te("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Bl(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=la(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Ws(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Cu=new qe(ie.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):le():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class yo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yo(e,n,Ws.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.Nu=void 0,this.listeners=[]}}class mF{constructor(){this.queries=new No(e=>Ib(e),bh),this.onlineState="Unknown",this.ku=new Set}}async function gF(t,e){const n=fe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pF),i)try{s.Nu=await n.onListen(r)}catch(o){const a=bv(o,`Initialization of query '${Qm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&kv(n)}async function yF(t,e){const n=fe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vF(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&kv(n)}function wF(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function kv(t){t.ku.forEach(e=>{e.next()})}class EF{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.key=e}}class sk{constructor(e){this.key=e}}class SF{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=me(),this.mutatedKeys=me(),this.tc=Cb(e),this.ec=new Ws(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new cE,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=kh(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==w&&(r.track({type:3,doc:p}),x=!0):this.rc(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(f,h){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return p(f)-p(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new yo(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=me(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new sk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new ik(r))}),n}hc(e){this.Yu=e.ir,this.Zu=me();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return yo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class _F{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TF{constructor(e){this.key=e,this.fc=!1}}class IF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new No(a=>Ib(a),bh),this._c=new Map,this.mc=new Set,this.gc=new qe(ie.comparator),this.yc=new Map,this.Ic=new wv,this.Tc={},this.Ec=new Map,this.Ac=go.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function CF(t,e){const n=LF(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await qU(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await bF(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Xb(n.remoteStore,o)}return i}async function bF(t,e,n,r,i){t.Rc=(f,h,p)=>async function(m,w,x,g){let d=w.view.sc(x);d.zi&&(d=await oE(m.localStore,w.query,!1).then(({documents:I})=>w.view.sc(I,d)));const y=g&&g.targetChanges.get(w.targetId),k=w.view.applyChanges(d,m.isPrimaryClient,y);return hE(m,w.targetId,k.cc),k.snapshot}(t,f,h,p);const s=await oE(t.localStore,e,!0),o=new SF(e,s.ir),a=o.sc(s.documents),l=Hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);hE(t,n,u.cc);const c=new _F(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function kF(t,e){const n=fe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!bh(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Jb(n.remoteStore,r.targetId),ng(n,r.targetId)}).catch(Vl)):(ng(n,r.targetId),await tg(n.localStore,r.targetId,!0))}async function xF(t,e,n){const r=$F(t);try{const i=await function(s,o){const a=fe(s),l=ot.now(),u=o.reduce((h,p)=>h.add(p.key),me());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Cr(),m=me();return a.Zi.getEntries(h,u).next(w=>{p=w,p.forEach((x,g)=>{g.isValidDocument()||(m=m.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(w=>{c=w;const x=[];for(const g of o){const d=J4(g,c.get(g.key).overlayedDocument);d!=null&&x.push(new us(g.key,d,gb(d.value.mapValue),Xn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,x,o)}).next(w=>{f=w;const x=w.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(h,w.batchId,x)})}).then(()=>({batchId:f.batchId,changes:kb(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new qe(_e)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ql(r,i.changes),await Ah(r.remoteStore)}catch(i){const s=bv(i,"Failed to persist write");n.reject(s)}}async function ok(t,e){const n=fe(t);try{const r=await zU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?$e(o.fc):i.removedDocuments.size>0&&($e(o.fc),o.fc=!1))}),await ql(n,r,e)}catch(r){await Vl(r)}}function fE(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=fe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Mu(o)&&(l=!0)}),l&&kv(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OF(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new qe(ie.comparator);o=o.insert(s,Dt.newNoDocument(s,ce.min()));const a=me().add(s),l=new Ph(ce.min(),new Map,new qe(_e),o,a);await ok(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),xv(r)}else await tg(r.localStore,e,!1).then(()=>ng(r,e,n)).catch(Vl)}async function PF(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await BU(n.localStore,e);lk(n,r,null),ak(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ql(n,i)}catch(i){await Vl(i)}}async function RF(t,e,n){const r=fe(t);try{const i=await function(s,o){const a=fe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>($e(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);lk(r,e,n),ak(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ql(r,i)}catch(i){await Vl(i)}}function ak(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function lk(t,e,n){const r=fe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||uk(t,r)})}function uk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Jb(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),xv(t))}function hE(t,e,n){for(const r of n)r instanceof ik?(t.Ic.addReference(r.key,e),NF(t,r)):r instanceof sk?(te("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||uk(t,r.key)):le()}function NF(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(te("SyncEngine","New document in limbo: "+n),t.mc.add(r),xv(t))}function xv(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ie(De.fromString(e)),r=t.Ac.next();t.yc.set(r,new TF(n)),t.gc=t.gc.insert(n,r),Xb(t.remoteStore,new qr(Ir(dv(n.path)),r,"TargetPurposeLimboResolution",av.ct))}}async function ql(t,e,n){const r=fe(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Sv.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=fe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>q.forEach(l,f=>q.forEach(f.Fi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>q.forEach(f.Bi,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Bl(c))throw c;te("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Ji.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,m)}}}(r.localStore,s))}async function AF(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await Kb(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new J(U.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ql(n,r.er)}}function DF(t,e){const n=fe(t),r=n.yc.get(e);if(r&&r.fc)return me().add(r.key);{let i=me();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function LF(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ok.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OF.bind(null,e),e.dc.nu=vF.bind(null,e.eventManager),e.dc.Pc=wF.bind(null,e.eventManager),e}function $F(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RF.bind(null,e),e}class dE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return VU(this.persistence,new UU,e.initialUser,this.serializer)}createPersistence(e){return new MU(Ev.zs,this.serializer)}createSharedClientState(e){return new GU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AF.bind(null,this.syncEngine),await dF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mF}createDatastore(e){const n=Rh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new JU(i));var i;return function(s,o,a,l){return new tF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>fE(this.syncEngine,a,0),o=lE.D()?new lE:new YU,new rF(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new IF(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);te("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Wl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=db.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tp(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VF(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>uE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>uE(e.remoteStore,s)),t._onlineComponents=e}function FF(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function VF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!FF(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await tp(t,new dE)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await tp(t,new dE);return t._offlineComponents}async function ck(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await pE(t,new MF))),t._onlineComponents}function BF(t){return ck(t).then(e=>e.syncEngine)}async function mE(t){const e=await ck(t),n=e.eventManager;return n.onListen=CF.bind(null,e.syncEngine),n.onUnlisten=kF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zF(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yE(t){if(!ie.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vE(t){if(ie.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Lh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new c4;switch(n.type){case"firstParty":return new p4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=gE.get(e);n&&(te("ComponentProvider","Removing Datastore"),gE.delete(e),n.terminate())}(this),Promise.resolve()}}function HF(t,e,n,r={}){var i;const s=(t=Vi(t,Lh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&fo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Nt.MOCK_USER;else{o=V$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(l)}t._authCredentials=new f4(new hb(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class fs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class li extends fs{constructor(e,n,r){super(e,n,dv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ie(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function dl(t,e,...n){if(t=Vt(t),hk("collection","path",e),t instanceof Lh){const r=De.fromString(e,...n);return vE(r),new li(t,null,r)}{if(!(t instanceof sn||t instanceof li))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return vE(r),new li(t.firestore,null,r)}}function dk(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=db.A()),hk("doc","path",e),t instanceof Lh){const r=De.fromString(e,...n);return yE(r),new sn(t,null,new ie(r))}{if(!(t instanceof sn||t instanceof li))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return yE(r),new sn(t.firestore,t instanceof li?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Yb(this,"async_queue_retry"),this.Xc=()=>{const n=ep();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Fi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Bl(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Cv.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&le()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function EE(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pl extends Lh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mk(this),this._firestoreClient.terminate()}}function qF(t,e){const n=typeof t=="object"?t:sC(),r=typeof t=="string"?t:e||"(default)",i=My(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=U$("firestore");s&&HF(i,...s)}return i}function pk(t){return t._firestoreClient||mk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mk(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new b4(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fk(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(Bt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=/^__.*__$/;class GF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}function yk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Rv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return sf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(yk(this.ca)&&KF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class YF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rh(e)}ya(e,n,r,i=!1){return new Rv({ca:e,methodName:n,ga:r,path:Lt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(t){const e=t._freezeSettings(),n=Rh(t._databaseId);return new YF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vk(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Sk("Data must be an object, but it was:",o,r);const a=wk(r,o);let l,u;if(s.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=XF(e,f,n);if(!o.contains(h))throw new J(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ZF(c,h)||c.push(h)}l=new An(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new GF(new En(a),l,u)}function QF(t,e,n,r=!1){return Av(n,t.ya(r?4:3,e))}function Av(t,e){if(Ek(t=Vt(t)))return Sk("Unsupported field value:",e,t),wk(t,e);if(t instanceof gk)return function(n,r){if(!yk(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Av(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return q4(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ot.fromDate(n);return{timestampValue:nf(r.serializer,i)}}if(n instanceof ot){const i=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nf(r.serializer,i)}}if(n instanceof Pv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vo)return{bytesValue:Vb(r.serializer,n._byteString)};if(n instanceof sn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Dh(n)}`)}(t,e)}function wk(t,e){const n={};return pb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,(r,i)=>{const s=Av(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ek(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Pv||t instanceof vo||t instanceof sn||t instanceof gk)}function Sk(t,e,n){if(!Ek(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Dh(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function XF(t,e,n){if((e=Vt(e))instanceof Ov)return e._internalPath;if(typeof e=="string")return _k(t,e);throw sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const JF=new RegExp("[~\\*/\\[\\]]");function _k(t,e,n){if(e.search(JF)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ov(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(U.INVALID_ARGUMENT,a+t+l)}function ZF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($h("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e3 extends Tk{data(){return super.data()}}function $h(t,e){return typeof e=="string"?_k(t,e):e instanceof Ov?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}class Ik extends Dv{}function Lv(t,e,...n){let r=[];e instanceof Dv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof $v).length,o=i.filter(a=>a instanceof Mh).length;if(s>1||s>0&&o>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Mh extends Ik{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mh(e,n,r)}_apply(e){const n=this._parse(e);return Ck(e._query,n),new fs(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Nv(e.firestore);return function(i,s,o,a,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){_E(c,u);const h=[];for(const p of c)h.push(SE(a,i,p));f={arrayValue:{values:h}}}else f=SE(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||_E(c,u),f=QF(o,s,c,u==="in"||u==="not-in");return nt.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ml(t,e,n){const r=e,i=$h("where",t);return Mh._create(i,r,n)}class $v extends Dv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $v(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Ck(s,a),s=Gm(s,a)}(e._query,n),new fs(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mv extends Ik{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mv(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new zs(i,s);return function(a,l){if(pv(a)===null){const u=Ch(a);u!==null&&bk(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ro(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function n3(t,e="asc"){const n=e,r=$h("orderBy",t);return Mv._create(r,n)}function SE(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tb(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!ie.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z1(t,new ie(r))}if(n instanceof sn)return z1(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function _E(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ck(t,e){if(e.isInequality()){const r=Ch(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new J(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=pv(t);s!==null&&bk(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function bk(t,e,n){if(!n.isEqual(e))throw new J(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class r3{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Pv(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=pi(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);$e(qb(r));const i=new ul(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xk extends Tk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($h("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ju extends xk{data(e={}){return super.data(e)}}class i3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ca(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ju(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Ju(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ca(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Ju(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ca(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:s3(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class Ok extends r3{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function o3(t,e,n){t=Vi(t,sn);const r=Vi(t.firestore,pl),i=kk(t.converter,e,n);return Rk(r,[vk(Nv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function Pk(t,e){const n=Vi(t.firestore,pl),r=dk(t),i=kk(t.converter,e);return Rk(n,[vk(Nv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function jv(t,...e){var n,r,i;t=Vt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||EE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(EE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof sn)u=Vi(t.firestore,pl),c=dv(t._key.path),l={next:f=>{e[o]&&e[o](a3(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Vi(t,fs);u=Vi(f.firestore,pl),c=f._query;const h=new Ok(u);l={next:p=>{e[o]&&e[o](new i3(u,h,f,p))},error:e[o+1],complete:e[o+2]},t3(t._query)}return function(f,h,p,m){const w=new jF(m),x=new EF(h,w,p);return f.asyncQueue.enqueueAndForget(async()=>gF(await mE(f),x)),()=>{w.Dc(),f.asyncQueue.enqueueAndForget(async()=>yF(await mE(f),x))}}(pk(u),c,a,l)}function Rk(t,e){return function(n,r){const i=new Fi;return n.asyncQueue.enqueueAndForget(async()=>xF(await BF(n),r,i)),i.promise}(pk(t),e)}function a3(t,e,n){const r=n.docs.get(e._key),i=new Ok(t);return new xk(t,i,e._key,r,new ca(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Oo=n})(bo),uo(new Ji("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pl(new h4(n.getProvider("auth-internal")),new g4(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ai(j1,"3.12.0",t),ai(j1,"3.12.0","esm2017")})();var l3="firebase",u3="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(l3,u3,"app");function Uv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c3=Nk,Ak=new Pl("auth","Firebase",Nk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Ly("@firebase/auth");function f3(t,...e){of.logLevel<=Se.WARN&&of.warn(`Auth (${bo}): ${t}`,...e)}function Zu(t,...e){of.logLevel<=Se.ERROR&&of.error(`Auth (${bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw Fv(t,...e)}function Zn(t,...e){return Fv(t,...e)}function Dk(t,e,n){const r=Object.assign(Object.assign({},c3()),{[e]:n});return new Pl("auth","Firebase",r).create(e,{appName:t.name})}function h3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(t,"argument-error"),Dk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ak.create(t,...e)}function ae(t,e,...n){if(!t)throw Fv(e,...n)}function hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function br(t,e){t||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d3(){return TE()==="http:"||TE()==="https:"}function TE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d3()||z$()||"connection"in navigator)?navigator.onLine:!0}function m3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=B$()||H$()}get(){return p3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Kl(3e4,6e4);function Do(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lo(t,e,n,r,i={}){return $k(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Rl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Lk.fetch()(Mk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $k(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g3),e);try{const i=new v3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dk(t,c,u);bn(t,c)}}catch(i){if(i instanceof Or)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function Gl(t,e,n,r,i={}){const s=await Lo(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Mk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vv(t.config,i):`${t.config.apiScheme}://${i}`}class v3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),y3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e){return Lo(t,"POST","/v1/accounts:delete",e)}async function E3(t,e){return Lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S3(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=Bv(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ba(np(i.auth_time)),issuedAtTime:ba(np(i.iat)),expirationTime:ba(np(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function np(t){return Number(t)*1e3}function Bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const i=JI(n);return i?JSON.parse(i):(Zu("Failed to decode base64 JWT payload"),null)}catch(i){return Zu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _3(t){const e=Bv(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&T3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gl(t,E3(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?k3(s.providerUserInfo):[],a=b3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function C3(t){const e=Vt(t);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k3(t){return t.map(e=>{var{providerId:n}=e,r=Uv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){const n=await $k(t,{},async()=>{const r=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Mk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await x3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yl;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Uv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S3(this,e)}reload(){return C3(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gl(this,w3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,d=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:k,isAnonymous:I,providerData:T,stsTokenManager:S}=n;ae(y&&S,e,"internal-error");const C=yl.fromJSON(this.name,S);ae(typeof y=="string",e,"internal-error"),Dr(f,e.name),Dr(h,e.name),ae(typeof k=="boolean",e,"internal-error"),ae(typeof I=="boolean",e,"internal-error"),Dr(p,e.name),Dr(m,e.name),Dr(w,e.name),Dr(x,e.name),Dr(g,e.name),Dr(d,e.name);const b=new Bi({uid:y,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:w,stsTokenManager:C,createdAt:g,lastLoginAt:d});return T&&Array.isArray(T)&&(b.providerData=T.map(E=>Object.assign({},E))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new yl;i.updateFromServerResponse(n);const s=new Bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await af(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;function dr(t){br(t instanceof Function,"Expected a class definition");let e=IE.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Uk.type="NONE";const CE=Uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(dr(CE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||dr(CE);const o=ec(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Bi._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new qs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hk(e))return"Blackberry";if(Wk(e))return"Webos";if(zv(e))return"Safari";if((e.includes("chrome/")||Vk(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fk(t=Ft()){return/firefox\//i.test(t)}function zv(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vk(t=Ft()){return/crios\//i.test(t)}function Bk(t=Ft()){return/iemobile/i.test(t)}function zk(t=Ft()){return/android/i.test(t)}function Hk(t=Ft()){return/blackberry/i.test(t)}function Wk(t=Ft()){return/webos/i.test(t)}function jh(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O3(t=Ft()){var e;return jh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P3(){return W$()&&document.documentMode===10}function qk(t=Ft()){return jh(t)||zk(t)||Wk(t)||Hk(t)||/windows phone/i.test(t)||Bk(t)}function R3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e=[]){let n;switch(t){case"Browser":n=bE(Ft());break;case"Worker":n=`${bE(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}async function Gk(t,e){return Lo(t,"GET","/v2/recaptchaConfig",Do(t,e))}function kE(t){return t!==void 0&&t.enterprise!==void 0}class Yk{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Qk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",N3().appendChild(r)})}function A3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const D3="https://www.google.com/recaptcha/enterprise.js?render=",L3="recaptcha-enterprise",$3="NO_RECAPTCHA";class Xk{constructor(e){this.type=L3,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Gk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Yk(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o($3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Qk(D3+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function lf(t,e,n,r=!1){const i=new Xk(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new M3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Vt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}async initializeRecaptchaConfig(){const e=await Gk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Yk(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Xk(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&f3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Vt(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=J$(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t,e){const n=My(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fc(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function F3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V3(t,e,n){const r=hs(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Jk(e),{host:o,port:a}=B3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||z3()}function Jk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B3(t){const e=Jk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OE(o)}}}function OE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function H3(t,e){return Lo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t,e){return Gl(t,"POST","/v1/accounts:signInWithPassword",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",Do(t,e))}async function q3(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Hv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await lf(e,r,"signInWithPassword");return rp(e,i)}else return rp(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await lf(e,r,"signInWithPassword");return rp(e,s)}else return Promise.reject(i)});case"emailLink":return W3(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return H3(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return q3(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e){return Gl(t,"POST","/v1/accounts:signInWithIdp",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="http://localhost";class rs extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Uv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ks(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ks(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ks(e,n)}buildRequest(){const e={requestUri:K3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y3(t){const e=ia(sa(t)).link,n=e?ia(sa(e)).deep_link_id:null,r=ia(sa(t)).deep_link_id;return(r?ia(sa(r)).link:null)||r||n||e||t}class Wv{constructor(e){var n,r,i,s,o,a;const l=ia(sa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=G3((i=l.mode)!==null&&i!==void 0?i:null);ae(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Y3(e);try{return new Wv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.providerId=$o.PROVIDER_ID}static credential(e,n){return vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wv.parseLink(n);return ae(r,"argument-error"),vl._fromEmailAndCode(e,r.code,r.tenantId)}}$o.PROVIDER_ID="password";$o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends qv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Yl{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Yl{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Yl{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t,e){return Gl(t,"POST","/v1/accounts:signUp",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bi._fromIdTokenResponse(e,r,i),o=PE(r);return new is({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PE(r);return new is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends Or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new uf(e,n,r,i)}}function Zk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(t,s,e,r):s})}async function Q3(t,e,n=!1){const r=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await gl(t,Zk(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=Bv(s.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(t,e,n=!1){const r="signIn",i=await Zk(t,r,e),s=await is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function J3(t,e){return ex(hs(t),e)}async function Z3(t,e,n){var r;const i=hs(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await lf(i,s,"signUpPassword");o=ip(i,u)}else o=ip(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await lf(i,s,"signUpPassword");return ip(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function e9(t,e,n){return J3(Vt(t),$o.credential(e,n))}function t9(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function n9(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function tx(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function r9(t){return Vt(t).signOut()}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(){const t=Ft();return zv(t)||jh(t)}const s9=1e3,o9=10;class rx extends nx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=i9()&&R3(),this.fallbackToPolling=qk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);P3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rx.type="LOCAL";const a9=rx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends nx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ix.type="SESSION";const sx=ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await l9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Kv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function c9(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function f9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d9(){return ox()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebaseLocalStorageDb",p9=1,ff="firebaseLocalStorage",lx="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function m9(){const t=indexedDB.deleteDatabase(ax);return new Ql(t).toPromise()}function ig(){const t=indexedDB.open(ax,p9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ff,{keyPath:lx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),await m9(),e(await ig()))})})}async function RE(t,e,n){const r=Fh(t,!0).put({[lx]:e,value:n});return new Ql(r).toPromise()}async function g9(t,e){const n=Fh(t,!1).get(e),r=await new Ql(n).toPromise();return r===void 0?null:r.value}function NE(t,e){const n=Fh(t,!0).delete(e);return new Ql(n).toPromise()}const y9=800,v9=3;class ux{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>v9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ox()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(d9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f9(),!this.activeServiceWorker)return;this.sender=new u9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await RE(e,cf,"1"),await NE(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fh(i,!1).getAll();return new Ql(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ux.type="LOCAL";const w9=ux;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t,e){return e?dr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends Hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E9(t){return ex(t.auth,new Gv(t),t.bypassAuthState)}function S9(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),X3(n,new Gv(t),t.bypassAuthState)}async function _9(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),Q3(n,new Gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E9;case"linkViaPopup":case"linkViaRedirect":return _9;case"reauthViaPopup":case"reauthViaRedirect":return S9;default:bn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new Kl(2e3,1e4);async function hx(t,e,n){const r=hs(t);h3(t,e,qv);const i=cx(r,n);return new $i(r,"signInViaPopup",e,i).executeNotNull()}class $i extends fx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$i.currentPopupAction&&$i.currentPopupAction.cancel(),$i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T9.get())};e()}}$i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="pendingRedirect",tc=new Map;class C9 extends fx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const r=await b9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b9(t,e){const n=O9(e),r=x9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function k9(t,e){tc.set(t._key(),e)}function x9(t){return dr(t._redirectPersistence)}function O9(t){return ec(I9,t.config.apiKey,t.name)}async function P9(t,e,n=!1){const r=hs(t),i=cx(r,e),o=await new C9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=10*60*1e3;class N9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R9&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e={}){return Lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$9=/^https?/;async function M9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D9(t);for(const n of e)try{if(j9(n))return}catch{}bn(t,"unauthorized-domain")}function j9(t){const e=rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$9.test(n))return!1;if(L9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new Kl(3e4,6e4);function DE(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F9(t){return new Promise((e,n)=>{var r,i,s;function o(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(Zn(t,"network-request-failed"))},timeout:U9.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{const a=A3("iframefcb");return er()[a]=()=>{gapi.load?o():n(Zn(t,"network-request-failed"))},Qk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nc=null,e})}let nc=null;function V9(t){return nc=nc||F9(t),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new Kl(5e3,15e3),z9="__/auth/iframe",H9="emulator/auth/iframe",W9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K9(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,H9):`https://${t.config.authDomain}/${z9}`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=q9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rl(r).slice(1)}`}async function G9(t){const e=await V9(t),n=er().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:K9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),a=er().setTimeout(()=>{s(o)},B9.get());function l(){er().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q9=500,X9=600,J9="_blank",Z9="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eV(t,e,n,r=Q9,i=X9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Y9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(a=Vk(u)?J9:n),Fk(u)&&(e=e||Z9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(O3(u)&&a!=="_self")return tV(e||"",a),new LE(null);const f=window.open(e||"",a,c);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new LE(f)}function tV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="__/auth/handler",rV="emulator/auth/handler",iV=encodeURIComponent("fac");async function $E(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof qv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",X$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof Yl){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${iV}=${encodeURIComponent(l)}`:"";return`${sV(t)}?${Rl(a).slice(1)}${u}`}function sV({config:t}){return t.emulator?Vv(t,rV):`https://${t.authDomain}/${nV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class oV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sx,this._completeRedirectFn=P9,this._overrideRedirectResult=k9}async _openPopup(e,n,r,i){var s;br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $E(e,n,r,rg(),i);return eV(e,o,Kv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $E(e,n,r,rg(),i);return c9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G9(e),r=new N9(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sp];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qk()||zv()||jh()}}const aV=oV;var ME="@firebase/auth",jE="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function cV(t){uo(new Ji("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kk(t)},u=new j3(r,i,s,l);return F3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new Ji("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new lV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(ME,jE,uV(t)),ai(ME,jE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=5*60,hV=tC("authIdTokenMaxAge")||fV;let UE=null;const dV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hV)return;const i=n==null?void 0:n.token;UE!==i&&(UE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pV(t=sC()){const e=My(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U3(t,{popupRedirectResolver:aV,persistence:[w9,a9,sx]}),r=tC("authTokenSyncURL");if(r){const s=dV(r);n9(n,s,()=>s(n.currentUser)),t9(n,o=>s(o))}const i=ZI("auth");return i&&V3(n,`http://${i}`),n}cV("Browser");const mV={apiKey:"AIzaSyD5lAoliBK5RRAsQlTM9zXL10ZI2_LF06Y",authDomain:"imovie-67ce9.firebaseapp.com",projectId:"imovie-67ce9",storageBucket:"imovie-67ce9.appspot.com",messagingSenderId:"37756349792",appId:"1:37756349792:web:45654f6bae866680fdc205"},gV=iC(mV),Dn=pV(),px=new ar,Gs=qF(gV),yV=({video:t,crew:e})=>{var T,S,C;const[n,r]=A.useState(!1),[i,s]=A.useState(null),[o,a]=A.useState(null),[l,u]=A.useState(null),{mediaType:c,id:f}=sy(),{data:h,loading:p}=Sr(`/${c}/${f}`),{url:m}=jn(b=>b.home),{user:w,isAuth:x}=jn(b=>b.auth),g=(T=h==null?void 0:h.genres)==null?void 0:T.map(b=>b.id),d=e==null?void 0:e.filter(b=>b.job==="Director"),y=e==null?void 0:e.filter(b=>b.job==="Screenplay"||b.job==="Story"||b.job==="Writer");A.useEffect(()=>{x&&(async()=>{const E=Lv(dl(Gs,"favourites"),ml("movieId","==",f),ml("authorEmail","==",w.email));jv(E,W=>{var z;const Z=W.docs.map(N=>({...N.data(),id:N.id}));Z[0]&&(u(Z[0].id),a((z=Z[0])==null?void 0:z.isFavourite))})})()},[x,f]);const k=async()=>{a(!o);try{if(l)await o3(dk(Gs,"favourites",l),{movieId:f,authorEmail:w.email,isFavourite:!o});else{const b=await Pk(dl(Gs,"favourites"),{movieId:f,authorEmail:w.email,isFavourite:!o})}}catch(b){console.error("Error adding document: ",b)}},I=b=>{const E=Math.floor(b/60),W=b%60;return`${E}h${W>0?` ${W}m`:""}`};return v.jsx("div",{className:"detailsBanner",children:p?v.jsx("div",{className:"detailsBannerSkeleton",children:v.jsxs(Yt,{children:[v.jsx("div",{className:"left skeleton"}),v.jsxs("div",{className:"right",children:[v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row skeleton"})]})]})}):v.jsx(v.Fragment,{children:!!h&&v.jsxs(Ye.Fragment,{children:[v.jsx("div",{className:"opacity-layer"}),v.jsxs(Yt,{children:[v.jsxs("div",{className:"content",children:[v.jsx("div",{className:"left",children:h.poster_path?v.jsx(Qi,{className:"posterImg",src:m.backdrop+h.poster_path}):v.jsx(Qi,{className:"posterImg",src:ih})}),v.jsxs("div",{className:"right",children:[v.jsx("div",{className:"title",children:`${h.name||h.title} (${ao(h==null?void 0:h.release_date).format("YYYY")})`}),v.jsx(oh,{data:g}),v.jsxs("div",{className:"row",children:[v.jsx(sh,{rating:h.vote_average.toFixed(1)}),v.jsxs("div",{className:"playbtn",onClick:()=>{r(!0),s(t.key)},children:[v.jsx(nL,{}),v.jsx("span",{className:"text",children:"Трейлер"})]}),x&&v.jsx("button",{onClick:k,children:o?v.jsx(Za,{width:32,icon:"mdi:heart",className:"text-pink-600"}):v.jsx(Za,{width:32,icon:"mdi:heart-outline"})})]}),v.jsxs("div",{className:"overview",children:[v.jsx("div",{className:"heading",children:"Обзор"}),v.jsx("div",{className:"description",children:h.overview})]}),v.jsxs("div",{className:"info",children:[h.status&&v.jsxs("div",{className:"infoItem",children:[v.jsx("span",{className:"text bold",children:"Статус: "}),v.jsx("span",{className:"text",children:h.status})]}),h.release_date&&v.jsxs("div",{className:"infoItem",children:[v.jsx("span",{className:"text bold",children:"Дата выпуска: "}),v.jsx("span",{className:"text",children:ao(h.release_date).format("MMM D, YYYY")})]}),h.runtime&&v.jsxs("div",{className:"infoItem",children:[v.jsx("span",{className:"text bold",children:"Длительность: "}),v.jsx("span",{className:"text",children:I(h.runtime)})]})]}),(d==null?void 0:d.length)>0&&v.jsxs("div",{className:"info",children:[v.jsx("span",{className:"text bold",children:"Режиссер: "}),v.jsx("span",{className:"text",children:d==null?void 0:d.map((b,E)=>v.jsxs("span",{children:[b.name,d.length-1!==E&&", "]},E))})]}),(y==null?void 0:y.length)>0&&v.jsxs("div",{className:"info",children:[v.jsx("span",{className:"text bold",children:"Автор: "}),v.jsx("span",{className:"text",children:y==null?void 0:y.map((b,E)=>v.jsxs("span",{children:[b.name,y.length-1!==E&&", "]},E))})]}),((S=h==null?void 0:h.created_by)==null?void 0:S.length)>0&&v.jsxs("div",{className:"info",children:[v.jsx("span",{className:"text bold",children:"Создатель: "}),v.jsx("span",{className:"text",children:(C=h==null?void 0:h.created_by)==null?void 0:C.map((b,E)=>v.jsxs("span",{children:[b.name,(h==null?void 0:h.created_by.length)-1!==E&&", "]},E))})]})]})]}),v.jsx(R$,{show:n,setShow:r,videoId:i,setVideoId:s})]})]})})})};const vV="/assets/avatar-bd5ec287.png",wV=({data:t,loading:e})=>{const{url:n}=jn(i=>i.home),r=()=>v.jsxs("div",{className:"skItem",children:[v.jsx("div",{className:"circle skeleton"}),v.jsx("div",{className:"row skeleton"}),v.jsx("div",{className:"row2 skeleton"})]});return v.jsx("div",{className:"castSection",children:v.jsxs(Yt,{children:[v.jsx("div",{className:"sectionHeading",children:"Актерский состав"}),e?v.jsxs("div",{className:"castSkeleton",children:[r(),r(),r(),r(),r(),r()]}):v.jsx("div",{className:"listItems",children:t==null?void 0:t.map(i=>{let s=i.profile_path?n.profile+i.profile_path:vV;return v.jsxs("div",{className:"listItem",children:[v.jsx("div",{className:"profileImg",children:v.jsx(Qi,{src:s})}),v.jsx("div",{className:"name",children:i.name}),v.jsx("div",{className:"character",children:i.character})]},i.id)})})]})})},EV=({mediaType:t,id:e})=>{const{data:n,loading:r,error:i}=Sr(`/${t}/${e}/similar`),s="Похожие фильмы";return v.jsx(Ol,{title:s,data:n==null?void 0:n.results,loading:r,endpoint:t})},SV=({mediaType:t,id:e})=>{const{data:n,loading:r,error:i}=Sr(`/${t}/${e}/recommendations`);return v.jsx(Ol,{title:"Рекомендации",data:n==null?void 0:n.results,loading:r,endpoint:t})},_V=({movieId:t})=>{const[e,n]=A.useState(""),[r,i]=A.useState([]),[s,o]=A.useState(!0),[a,l]=A.useState(!1);A.useEffect(()=>{const c=async()=>{const f=Lv(dl(Gs,"reviews"),ml("movieId","==",t),n3("createdDate","desc"));jv(f,h=>{o(!1),i(h.docs.map(p=>({...p.data(),id:p.id})))})};tx(Dn,f=>{l(!!f)}),c()},[t]);const u=async()=>{var c;try{const f=await Pk(dl(Gs,"reviews"),{movieId:t,createdDate:Date.now(),text:e,authorEmail:(c=Dn==null?void 0:Dn.currentUser)==null?void 0:c.email})}catch(f){console.error("Error adding document: ",f)}finally{n("")}};return v.jsx("div",{children:v.jsxs(Yt,{children:[v.jsx("h4",{className:"mb-6 text-2xl text-white",children:"Отзывы"}),s?v.jsx("p",{className:"mb-4 text-white text-2xl",children:"Отзывы грузятся..."}):v.jsx("ul",{children:r.map(c=>v.jsxs("li",{className:"mb-4 p-4 shadow bg-slate-700 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx("span",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-400 uppercase text-xl font-semibold text-white",children:c.authorEmail[0]}),v.jsx("p",{className:" text-2xl text-white",children:c.authorEmail})]}),v.jsx("p",{className:" mb-4 whitespace-pre-line text-white text-sm leadi",children:c.text}),v.jsx("span",{className:"text-base text-white",children:ao(c.createdDate).format("MMM D, YYYY HH:mm")})]},c.id))}),a&&v.jsxs(v.Fragment,{children:[v.jsx("textarea",{value:e,onChange:c=>n(c.target.value),className:"w-full p-4 mb-6 outline-none rounded-md text-base",name:"Review",placeholder:"Оставьте отзыв",rows:4}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:" p-4 text-white text-lg bg-blue-500 hover:bg-blue-700 rounded-lg cursor-pointer duration-75",onClick:u,children:"Оставить отзыв"})})]})]})})},TV=()=>{var o;const{mediaType:t,id:e}=sy(),{data:n,loading:r}=Sr(`/${t}/${e}/videos`),{data:i,loading:s}=Sr(`/${t}/${e}/credits`);return v.jsxs("div",{children:[v.jsx(yV,{video:(o=n==null?void 0:n.results)==null?void 0:o[0],crew:i==null?void 0:i.crew}),v.jsx(wV,{data:i==null?void 0:i.cast,loading:s}),v.jsx(_V,{movieId:e}),v.jsx(EV,{mediaType:t,id:e}),v.jsx(SV,{mediaType:t,id:e})]})};const IV=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),i=as();gy(),A.useEffect(()=>{console.log({user:Dn.currentUser})},[]);const s=async u=>{u.preventDefault();try{await e9(Dn,t,n),e(""),r(""),a()}catch(c){console.error(c)}},o=async()=>{await hx(Dn,px),a()},a=()=>{i("/")},l=async()=>{await r9(Dn)};return v.jsx("div",{children:v.jsx(Yt,{children:v.jsxs("div",{className:"p-64 pt-32 flex flex-col justify-center items-center",children:[v.jsx("h2",{className:"mb-12 text-5xl text-white font-semibold",children:"Войти"}),v.jsxs("form",{className:"w-96 mb-6",children:[v.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[v.jsx("span",{className:"text-white",children:"Адрес электронной почты"}),v.jsx("input",{className:" p-4 rounded-md bg-inherit outline-none border-neutral-500 border text-white",type:"email",placeholder:"email@index.html",value:t,onChange:u=>e(u.target.value)})]}),v.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[v.jsx("span",{className:"text-white",children:"Пароль"}),v.jsx("input",{className:"p-4 rounded-md bg-inherit outline-none border-neutral-500 border text-white",type:"password",placeholder:"Password",value:n,onChange:u=>r(u.target.value)})]}),v.jsx("div",{children:v.jsx("button",{className:"w-full p-4 flex justify-center items-center bg-green-600 rounded-md text-white cursor-pointer",onClick:s,type:"submit",children:"Войти"})})]}),v.jsx("span",{className:"text-white mb-6",children:"Продолжить через Google"}),v.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-1 w-96 p-2 mb-6 bg-white rounded-md",children:[v.jsx(Za,{width:24,icon:"flat-color-icons:google"}),v.jsxs("span",{className:" text-base font-medium text-blue-800",children:["Продолжить через Google"," "]})]}),v.jsxs("div",{className:"w-96 flex gap-1",children:[v.jsx("p",{className:"text-white",children:"Впервые в iMovie?"})," ",v.jsx(Oc,{to:"/sign-up",className:"text-white hover:text-purple-500",children:"Зарегистрироваться"})]}),v.jsx("button",{className:" bg-slate-700 mt-3 w-96 p-4",onClick:l,children:"Выйти"})]})})})},CV=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(""),o=async()=>{try{await Z3(Dn,t,n),e(""),r(""),s("")}catch(l){console.error(l)}},a=async()=>{await hx(Dn,px)};return v.jsxs("div",{className:"pt-32 flex flex-col justify-center items-center",children:[v.jsx("h2",{className:"mb-8 text-5xl text-white font-semibold",children:"Регистрация"}),v.jsxs("form",{className:"w-96 mb-6",children:[v.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[v.jsx("span",{className:"text-white",children:"Адрес электронной почты"}),v.jsx("input",{className:" p-4 rounded-md bg-inherit outline-none border-neutral-500 border text-white",type:"email",placeholder:"email@index.html",value:t,onChange:l=>e(l.target.value)})]}),v.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[v.jsx("span",{className:"text-white",children:"Пароль"}),v.jsx("input",{className:" p-4 rounded-md bg-inherit outline-none border-neutral-500 border text-white",type:"password",placeholder:"Password",value:n,onChange:l=>r(l.target.value)})]}),v.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[v.jsx("span",{className:"text-white",children:"Повторите пароль"}),v.jsx("input",{className:" p-4 rounded-md bg-inherit outline-none border-neutral-500 border text-white",type:"password",placeholder:"Password",value:i,onChange:l=>s(l.target.value)})]}),v.jsx("div",{children:v.jsx("button",{className:"w-full p-4 flex justify-center items-center bg-green-600 rounded-md text-white cursor-pointer",onClick:o,children:"Зарегистрироваться"})})]}),v.jsxs("button",{className:"w-96 bg-blue-500 p-3 mb-4 cursor-pointer flex items-center justify-center text-white rounded-md",onClick:a,children:[v.jsx(Za,{width:24,icon:"flat-color-icons:google"}),"Зарегистрироваться через Google"]}),v.jsxs("div",{className:"mb-64 w-196 flex gap-1",children:[v.jsx("p",{className:"text-white",children:"У вас есть аккаунт?"})," ",v.jsx(Oc,{to:"/sign-in",className:"text-white hover:text-purple-500",children:"Войти"})]})]})};const bV=({data:t,endpoint:e})=>{const n=as(),{url:r}=jn(i=>i.home);return v.jsx("div",{className:"carouselItems-favourites",children:t==null?void 0:t.map(i=>{const s=i.poster_path?r.poster+i.poster_path:ih;return v.jsxs("div",{className:"carouselItem",onClick:()=>n(`/${i.media_type||e}/${i.id}`),children:[v.jsxs("div",{className:"posterBlock",children:[v.jsx(Qi,{src:s}),v.jsx(sh,{rating:i.vote_average.toFixed(1)}),v.jsx(oh,{data:i.genres.map(o=>o.id).slice(0,2)})]}),v.jsxs("div",{className:"textBlock",children:[v.jsx("span",{className:"title",children:i.title||i.name}),v.jsx("span",{className:"date",children:ao(i.release_date||i.first_air_date).format("MMM D, YYYY")})]})]},i.id)})})},kV=()=>{const{user:t,isAuth:e}=jn(s=>s.auth),[n,r]=A.useState([]),i=s=>{Promise.all(s.map(o=>io(`/movie/${o}`))).then(o=>{r(o)})};return A.useEffect(()=>{e&&(async()=>{const o=Lv(dl(Gs,"favourites"),ml("authorEmail","==",t.email),ml("isFavourite","==",!0));jv(o,a=>{const l=a.docs.map(u=>({...u.data(),id:u.id}));i(l.map(u=>u.movieId))})})()},[e]),v.jsx("div",{className:"pt-24 pb-10",children:v.jsxs(Yt,{children:[v.jsx("h2",{className:"mb-8 text-4xl text-white font-semibold",children:"Избранные"}),v.jsx(bV,{data:n,endpoint:"movie"})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sg=function(t,e){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},sg(t,e)};function xV(t,e){sg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ka=function(){return ka=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ka.apply(this,arguments)};function OV(t,e,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){a(),s=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){var c=this,f=Date.now()-o,h=arguments;if(s)return;function p(){o=Date.now(),n.apply(c,h)}function m(){i=void 0}r&&!i&&p(),a(),r===void 0&&f>t?p():e!==!0&&(i=setTimeout(r?m:p,r===void 0?t-f:t))}return u.cancel=l,u}var Ys={Pixel:"Pixel",Percent:"Percent"},FE={unit:Ys.Percent,value:.8};function VE(t){return typeof t=="number"?{unit:Ys.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:Ys.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:Ys.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),FE):(console.warn("scrollThreshold should be string or number"),FE)}var PV=function(t){xV(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var s=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(s,r.props.scrollThreshold):r.isElementAtBottom(s,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=s.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=OV(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?ka(ka({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=VE(r);return s.unit===Ys.Pixel?n.scrollTop<=s.value+i-n.scrollHeight+1:n.scrollTop<=s.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=VE(r);return s.unit===Ys.Pixel?n.scrollTop+i>=n.scrollHeight-s.value:n.scrollTop+i>=s.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=ka({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Ye.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},Ye.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&Ye.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},Ye.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(A.Component);const RV=({data:t,fromSearch:e,mediaType:n})=>{const{url:r}=jn(o=>o.home),i=as(),s=t.poster_path?r.poster+t.poster_path:ih;return v.jsxs("div",{className:"movieCard",onClick:()=>i(`/${t.media_type||n}/${t.id}`),children:[v.jsxs("div",{className:"posterBlock",children:[v.jsx(Qi,{className:"posterImg",src:s}),!e&&v.jsxs(Ye.Fragment,{children:[v.jsx(sh,{rating:t.vote_average.toFixed(1)}),v.jsx(oh,{data:t.genre_ids.slice(0,2)})]})]}),v.jsxs("div",{className:"textBlock",children:[v.jsx("span",{className:"title",children:t.title||t.name}),v.jsx("span",{className:"date",children:ao(t.release_date).format("MMM D, YYYY")})]})]})},NV=()=>{var u,c;const[t,e]=A.useState(null),[n,r]=A.useState(1),[i,s]=A.useState(!1),{query:o}=sy(),a=()=>{s(!0),io(`/search/multi?query=${o}&page=${n}`).then(f=>{e(f),r(h=>h+1),s(!1)})},l=()=>{io(`/search/multi?query=${o}&page=${n}`).then(f=>{t!=null&&t.results?e({...t,results:[...t==null?void 0:t.results,...f.results]}):e(f),r(h=>h+1)})};return A.useEffect(()=>{r(1),a()},[o]),v.jsxs("div",{className:"searchResultsPage",children:[i&&v.jsx("p",{className:"text-white text-3xl",children:"Данные грузятся...."}),!i&&v.jsx(Yt,{children:((u=t==null?void 0:t.results)==null?void 0:u.length)>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"pageTitle",children:`Search ${(t==null?void 0:t.total_results)>1?"results":"result"} of '${o}'`}),v.jsx(PV,{className:"content",dataLength:((c=t==null?void 0:t.results)==null?void 0:c.length)||[],next:l,hasMore:n<=(t==null?void 0:t.total_pages),loader:v.jsx("p",{className:"text-white text-3xl",children:"Данные подгружаются...."}),children:t==null?void 0:t.results.map((f,h)=>{if(f.media_type!=="person")return v.jsx(RV,{data:f,fromSearch:!0},h)})})]}):v.jsx("span",{className:"resultNotFound",children:"Sorry, Results not found!"})})]})};function AV(){const t=gy();jn(r=>r.home),A.useEffect(()=>{e(),n(),tx(Dn,r=>{t(r?U2({email:r.email,displayName:r.displayName}):iI())})},[]);const e=()=>{io("/configuration").then(r=>{const i={backdrop:r.images.secure_base_url+"original",poster:r.images.secure_base_url+"original",profile:r.images.secure_base_url+"original"};t(A2(i))})},n=async()=>{let r=[],i=["tv","movie"],s={};i.forEach(a=>{r.push(io(`/genre/${a}/list`))}),(await Promise.all(r)).map(({genres:a})=>a.map(l=>s[l.id]=l)),t(D2(s))};return v.jsx(AR,{children:v.jsxs("div",{className:"flex flex-col min-h-screen",children:[v.jsx(FD,{}),v.jsx("div",{className:"flex-1 flex-grow",children:v.jsxs(xR,{children:[v.jsx(bi,{path:"/",element:v.jsx(tL,{})}),v.jsx(bi,{path:"/sign-in",element:v.jsx(IV,{})}),v.jsx(bi,{path:"/sign-up",element:v.jsx(CV,{})}),v.jsx(bi,{path:"/favourites",element:v.jsx(kV,{})}),v.jsx(bi,{path:"/:mediaType/:id",element:v.jsx(TV,{})}),v.jsx(bi,{path:"/search/:query",element:v.jsx(NV,{})})]})}),v.jsx(VD,{})]})})}const DV=T2({reducer:{home:L2,auth:F2}});op.createRoot(document.getElementById("root")).render(v.jsx(BA,{store:DV,children:v.jsx(AV,{})}));
